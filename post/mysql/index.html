<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="aoian,aoian.top,Aoian">
<meta name="description" content="I am Aoian,This is my blog~
Thank you for your visit.">
<meta name="theme-color" content="#DBE8F6">
<title>朝花夕拾 Mysql | Hi Aoian~</title>
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/favicon.ico?v=1616939711722">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/css/gemini.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/styles/main.css">

<script src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>




<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?644d5a14d658ceec13435a05e514ac65";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>


  <meta name="description" content="朝花夕拾 Mysql" />
  <meta name="keywords" content="MySQL" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Hi Aoian~</span>
            </a>  
          
        </div>
        
          <p class="subtitle">花有重开日,人无再少年</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> 友情链接
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active language" data-lan="index">文章目录</span>
            <span id="metaSideBar" class="sidebar-title-item language" data-lan="preview">站点概览</span>
          </div>
        </div>
      
      <div class="sidebar-body gemini" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/images/avatar.png"/>
    <p class="site-author-name">Aoian</p>
    
    <div class="site-description right-motion">
      
        <p id="binft">欢迎访问~</p>
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">4</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">2</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">2</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://aoianz.github.io/atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
        
          
            <a class="social-img" href="#">
              <img src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main" />
              <i class="fa fa-globe" title="" ></i>
            </a>
          
        
      </div>
    </div>
  



  <div style="width: 100%; position: relative;">
    <canvas id="canvasDiyBlock" style="width:100%;">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
    <script src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/js/magic/clock.js"></script>
  </div>

</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#21%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><strong>2.1数据库基础知识</strong></a><br>
*
<ul>
<li><a href="#211%E5%88%9B%E5%BB%BA%E5%92%8C%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93">2.1.1创建和查看数据库</a></li>
<li><a href="#212%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93">2.1.2修改数据库</a></li>
<li><a href="#213%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><strong>2.1.3删除数据库</strong></a></li>
</ul>
</li>
<li><a href="#22%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><strong>2.2数据类型</strong></a>
<ul>
<li><a href="#221-%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B">2.2.1 整数类型</a></li>
<li><a href="#222%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%AE%9A%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B">2.2.2浮点数类型与定点数类型</a></li>
<li><a href="#223%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B">2.2.3日期与时间类型</a></li>
<li><a href="#224-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%B1%BB%E5%9E%8B">2.2.4 字符串和二进制类型</a>
<ul>
<li><a href="#1char%E5%92%8Cvarchar%E7%B1%BB%E5%9E%8B">1.CHAR和VARCHAR类型:</a></li>
<li><a href="#2binary%E5%92%8Cvarbinary%E7%B1%BB%E5%9E%8B">2.BINARY和VARBINARY类型:</a></li>
<li><a href="#3text%E7%B1%BB%E5%9E%8B">3.TEXT类型:</a></li>
<li><a href="#4blob%E7%B1%BB%E5%9E%8B">4.BLOB类型:</a></li>
<li><a href="#5enum%E7%B1%BB%E5%9E%8B">5.ENUM类型:</a></li>
<li><a href="#6set%E7%B1%BB%E5%9E%8B">6.SET类型:</a></li>
<li><a href="#7bit%E7%B1%BB%E5%9E%8B">7.BIT类型:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#23%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8">2.3创建数据表</a><br>
*
<ul>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E8%A1%A8">修改数据表</a></li>
<li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E8%A1%A8">删除数据表</a></li>
</ul>
</li>
<li><a href="#24%E8%A1%A8%E7%9A%84%E7%BA%A6%E6%9D%9F"><strong>2.4表的约束</strong></a><br>
*
<ul>
<li><a href="#241-%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F">2.4.1 主键约束;</a></li>
<li><a href="#242%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F">2.4.2非空约束</a></li>
<li><a href="#243%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F">2.4.3唯一约束</a></li>
<li><a href="#244%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F">2.4.4默认约束</a></li>
</ul>
</li>
<li><a href="#25%E8%AE%BE%E7%BD%AE%E8%A1%A8%E7%9A%84%E5%AD%97%E6%AE%B5%E5%80%BC%E8%87%AA%E5%8A%A8%E5%A2%9E%E5%8A%A0">2.5设置表的字段值自动增加</a></li>
<li><a href="#26%E7%B4%A2%E5%BC%95">2.6索引</a>
<ul>
<li><a href="#261%E7%B4%A2%E5%BC%95%E7%9A%84%E6%A6%82%E5%BF%B5">2.6.1索引的概念</a></li>
<li><a href="#262-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95">2.6.2 创建索引</a>
<ul>
<li><a href="#1%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%9A%84%E6%97%B6%E5%80%99%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95">&gt; <strong>1.创建表的时候创建索引</strong></a>
<ul>
<li><a href="#1%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95">&gt;1.创建普通索引</a></li>
<li><a href="#2%E5%88%9B%E5%BB%BA%E5%94%AF%E4%B8%80%E6%80%A7%E7%B4%A2%E5%BC%95">&gt;2.创建唯一性索引</a></li>
<li><a href="#3%E5%88%9B%E5%BB%BA%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95">&gt;3.创建全文索引</a></li>
<li><a href="#4%E5%88%9B%E5%BB%BA%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95">&gt;4.创建单列索引</a></li>
<li><a href="#5%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%88%97%E7%B4%A2%E5%BC%95">&gt;5.创建多列索引</a></li>
<li><a href="#6%E5%88%9B%E5%BB%BA%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95">&gt;6.创建空间索引</a></li>
</ul>
</li>
<li><a href="#2%E4%BD%BF%E7%94%A8create-index%E8%AF%AD%E5%8F%A5%E5%9C%A8%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E8%A1%A8%E4%B8%8A%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><strong>2.使用CREATE INDEX语句在已经存在的表上创建索引</strong></a>
<ul>
<li><a href="#1%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95-2">&gt;1.创建普通索引</a></li>
<li><a href="#2%E5%88%9B%E5%BB%BA%E5%94%AF%E4%B8%80%E6%80%A7%E7%B4%A2%E5%BC%95-2">&gt;2.创建唯一性索引</a></li>
<li><a href="#3%E5%88%9B%E5%BB%BA%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95">&gt;3.创建单列索引</a></li>
<li><a href="#4%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%88%97%E7%B4%A2%E5%BC%95">&gt;4.创建多列索引</a></li>
<li><a href="#5%E5%88%9B%E5%BB%BA%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95">&gt;5.创建全文索引</a></li>
<li><a href="#6%E5%88%9B%E5%BB%BA%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95-2">&gt;6.创建空间索引</a></li>
</ul>
</li>
<li><a href="#3%E4%BD%BF%E7%94%A8alter-table-%E8%AF%AD%E5%8F%A5%E5%9C%A8%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E7%9A%84%E8%A1%A8%E4%B8%8A%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95">3.使用ALTER TABLE 语句在已经存在的表上创建索引</a>
<ul>
<li><a href="#1%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95-3">&gt;1.创建普通索引</a></li>
<li><a href="#2%E5%88%9B%E5%BB%BA%E5%94%AF%E4%B8%80%E6%80%A7%E7%B4%A2%E5%BC%95-3">&gt;2.创建唯一性索引</a></li>
<li><a href="#3%E5%88%9B%E5%BB%BA%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95-2">&gt;3.创建单列索引</a></li>
<li><a href="#4%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%88%97%E7%B4%A2%E5%BC%95-2">&gt;4.创建多列索引</a></li>
<li><a href="#5%E5%88%9B%E5%BB%BA%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95-2">&gt;5.创建全文索引</a></li>
<li><a href="#6%E5%88%9B%E5%BB%BA%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95-3">&gt;6.创建空间索引</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#263%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95">2.6.3删除索引</a>
<ul>
<li><a href="#1%E4%BD%BF%E7%94%A8alter-table%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95">&gt; 1.使用alter table删除索引</a></li>
<li><a href="#2%E4%BD%BF%E7%94%A8-drop-index%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95">&gt; 2.使用 drop index删除索引</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#31%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><strong>3.1添加数据</strong></a><br>
*
<ul>
<li><a href="#311%E4%B8%BA%E8%A1%A8%E4%B8%AD%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">&gt; 3.1.1为表中所有字段添加数据;</a>
<ul>
<li><a href="#1insert%E8%AF%AD%E5%8F%A5%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5%E5%90%8D">&gt; 1.insert语句中指定所有字段名</a></li>
<li><a href="#2insert%E8%AF%AD%E5%8F%A5%E4%B8%AD%E4%B8%8D%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5%E5%90%8D">&gt; 2.insert语句中不指定字段名</a></li>
</ul>
</li>
<li><a href="#312%E4%B8%BA%E8%A1%A8%E4%B8%AD%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">&gt;3.1.2为表中指定的字段添加数据</a></li>
<li><a href="#313%E5%90%8C%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%9A%E6%9D%A1%E8%AE%B0%E5%BD%95">&gt;3.1.3同时添加多条记录</a></li>
</ul>
</li>
<li><a href="#32%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE">3.2更新数据</a><br>
*<br>
*<br>
* <a href="#1update-%E6%9B%B4%E6%96%B0%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE">&gt; 1.update 更新部分数据</a><br>
* <a href="#2update-%E6%9B%B4%E6%96%B0%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE">&gt; 2.update 更新全部数据</a></li>
<li><a href="#33-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">3.3 删除数据</a><br>
*<br>
*<br>
* <a href="#1%E5%88%A0%E9%99%A4%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE">&gt;1.删除部分数据</a><br>
* <a href="#2%E5%88%A0%E9%99%A4%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE">&gt;2.删除全部数据</a><br>
* <a href="#1delete">&gt;1.delete</a><br>
* <a href="#2truncate">&gt;2.truncate</a></li>
<li><a href="#41-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><strong>4.1 简单查询</strong></a><br>
*
<ul>
<li><a href="#411-select-%E8%AF%AD%E5%8F%A5">&gt;4.1.1 select 语句</a></li>
<li><a href="#412-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5">&gt;4.1.2 查询所有字段</a>
<ul>
<li><a href="#1%E5%9C%A8select%E8%AF%AD%E5%8F%A5%E4%B8%AD%E6%8C%87%E5%AE%9A%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5">&gt; 1.在select语句中指定所有字段</a></li>
<li><a href="#2%E5%9C%A8select%E8%AF%AD%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%98%9F%E5%8F%B7%E9%80%9A%E9%85%8D%E7%AC%A6%E4%BB%A3%E6%9B%BF%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5">&gt; 2.在select语句中使用星号(*)通配符代替所有字段</a></li>
</ul>
</li>
<li><a href="#413-%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5">&gt;4.1.3 查询指定字段</a></li>
</ul>
</li>
<li><a href="#42-%E6%8C%89%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">4.2 按条件查询</a><br>
*
<ul>
<li><a href="#421%E5%B8%A6%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E6%9F%A5%E8%AF%A2">&gt;4.2.1带关系运算符查询</a></li>
<li><a href="#422-%E5%B8%A6in%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E6%9F%A5%E8%AF%A2">&gt;4.2.2 带in关键字的查询</a></li>
<li><a href="#423%E5%B8%A6between-and-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2">&gt;4.2.3带between and 关键字查询</a></li>
<li><a href="#424-%E7%A9%BA%E5%80%BC%E6%9F%A5%E8%AF%A2">&gt;4.2.4 空值查询</a></li>
<li><a href="#425-%E5%B8%A6distinct%E5%85%B3%E9%94%AE%E8%AF%8D%E7%9A%84%E6%9F%A5%E8%AF%A2">&gt;4.2.5 带distinct关键词的查询</a></li>
<li><a href="#426-%E5%B8%A6like%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E6%9F%A5%E8%AF%A2">&gt;4.2.6 带like关键字的查询</a>
<ul>
<li><a href="#1-%E7%99%BE%E5%88%86%E5%8F%B7-%E9%80%9A%E9%85%8D%E7%AC%A6">1. 百分号(%) 通配符</a></li>
<li><a href="#2-%E4%B8%8B%E5%88%92%E7%BA%BF_-%E9%80%9A%E9%85%8D%E7%AC%A6">2. 下划线(_) 通配符</a></li>
<li><a href="#3%E4%BD%BF%E7%94%A8%E7%99%BE%E5%88%86%E5%8F%B7%E5%92%8C%E4%B8%8B%E5%88%92%E7%BA%BF%E9%80%9A%E9%85%8D%E7%AC%A6%E8%BF%9B%E8%A1%8C%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C">3.使用百分号和下划线通配符进行查询操作</a></li>
</ul>
</li>
<li><a href="#427-%E5%B8%A6and%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">&gt;4.2.7 带and关键字的多条件查询</a></li>
<li><a href="#428-%E5%B8%A6or%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">&gt;4.2.8 带or关键字的多条件查询</a></li>
</ul>
</li>
<li><a href="#43-%E9%AB%98%E7%BA%A7%E6%9F%A5%E8%AF%A2">4.3 高级查询</a><br>
*
<ul>
<li><a href="#431-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">&gt;4.3.1 聚合函数</a>
<ul>
<li><a href="#1count%E5%87%BD%E6%95%B0">&gt;1.count()函数</a></li>
<li><a href="#2sum%E5%87%BD%E6%95%B0">&gt;2.sum()函数</a></li>
<li><a href="#3avg%E5%87%BD%E6%95%B0">&gt;3.avg()函数</a></li>
<li><a href="#4max%E5%87%BD%E6%95%B0">&gt;4.max()函数</a></li>
<li><a href="#5min%E5%87%BD%E6%95%B0">&gt;5.min()函数</a></li>
</ul>
</li>
<li><a href="#432-%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F">&gt;4.3.2 对查询结果排序</a></li>
<li><a href="#433-%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2">&gt; 4.3.3 分组查询</a>
<ul>
<li><a href="#1%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8group-by-%E5%88%86%E7%BB%84">&gt;1.单独使用group by 分组</a></li>
<li><a href="#2group-by%E5%92%8C%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8">&gt;2.group by和聚合函数一起使用</a></li>
<li><a href="#3-group-by-%E5%92%8C-having%E5%85%B3%E9%94%AE%E8%AF%8D%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8">&gt;3. group by 和 having关键词一起使用</a></li>
</ul>
</li>
<li><a href="#434-%E4%BD%BF%E7%94%A8limit%E9%99%90%E5%88%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E6%95%B0%E9%87%8F">&gt;4.3.4 使用limit限制查询结果的数量</a></li>
<li><a href="#435-%E5%87%BD%E6%95%B0%E5%88%97%E8%A1%A8">&gt;4.3.5 函数(列表)</a></li>
</ul>
</li>
<li><a href="#44-%E4%B8%BA%E8%A1%A8%E5%92%8C%E5%AD%97%E6%AE%B5%E5%8F%96%E5%88%AB%E5%90%8D">4.4 为表和字段取别名</a><br>
*
<ul>
<li><a href="#441-%E4%B8%BA%E8%A1%A8%E5%8F%96%E5%88%AB%E5%90%8D">&gt; 4.4.1 为表取别名</a></li>
<li><a href="#442-%E4%B8%BA%E5%AD%97%E6%AE%B5%E5%8F%96%E5%88%AB%E5%90%8D">&gt; 4.4.2 为字段取别名</a></li>
</ul>
</li>
<li><a href="#51-%E5%A4%96%E9%94%AE">5.1 外键</a><br>
*
<ul>
<li><a href="#511-%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%96%E9%94%AE">&gt; 5.1.1 什么是外键</a></li>
<li><a href="#512-%E4%B8%BA%E8%A1%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F">&gt;5.1.2 为表中添加外键约束</a></li>
<li><a href="#513-%E5%88%A0%E9%99%A4%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F">&gt;5.1.3 删除外键约束</a></li>
</ul>
</li>
<li><a href="#52-%E6%93%8D%E4%BD%9C%E5%85%B3%E8%81%94%E8%A1%A8">5.2 操作关联表</a><br>
*
<ul>
<li><a href="#521-%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB">&gt;5.2.1 关联关系</a></li>
<li><a href="#522-%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE">&gt;5.2.2 添加数据</a></li>
<li><a href="#523-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE">&gt;5.2.3 删除数据</a></li>
</ul>
</li>
<li><a href="#53-%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2">5.3 连接查询</a><br>
*<br>
*<br>
* <a href="#531%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5">&gt; 5.3.1交叉连接</a><br>
* <a href="#532-%E5%86%85%E8%BF%9E%E6%8E%A5">&gt; 5.3.2 内连接</a><br>
* <a href="#533-%E5%A4%96%E8%BF%9E%E6%8E%A5">&gt; 5.3.3 外连接</a><br>
* <a href="#%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2">&gt;全外连接查询</a><br>
* <a href="#534-%E5%A4%8D%E5%90%88%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">&gt;5.3.4 复合条件查询</a>
<ul>
<li><a href="#54%E5%AD%90%E6%9F%A5%E8%AF%A2">5.4	子查询</a><br>
*
<ul>
<li><a href="#541-%E5%B8%A6in%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">&gt;5.4.1 带IN关键字的子查询</a></li>
<li><a href="#542-%E5%B8%A6exists%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">&gt;5.4.2 带exists关键字的子查询</a></li>
<li><a href="#543-%E5%B8%A6any%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">&gt; 5.4.3 带any关键字的子查询</a></li>
<li><a href="#544-%E5%B8%A6all%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">&gt;5.4.4 带all关键字的子查询</a></li>
<li><a href="#545-%E5%B8%A6%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">&gt;5.4.5 带比较运算符的子查询</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#61-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86">6.1 事务管理</a><br>
*<br>
*<br>
* <a href="#611-%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5">&gt; 6.1.1 事务的概念</a></li>
<li><a href="#62-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA">6.2 存储过程的创建</a><br>
*
<ul>
<li><a href="#621-%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">&gt; 6.2.1 创建存储过程</a></li>
<li><a href="#622-%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8">&gt; 6.2.2 变量的使用</a></li>
<li><a href="#623-%E5%AE%9A%E4%B9%89%E6%9D%A1%E4%BB%B6%E5%92%8C%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F">&gt; 6.2.3 定义条件和处理程序</a>
<ul>
<li><a href="#1%E5%AE%9A%E4%B9%89%E6%9D%A1%E4%BB%B6">&gt; 1.定义条件</a></li>
<li><a href="#2-%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F">&gt; 2. 定义处理程序</a></li>
</ul>
</li>
<li><a href="#624-%E5%85%89%E6%A0%87%E7%9A%84%E4%BD%BF%E7%94%A8">&gt; 6.2.4 光标的使用</a>
<ul>
<li><a href="#1-%E5%85%89%E6%A0%87%E7%9A%84%E5%A3%B0%E6%98%8E">&gt; 1. 光标的声明</a></li>
<li><a href="#2-%E5%85%89%E6%A0%87%E7%9A%84%E4%BD%BF%E7%94%A8">&gt; 2. 光标的使用</a></li>
<li><a href="#3-%E5%85%89%E6%A0%87%E7%9A%84%E5%85%B3%E9%97%AD">&gt; 3. 光标的关闭</a></li>
</ul>
</li>
<li><a href="#625-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%9A%84%E4%BD%BF%E7%94%A8">&gt; 6.2.5 流程控制的使用</a>
<ul>
<li><a href="#1-if%E8%AF%AD%E5%8F%A5">&gt;1. if语句</a></li>
<li><a href="#2-case-%E8%AF%AD%E5%8F%A5">&gt; 2. case 语句</a></li>
<li><a href="#3loop-%E8%AF%AD%E5%8F%A5">&gt; 3.loop 语句</a></li>
<li><a href="#4-leave%E8%AF%AD%E5%8F%A5">&gt; 4. leave语句</a></li>
<li><a href="#5-iterate-%E8%AF%AD%E5%8F%A5">&gt; 5.  iterate 语句</a></li>
<li><a href="#6-repeat-%E8%AF%AD%E5%8F%A5">&gt; 6. repeat 语句</a></li>
<li><a href="#7-where-%E8%AF%AD%E5%8F%A5">&gt; 7.  where 语句</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#63-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E4%BD%BF%E7%94%A8"><strong>6.3 存储过程的使用</strong></a><br>
*
<ul>
<li><a href="#631-%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">&gt; 6.3.1 调用存储过程</a></li>
<li><a href="#632-%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">&gt;6.3.2 查看存储过程</a>
<ul>
<li><a href="#1-show-status-%E8%AF%AD%E5%8F%A5%E4%B8%AD%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81">&gt; 1. show status 语句中查看存储过程的状态</a></li>
<li><a href="#2-show-create-%E8%AF%AD%E5%8F%A5%E4%B8%AD%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E5%88%9B%E5%BB%BA%E8%AF%AD%E5%8F%A5">&gt; 2. show create 语句中查看存储过程的状态&amp;创建语句</a></li>
<li><a href="#3%E4%BB%8Einformation_schemaroutine-%E8%A1%A8%E4%B8%AD%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E4%BF%A1%E6%81%AF">&gt; 3.从information_schema.Routine 表中查看存储过程的信息</a></li>
</ul>
</li>
<li><a href="#633-%E4%BF%AE%E6%94%B9%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">&gt; 6.3.3 修改存储过程</a></li>
<li><a href="#634-%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">&gt; 6.3.4 删除存储过程</a></li>
</ul>
</li>
<li><a href="#71-%E8%A7%86%E5%9B%BE%E6%A6%82%E8%BF%B0">7.1 视图概述</a></li>
<li><a href="#72-%E8%A7%86%E5%9B%BE%E7%AE%A1%E7%90%86">7.2 视图管理</a><br>
*
<ul>
<li><a href="#721-%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F">&gt; 7.2.1 创建视图的语法格式:</a></li>
<li><a href="#722-%E5%9C%A8%E5%8D%95%E6%A0%87%E4%B8%8A%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE">&gt;7.2.2 在单标上创建视图</a></li>
<li><a href="#723-%E5%9C%A8%E5%A4%9A%E8%A1%A8%E4%B8%8A%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE">&gt; 7.2.3 在多表上创建视图</a></li>
<li><a href="#724-%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE">&gt;  7.2.4 查看视图</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8describe-%E8%AF%AD%E5%8F%A5%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE">&gt; 1. 使用describe 语句查看视图</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8-show-table-status">&gt; 2. 使用 show table status</a></li>
<li><a href="#3-%E4%BD%BF%E7%94%A8-show-create-view">&gt; 3.  使用 show create view</a></li>
</ul>
</li>
<li><a href="#725-%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE">&gt; 7.2.5 修改视图</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8-create-or-replace-view-%E8%AF%AD%E5%8F%A5%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE">&gt; 1. 使用 create or replace view 语句修改视图;</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8-alter-%E8%AF%AD%E5%8F%A5%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE">&gt; 2. 使用 alter 语句修改视图;</a></li>
</ul>
</li>
<li><a href="#726-%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE">&gt; 7.2.6 更新视图</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8update-%E8%AF%AD%E5%8F%A5%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE">1. 使用update 语句更新视图</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8insert-%E8%AF%AD%E5%8F%A5%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE">2. 使用insert 语句更新视图</a></li>
<li><a href="#3-%E4%BD%BF%E7%94%A8delete%E8%AF%AD%E5%8F%A5%E6%9B%B4%E6%96%B0%E8%A7%86%E5%9B%BE">3. 使用delete语句更新视图</a></li>
</ul>
</li>
<li><a href="#727-%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE">7.2.7 删除视图</a></li>
</ul>
</li>
<li><a href="#81-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%98%E5%8E%9F">8.1 数据备份与还原</a><br>
*
<ul>
<li><a href="#811-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%87%E4%BB%BD">8.1.1 数据的备份</a>
<ul>
<li><a href="#1-%E5%A4%87%E4%BB%BD%E5%8D%95%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93">1. 备份单个数据库</a></li>
<li><a href="#2-%E5%A4%87%E4%BB%BD%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93">2. 备份多个数据库</a></li>
<li><a href="#3-%E5%A4%87%E4%BB%BD%E6%89%80%E4%BB%A5%E6%95%B0%E6%8D%AE%E5%BA%93">3. 备份所以数据库</a></li>
</ul>
</li>
<li><a href="#812-%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BF%98%E5%8E%9F">8.1.2 数据的还原</a>
<ul>
<li><a href="#1-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93">1. 删除数据库</a></li>
<li><a href="#2-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93">2. 创建数据库</a></li>
<li><a href="#3-%E8%BF%98%E5%8E%9F%E6%95%B0%E6%8D%AE%E5%BA%93">3. 还原数据库</a></li>
<li><a href="#4-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE">4. 查看数据</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#82-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86">8.2 用户管理</a><br>
*
<ul>
<li><a href="#821-user%E8%A1%A8">8.2.1 user表</a>
<ul>
<li><a href="#1-%E7%94%A8%E6%88%B7%E5%88%97">1. 用户列</a></li>
<li><a href="#2-%E6%9D%83%E9%99%90%E5%88%97">2. 权限列</a></li>
<li><a href="#3%E5%AE%89%E5%85%A8%E5%88%97">3.安全列</a></li>
<li><a href="#4-%E8%B5%84%E6%BA%90%E6%8E%A7%E5%88%B6%E5%88%97">4. 资源控制列</a></li>
</ul>
</li>
<li><a href="#822-%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7">8.2.2 创建普通用户</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8-grant-%E8%AF%AD%E5%8F%A5%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">1. 使用 grant 语句创建用户</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8-create-user-%E8%AF%AD%E5%8F%A5%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">2. 使用 create user 语句创建用户</a></li>
<li><a href="#3-%E4%BD%BF%E7%94%A8-insert-%E8%AF%AD%E5%8F%A5%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7">3. 使用 insert 语句创建用户</a></li>
</ul>
</li>
<li><a href="#823-%E5%88%A0%E9%99%A4%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7">8.2.3 删除普通用户</a>
<ul>
<li><a href="#1-%E4%BD%BF%E7%94%A8drop-user-%E8%AF%AD%E5%8F%A5%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7">1. 使用drop user 语句删除用户</a></li>
<li><a href="#2-%E4%BD%BF%E7%94%A8-delete-%E8%AF%AD%E5%8F%A5%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7">2. 使用 delete 语句删除用户</a></li>
</ul>
</li>
<li><a href="#824-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81">8.2.4 修改用户密码</a>
<ul>
<li><a href="#1-%E4%BF%AE%E6%94%B9-root%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81">1. 修改 root用户密码</a></li>
<li><a href="#2-root-%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81">2. root 用户修改普通用户的密码</a></li>
<li><a href="#3-%E6%99%AE%E9%80%9A%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81">3. 普通用户修改密码</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#83-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">8.3 权限管理</a><br>
*
<ul>
<li><a href="#831-mysql%E7%9A%84%E6%9D%83%E9%99%90">8.3.1 MySQL的权限</a></li>
<li><a href="#832-%E6%8E%88%E4%BA%88%E6%9D%83%E9%99%90">8.3.2 授予权限</a></li>
<li><a href="#833-%E6%9F%A5%E7%9C%8B%E6%9D%83%E9%99%90">8.3.3 查看权限</a></li>
<li><a href="#834-%E6%94%B6%E5%9B%9E%E6%9D%83%E9%99%90">8.3.4 收回权限</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // 保存li元素
      if (elem.children[0] && elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // 处理不是从#一级标题开始目录
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://aoianz.github.io/post/mysql/">
      朝花夕拾 Mysql
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2021-01-11 22:18:18">2021-01-11</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://aoianz.github.io/tag/mfzycuj_f/">
        <span>MySQL</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>80<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>18778<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
    
    
    <span id="/post/mysql/" data-flag-title="朝花夕拾 Mysql" class="meta-item pc-show leancloud_visitors">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-eye"></i>
      <span><span class="language" data-lan="view">浏览量</span>：<span class="leancloud-visitors-count"></span></span>
    </span>
    
  </div>
</section>
            <div class="post-body next-md-body" id="post_body">
              <h3 id="21数据库基础知识"><strong>2.1数据库基础知识</strong></h3>
<blockquote>
<p>1.Dos登录</p>
</blockquote>
<p>命令:mysql -h hostname -u username -p</p>
<p>例如:mysql -h 123 -uroot -p</p>
<p>简写:mysql -u root -p</p>
<blockquote>
<p>复合主键 就是指你表的主键含有一个以上的字段组成</p>
</blockquote>
<pre><code class="language-sql">&gt; create table test 
&gt; ( 
&gt;   name varchar(19), 
&gt;   id number, 
&gt;   value varchar(10), 
&gt;   primary key (name,id) 
&gt; ) 
</code></pre>
<blockquote>
<p>上面的name和id字段组合起来就是你test表的复合主键<br>
它的出现是因为你的name字段可能会出现重名，所以要加上ID字段这样就可以保证你记录的唯一性<br>
一般情况下，主键的字段长度和字段数目要越少越好</p>
</blockquote>
<hr>
<h5 id="211创建和查看数据库">2.1.1创建和查看数据库</h5>
<ul>
<li>创建数据库</li>
</ul>
<pre><code class="language-sql">语法:create database 数据库名称;
create database itcast;/*创建数据库itcast:*/
</code></pre>
<ul>
<li>查看数据库</li>
</ul>
<pre><code class="language-sql">语法:show databases/*查看数据库*/
</code></pre>
<ul>
<li>查看某个数据库</li>
</ul>
<pre><code class="language-sql">语法:show create database 数据库名称;
例如:show create database itcase;/*查看数据库itcase信息*/
</code></pre>
<ul>
<li>使用数据库</li>
</ul>
<pre><code class="language-sql">语法:use 数据库名称;
例如:use itcast;/*使用数据库itcast*/
</code></pre>
<hr>
<h5 id="212修改数据库">2.1.2修改数据库</h5>
<ul>
<li>alter 数据库名称;修改数据库</li>
</ul>
<pre><code class="language-sql">语法:alter database 数据库名称 default character set 编码方式 collate 编码方式_bin
例如:修改数据库,将数据库itcast的编码修改为gbk
&gt; alter database itcast default character set gbk collate gbk_bin;
</code></pre>
<hr>
<h5 id="213删除数据库"><strong>2.1.3删除数据库</strong></h5>
<pre><code class="language-sql">语法:drop database 数据库名称;
例如:drop database itcast;/*删除名称为itcast的数据库*/
</code></pre>
<hr>
<h3 id="22数据类型"><strong>2.2数据类型</strong></h3>
<h4 id="221-整数类型">2.2.1 整数类型</h4>
<p>1.在MySQL数据库中，经常需要存储整数数值。根据数值取值范围的不同，MySQL中的整数类型可分为5种，分别是<br>
TINYINTtinyint、SMALLINT、 MEDIUMINT、INT和BIGINT。不同整数类型的取值范围可以根据字节数计算出来，例如，<br>
TINYINT类型的整数占用1个字节，1个字节是8位，那么，TINYINT类型无符号数的最大值就是28-1，即255。 同理可以算出其它不同整数类型的取值范围。</p>
<p><mark>**注意:**在足够使用的情况下选择选择尽量小的数据类型</mark></p>
<hr>
<h4 id="222浮点数类型与定点数类型">2.2.2浮点数类型与定点数类型</h4>
<p>2.在MySQL数据库中，存储的小数都是使用浮点数和定点数来表示的。浮点数的类型有两种，分别是单精度浮点数类型(float)和双精度浮点类型(double)。而<mark>定点数类型只有decimal</mark>，类型。</p>
<p>浮点型:非精准数据类型,有误差</p>
<p>定点型:精准类型</p>
<hr>
<h4 id="223日期与时间类型">2.2.3日期与时间类型</h4>
<p>3.为了方便在数据库中存储日期和时间，MySQL提供了表示日期和时间的数据类型,分别是YEAR、DATE、TIME、DATETIME和timestamp</p>
<p>year:1字节</p>
<p>例如:year 2014 ='2014'  p35</p>
<p>'00'~'69'   20??   58= 2058</p>
<p>'70'~'99'  19??    89 =1989</p>
<p>1.YEAR类型:(字符串类型与数字类型)'2020'	2020	'00-99'	1-99</p>
<p>2.DATE类型: '2020-06-21' 	'20200621'</p>
<p>current_data或now()<em>/表示<mark>当前日期</mark></em>/</p>
<p>3.TIME类型:表示时间值</p>
<blockquote>
<p>格式:HH:MM:SS</p>
</blockquote>
<p>current_data或now()表示当前<mark>系统时间</mark></p>
<p>4.DATATIME类型</p>
<p>now()表示当前<mark>日期和时间</mark></p>
<p>5.TIMESTAMP类型</p>
<p>与DATATIME类型显示形式相似,但取值范围比DATATIME类型小</p>
<hr>
<h4 id="224-字符串和二进制类型">2.2.4 字符串和二进制类型</h4>
<p>为了存储字符串、图片和声音等数据，MySQL提供了字符串和二进制类型。包括CHAR和VARCHAR类型、BINARY和VARBINARY类型、TEXT类型、BLOB类型ENUM类型、SET类型和BIT类型</p>
<h5 id="1char和varchar类型">1.CHAR和VARCHAR类型:</h5>
<p>​	CHAR和VARCHAR类型都用来表示字符串数据,VARCHAR可以储存可变字符串</p>
<blockquote>
<p>语法:CHAR(M)或VARVCHAR(M)		M指字符串的最大长度;</p>
<p>VARCHAR(4)所对应的数据所占用的字节数为实际长度加1;</p>
<p>char:浪费时间,但查询速度快;</p>
<p>varchar:节约空间,但查询速度慢</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">''</th>
<th style="text-align:left">''</th>
<th>4个字节</th>
<th>''</th>
<th>1个字节</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">'ab'</td>
<td style="text-align:left">'ab'</td>
<td>4个字节</td>
<td>'ab'</td>
<td>2个字节</td>
</tr>
<tr>
<td style="text-align:left">'abc'</td>
<td style="text-align:left">'abc'</td>
<td>4个字节</td>
<td>'abc'</td>
<td>3个字节</td>
</tr>
<tr>
<td style="text-align:left">'abcd'</td>
<td style="text-align:left">'abcd'</td>
<td>4个字节</td>
<td>'abcd'</td>
<td>4个字节</td>
</tr>
<tr>
<td style="text-align:left">'abcdef'</td>
<td style="text-align:left">'abcd'</td>
<td>4个字节</td>
<td>'abcd'</td>
<td>5个字节</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="2binary和varbinary类型">2.BINARY和VARBINARY类型:</h5>
<p>​	BINARY和VARBINARY类型类似CHAR和VARCHAR类型,不同的是,它们表示二进制数据</p>
<blockquote>
<p>语法:BINARY(M)或VARBINARY(M)	M指二进制数据的最大字节长度;</p>
<p>注意:BINARY类型的长度是固定的,如果数据的长度不足最大长度,将在<mark>数据的后面</mark>用&quot;\0&quot;补齐,最终达到指定长度.</p>
<p>例如,指定数据的类型是BINARY(3),当插入a时,实际储存的数据为&quot;a\0\0&quot;,当插入ab时,实际储存的数据是&quot;ab\0&quot;;</p>
</blockquote>
<hr>
<h5 id="3text类型">3.TEXT类型:</h5>
<p>TEXT类型用来表示大文本数据,例如,文章内容、评论等,它的类型分为4种;</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>储存范围</th>
<th>数据类型</th>
<th>储存范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYTEXT</td>
<td>0-255字节</td>
<td>MEDIUMTEXT</td>
<td>0-16777215字节</td>
</tr>
<tr>
<td>TEXT</td>
<td>0-65535字节</td>
<td>LONGTEXT</td>
<td>0-4294967295字节</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="4blob类型">4.BLOB类型:</h5>
<p>​	BLOB类型是一种特殊的二进制类型,它用于表示数据量大很大的二进制数据,例如 图片、PDF文档等</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>储存范围</th>
<th>数据类型</th>
<th>储存范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYBLOB</td>
<td>0-255字节</td>
<td>MEDIUMBLOB</td>
<td>0-16777215</td>
</tr>
<tr>
<td>BIOB</td>
<td>0-65535字节</td>
<td>LONGBILOB</td>
<td>4294967295</td>
</tr>
</tbody>
</table>
<blockquote>
<p>注意:BLOB类型数据是根据二进制编码进行比较和排序,而TEXT类型数据是根据文本模式进行比较和排序</p>
</blockquote>
<hr>
<h5 id="5enum类型">5.ENUM类型:</h5>
<p>ENUM类型又称为枚举类型</p>
<blockquote>
<p>ENUM('值1','值2','值3',...'值n')</p>
<p>注意:MYSQL中存入的是这个顺序编号,而不是列表中的值</p>
</blockquote>
<hr>
<h5 id="6set类型">6.SET类型:</h5>
<p>SET类型用于表示字符串对象,它的值可以有零个或多个,SET类型数据的定义格式与ENUM类型相似</p>
<blockquote>
<p>语法:SET('值1','值2','值3',...'值n')</p>
<p>注意:MYSQL中存入的是这个顺序编号,而不是列表中的值</p>
</blockquote>
<hr>
<h5 id="7bit类型">7.BIT类型:</h5>
<p>​	用于表示二进制数据</p>
<blockquote>
<p>语法:BIT(M)			M用于表示每个值的位数,范围是1-64;</p>
<p>注意:如果分配的BIT(M)类型的数据的长度小于M,将在数据的<mark>左边用0补齐</mark></p>
<blockquote>
<p>例如,为BIT(6)分配值b'101'与分配b'000101'相同</p>
</blockquote>
</blockquote>
<hr>
<h2 id="23创建数据表">2.3创建数据表</h2>
<pre><code class="language-sql">create database student;/*创建名为student*/
use itcase;/*使用数据库*/
create TABLE tb_grade/*创建名为tb_gradea的数据表*/
(
	id INT(11),/*举例*/
	name VARCHER(20),
	grade FLOAT
);
show tables;/*验证数据库是否创建成功*/ 
show create table tb_greade;/*查看数据表创建时的定义语句,查看表的字符编码*/
describe tb_greade;/*查看表的字段信息,包括字段名、字段类型等信息*/
</code></pre>
<blockquote>
<h4 id="修改数据表">修改数据表</h4>
</blockquote>
<p>​		1.修改表名;</p>
<pre><code class="language-sql">alter table 表名 rename 新表名;
alter table tb_grade rename(to) grade;
</code></pre>
<p>​		2.修改字段名;</p>
<pre><code class="language-sql">alter table 表名 change 旧字段名 新字段名 新数据类型;
alter table grade change name username verchar(20);/*name字段改为username,数据类型保持不变*/
desc greade;/*验证*/
</code></pre>
<p>​		3.修改字段的数据类型;</p>
<pre><code class="language-sql">alter table 表名 modify 字段名 数据类型;
alter table grade modify id int(20);/**/
</code></pre>
<p>​		4.添加字段;</p>
<pre><code class="language-sql">alter table 表名 add 新字段名 数据类型
	[约束条件][first|after 已存在的字段名]
alter table grade add age int(10);
alter table grade add age int(10) first;/*添加到第一位*/
alter table grade add age int(10) after id;/*添加到id后面*/
alter table grade add age int(10) not null first;/*不允许为空*/
</code></pre>
<p>​		5.删除字段;</p>
<pre><code class="language-sql">alter table 表名 drop 字段名;
alter table grade drop age;
</code></pre>
<p>​		6.修改字段的排列位置;</p>
<pre><code class="language-sql">alter table 表名 modify 字段名1 数据类型 first|after 字段名2;
字段名1 指要修改位置的字段;
first是可选参数,指的是将字段1修改为表的第一个字段;
after 字段名2 是将字段1插入到字段2后面;
alter table grade modify id int(10) after grade;/*将id字段插入到grade字段后面*/
</code></pre>
<hr>
<blockquote>
<h4 id="删除数据表">删除数据表</h4>
</blockquote>
<pre><code class="language-sql">drop table 表名;
drop table grade;
desc table grade;/*验证*/
</code></pre>
<hr>
<h2 id="24表的约束"><strong>2.4表的约束</strong></h2>
<ul>
<li>防止数据表中插入错误的数值,而定义的维护数据库完整性的规则</li>
</ul>
<table>
<thead>
<tr>
<th><strong>约束条件</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>PRIMARY KEY</td>
<td>主键约束，用于唯一标识对应的记录(主键唯一表示,值不能为空null );</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>外键约束</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>非空约束</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>唯一性约束</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>默认值约束，用于设置字段的默认值</td>
</tr>
</tbody>
</table>
<h4 id="241-主键约束">2.4.1 主键约束;</h4>
<p><mark>注意:每个数据表中最多只能有一个主键约束,定义为primary key的字段不能有重复值且不能为null值</mark></p>
<ul>
<li>1.单字段约束</li>
</ul>
<pre><code class="language-sql">语法: 字段名 数据类型 PRIMARY KEY
例如:创建一个数据表ex1,并设置id作为主键,SQL语句如下:
CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20),
	grade FLOAT
);
</code></pre>
<ul>
<li>2.多字段主键</li>
</ul>
<pre><code class="language-sql">语法:PRIMARY KAY(字段名1,字段名2,***字段名n)
例如:创建一个数据表ex2,在表中将stu_id和course_id两个字段共同作为主键,SQL语句如下:
CREATE TABLE ex2(
    stu_id INT,
	course_id FLOAT,
	PRIMARY KEY(stu_id,course_id)
);
</code></pre>
<h4 id="242非空约束">2.4.2非空约束</h4>
<ul>
<li>非空约束指的是字段的值不能为null,在MySQL中,非空约束是通过NOT NULL定义的;</li>
</ul>
<pre><code class="language-sql">语法: 字段名 数据类型 NOT NULL;
例如:CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT not null
	);
</code></pre>
<h4 id="243唯一约束">2.4.3唯一约束</h4>
<ul>
<li>保证数据表中字段的唯一性,即表中字段的值不能重复出现</li>
</ul>
<pre><code class="language-sql">语法: 字段名 数据类型 UNIQUE;
CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT UNIQUE
	);
ID为主键,name的字段不能为空值,grade字段为唯一值,该值不能重复
</code></pre>
<h4 id="244默认约束">2.4.4默认约束</h4>
<ul>
<li>用于给数据表中的字段<mark>添加指定默认值</mark></li>
</ul>
<pre><code class="language-sql">语法:字段名 数据类型 DEFAULT 默认值;
例如:CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT default 0/*默认值为0*/
	);
</code></pre>
<hr>
<h2 id="25设置表的字段值自动增加">2.5设置表的字段值自动增加</h2>
<ul>
<li>在数据表中，若想为表中插入的新记录自动生成唯一的ID，可以使用AUTO_INCREMENT约束来实现。<br>
AUTO_INCREMENT约束的字段可以是任何整数类型，默认情况下，该字段的值是从1开始自增的</li>
</ul>
<pre><code class="language-sql">语法: 字段名 数据类型 AUTO_INTCREMENT;
例如:创建一个数据表ex5,将表中的id字段设置为自动增加,SQL语句如下:
CREATE TABLE ex1(
    id INT PRIMARY KEY AUTO_INCREMENT, 
	name VARCHAR(20) NOT NULL,
	grade FLOAT UNIQUE
	);
</code></pre>
<hr>
<h2 id="26索引">2.6索引</h2>
<h3 id="261索引的概念">2.6.1索引的概念</h3>
<p>数据库的索引好比新华字典的音序表，它是对数据库表中一列或多列的值进行排序后的一种结构，其作用就是提高表中数据的查询速度</p>
<ul>
<li>
<p>1.普通索引</p>
<p>普遍索引是由KEY或INDEX定义的索引，它是MySQL中的基本索引类型,可以创建在任何数据类型中，其值是否唯一和非空 由字段本身的约束条件所决定。</p>
</li>
<li>
<p>2.唯一性索引</p>
<p>唯一性索引是由UNIQUE定义的索引,该索引所在字段的值必须是唯一的。</p>
</li>
<li>
<p>3.全文索引/<em>文本</em>/</p>
<p>全文索引是由FULLTEXT定义的索引，它<mark>只能创建在CHAR、VARCHAR或TEXT类型的字段上</mark>,而且,现在只有MyISAM存储引擎支持全文索引。</p>
</li>
<li>
<p>4.单列索引</p>
<p>单列索引指的是在表中单个字段上创建索引，它可以是普通索引、唯一索引或者全文索引,只要保证该索引只对应表中一个字段即可。</p>
</li>
<li>
<p>5.多列索引</p>
<p>多列索引指的是在表中多个字段.上创建索引，只有在查询条件中使用了这些字段中的第一个字段时,该索引才会被使用。</p>
</li>
<li>
<p>6.空间索引</p>
<p>空间索引是由SPATIAL定义的索引，它只能创建在空间数据类型的字段上。创建时必须声明为not null,并且只有MyISAM存储引擎支持</p>
</li>
</ul>
<hr>
<h3 id="262-创建索引">2.6.2 创建索引</h3>
<h4 id="1创建表的时候创建索引">&gt; <strong>1.创建表的时候创建索引</strong></h4>
<pre><code class="language-sql">语法:CREATE TABLE 表名(字段名 数据类型 [完整性约束条件],
  					  字段名 数据类型 [完整性约束条件],
  					  ...
  					  		字段名 数据类型
  					  		[UNIQUE|FULLTEXT|SPATIAL] INDEX|KEY
  					  			[别名] (字段名1 [(长度)] [ASC|DESC])
  					  			);
</code></pre>
<ul>
<li>UNIQUE:可选参数，表示唯一索引</li>
<li>FULLTEXT:可选参数，表示全文索引</li>
<li>SPATIAL:可选参数，表示空间索引</li>
<li>INDEX和KEY:用来表示字段的索引，二者选一即可</li>
<li>ASC和DESC可选参数，ASC表示升序排列，DESC表示降序排列</li>
<li>别名:可选参数，表示创建的索引的名称</li>
<li>字段名1:指定索引对应字段的名称，</li>
<li>长度:可选参数，用于表示索引的长度</li>
</ul>
<h5 id="1创建普通索引">&gt;1.创建普通索引</h5>
<pre><code class="language-sql">mysql&gt; create table t2(
    -&gt; id int(11),
    -&gt; name varchar(20),
    -&gt; grade float,
    -&gt; index index(id asc)/*创建名为index的索引,升序排列*/
    -&gt; );
建立后,使用show create table查看表的结构
	
</code></pre>
<blockquote>
<p>==<mark>show create table t1\G; t1\G 使排列有序</mark><br>
<mark>为了查看索引是否被使用可以使用explain语句进行查看,SQL代码如下:</mark></p>
<pre><code class="language-sql">explain select * from t1 while id=1 \G
</code></pre>
</blockquote>
<h5 id="2创建唯一性索引">&gt;2.创建唯一性索引</h5>
<pre><code class="language-sql">mysql&gt; create table t2(
    -&gt; id int(11),
    -&gt; name varchar(20),
    -&gt; grade float,
    -&gt; unique index unique_id(id asc)/*在表中id字段上建立索引名为unique_id的唯一性索引,并且按照升序排序*/
    -&gt; );
</code></pre>
<h5 id="3创建全文索引">&gt;3.创建全文索引</h5>
<pre><code class="language-sql">mysql&gt; create table t1(
    -&gt; id int(11),
    -&gt; name varchar(20),
    -&gt; grade float,
    -&gt; fulltext index fulltext_name(name)
    -&gt; )engine=myisam;/*因为目前只有MyISAM存储引擎支持全文索引*/
</code></pre>
<h5 id="4创建单列索引">&gt;4.创建单列索引</h5>
<pre><code class="language-sql">mysql&gt; create table t4(
    -&gt;name varchar(20) not null,
    -&gt; score float,
    -&gt; index single_name(name(20))/*在name字段上创建一个名叫single_name的单列索引索引长度为20*/
    -&gt; );
</code></pre>
<h5 id="5创建多列索引">&gt;5.创建多列索引</h5>
<pre><code class="language-sql">mysql&gt; create table t5(
	-&gt;id int not null,
    -&gt;name varchar(20) not null,
    -&gt; score float,
    -&gt; index multi(id,name(20))/*在id和name字段上创建一个名叫multi的多列索引*/
    -&gt; );
</code></pre>
<p><mark>注意:在多列索引中,只有查询条件中使用了这些字段的第一个字段时多列索引才会被使用</mark></p>
<h5 id="6创建空间索引">&gt;6.创建空间索引</h5>
<pre><code class="language-sql">mysql&gt; create table t6(
	-&gt;id int,
    -&gt;space geometry not null,
    -&gt;spatial index sp(space)/*在space字段上建立一个名为sp的空间索引*/
    -&gt;)engine=myisam;
</code></pre>
<p><mark>注意:创建空间索引时,所在字段不能为空值,并且表的储存引擎为myisam</mark></p>
<hr>
<h4 id="2使用create-index语句在已经存在的表上创建索引"><strong>2.使用CREATE INDEX语句在已经存在的表上创建索引</strong></h4>
<pre><code class="language-sql">语法CREATE [UNIQUE|FULLTEXT|SPATIAL] INDEX 索引名 
	ON 表名 (字段名 [(长度)] [ASC|DESC]);
</code></pre>
<pre><code class="language-sql">mysql&gt; create table book(
    -&gt; bookid int not null,
    -&gt; bookname varchar(255) not null,
    -&gt; authors varchar(255) not null
    -&gt; info varchar(255) null,
    -&gt; comment varchar(255) null,
    -&gt; publicyear year not null
    -&gt; );
</code></pre>
<h5 id="1创建普通索引-2">&gt;1.创建普通索引</h5>
<pre><code class="language-sql">mysql&gt; create index index_id on book(bookid);/*在book表中的bookid字段上建立一个名为index_id的普通索引*/
mysql&gt; show create table book\g;/*查看数据表结构*/
</code></pre>
<h5 id="2创建唯一性索引-2">&gt;2.创建唯一性索引</h5>
<pre><code class="language-sql">create unique index uniqueidx on book(bookid);
/*在bookid字段上创建一个名为uniqueidx的唯一性索引*/
</code></pre>
<h5 id="3创建单列索引">&gt;3.创建单列索引</h5>
<pre><code class="language-sql">create index singleidx on book(comment);
/*在comment字段上创建一个名称为singleidx的单列索引*/
</code></pre>
<h5 id="4创建多列索引">&gt;4.创建多列索引</h5>
<pre><code class="language-sql">create index mulitidx on book(authors(20)),info(20));
/*在authors和info字段上创建一个名称为mulitidx的多列索引*/
</code></pre>
<h5 id="5创建全文索引">&gt;5.创建全文索引</h5>
<pre><code class="language-sql">create fulltext index fulltextidx on book(info);
/*在info字段上创建名为fulltextidx的全文索引*/
</code></pre>
<h5 id="6创建空间索引-2">&gt;6.创建空间索引</h5>
<pre><code class="language-sql">create table t7(
				g geometry not null
				)engine=myisam;
create spatail index spatidx on t7(g);/*在g字段上创建名称为spatidx的空间索引*/
</code></pre>
<hr>
<h4 id="3使用alter-table-语句在已经存在的表上创建索引">3.使用ALTER TABLE 语句在已经存在的表上创建索引</h4>
<pre><code class="language-sql">语法:ALTER TABLE 表名 ADD [UNIQUE|FULLTEXT|SPATIAL] INDEX  
					索引名 (字段名[(长度)] [ASC|DESC] )
</code></pre>
<pre><code class="language-sql">create table book(
				  bookid int not null,
				  bookname varchar(255) not null,
				  authors varchar(255) null,
				  comment varchar(255) null,
				  pubblicyear year not null
				  );
</code></pre>
<h5 id="1创建普通索引-3">&gt;1.创建普通索引</h5>
<pre><code class="language-sql">alter table book add index id(bookid);
</code></pre>
<h5 id="2创建唯一性索引-3">&gt;2.创建唯一性索引</h5>
<pre><code class="language-sql">alter table book add unique uniqueidx(bookid);
</code></pre>
<h5 id="3创建单列索引-2">&gt;3.创建单列索引</h5>
<pre><code class="language-sql">alter table book add index singleidx(comment(50));
</code></pre>
<h5 id="4创建多列索引-2">&gt;4.创建多列索引</h5>
<pre><code class="language-sql">alter table book add index multidx(authors(20),info(50));
</code></pre>
<h5 id="5创建全文索引-2">&gt;5.创建全文索引</h5>
<pre><code class="language-sql">alter table book add fulltext index fulltextidx(info);
</code></pre>
<h5 id="6创建空间索引-3">&gt;6.创建空间索引</h5>
<pre><code class="language-sql">create table t8(
				space geometry not null
				)engine=myisam;
alter table t8 add spatial index spatidx(space);
</code></pre>
<hr>
<h3 id="263删除索引">2.6.3删除索引</h3>
<h4 id="1使用alter-table删除索引">&gt; 1.使用alter table删除索引</h4>
<pre><code class="language-sql">语法:alter table 表名 drop index 索引名;

例如: 删除表book中名叫fulltextidx的全文索引
alter table book drop index fulltextidx;
</code></pre>
<h4 id="2使用-drop-index删除索引">&gt; 2.使用 drop index删除索引</h4>
<pre><code class="language-sql">语法:drop index 索引名 on 表名;
</code></pre>
<hr>
<hr>
<h2 id="31添加数据"><strong>3.1添加数据</strong></h2>
<h4 id="311为表中所有字段添加数据">&gt; 3.1.1为表中所有字段添加数据;</h4>
<h5 id="1insert语句中指定所有字段名">&gt; 1.insert语句中指定所有字段名</h5>
<p>向表中添加新记录时,可以在insert语句中列出表中的所以字段名;</p>
<p><mark>注意:必须列出表中所以的字段名称,&quot;值1,值2,..&quot;的顺序,类型必须与对应的字段相匹配</mark></p>
<pre><code class="language-sql">语法:insert into 表名(字段名1,字段名2,...)
	values(值1,值2,...);
</code></pre>
<ul>
<li>验证数据是否成功使用select语句查看student表中的数据</li>
</ul>
<pre><code class="language-sql">select * from 表名;
</code></pre>
<h5 id="2insert语句中不指定字段名">&gt; 2.insert语句中不指定字段名</h5>
<p><mark>注意:由于insert语句中没有指定字段名,添加的值的顺序必须和字段在定义的顺序相同</mark></p>
<pre><code class="language-sql">语法: insert into 表名 values(值1,值2,...);
</code></pre>
<h4 id="312为表中指定的字段添加数据">&gt;3.1.2为表中指定的字段添加数据</h4>
<pre><code class="language-sql">语法: insert into 表名(字段1,字段2,...)
			values(值1,值2)
</code></pre>
<h4 id="313同时添加多条记录">&gt;3.1.3同时添加多条记录</h4>
<pre><code class="language-sql">语法:insert into 表名 [(字段名1,字段名2,...)]
			values(值1,值2,...),
			(值1,值2,...),
			(值1,值2,...);
</code></pre>
<pre><code class="language-sql">例如:
	向student表中添加三条新纪录,insert语句如下:
mysql&gt; insert into student values
	-&gt; (6,'lilei',99),
	-&gt; (7,'hanmeimei',100),
	-&gt; (8,'poly',40.5);
</code></pre>
<hr>
<h2 id="32更新数据">3.2更新数据</h2>
<p>语法:</p>
<pre><code class="language-sql">update 表名
	set字段名1=值1[,字段2=值2,...]
	[where条件表达式]
</code></pre>
<h5 id="1update-更新部分数据">&gt; 1.update 更新部分数据</h5>
<pre><code class="language-sql">例如:更新student表中id字段值为1的记录,将记录中的name字段的值更改为'caocao',grade字段的值更改为50;
mysql&gt; update student
	&gt; set name='caocao',grade=50
	&gt; where id=1
</code></pre>
<h5 id="2update-更新全部数据">&gt; 2.update 更新全部数据</h5>
<pre><code class="language-sql">例如:将student表中全部记录,将grade字段值都变为100:
&gt;update student
&gt;set grade=100
</code></pre>
<hr>
<h2 id="33-删除数据">3.3 删除数据</h2>
<pre><code class="language-sql">delete from 表名[where 条件表达式]
</code></pre>
<h5 id="1删除部分数据">&gt;1.删除部分数据</h5>
<pre><code class="language-sql">&gt;delete from 表名
&gt;where 条件表达式
</code></pre>
<pre><code class="language-sql">例如:删除表student上id字段上小于4的记录
&gt;delete from student
&gt;where id&lt;4;
</code></pre>
<h5 id="2删除全部数据">&gt;2.删除全部数据</h5>
<h6 id="1delete">&gt;1.delete</h6>
<pre><code class="language-sql">delete from 表名;
</code></pre>
<h6 id="2truncate">&gt;2.truncate</h6>
<pre><code class="language-sql">truncate from 表名;
</code></pre>
<p>区别:</p>
<ol>
<li>delete语句后跟where子句,可以删除部分记录,<mark>truncate只能删除表中全部记录</mark></li>
<li>delete语句删除数据后,<mark>再次向表中增加记录时</mark>,自动增加字段的值为删除时该字段的最大值加1,truncate语句删除数据后,自动字段的默认初始值重新由1开始;</li>
</ol>
<hr>
<hr>
<h2 id="41-简单查询"><strong>4.1 简单查询</strong></h2>
<h4 id="411-select-语句">&gt;4.1.1 select 语句</h4>
<blockquote>
<p><mark>语法   	//顺序不能颠倒</mark></p>
</blockquote>
<pre><code class="language-sql">mysql&gt; &gt; select [distinct] * |字段名1,字段名2,字段名3,...
	&gt;	from 表名
	&gt;	[where 条件表达式1]
	&gt;	[group by 字段名 [having条件表达式2]]
	&gt;	[order by 字段名 [asc|desc]]
	&gt;	[limit [offset] 记录数]
</code></pre>
<h4 id="412-查询所有字段">&gt;4.1.2 查询所有字段</h4>
<h5 id="1在select语句中指定所有字段">&gt; 1.在select语句中指定所有字段</h5>
<pre><code class="language-sql">语法:select 字段名1,字段名2,...from 表名
</code></pre>
<h5 id="2在select语句中使用星号通配符代替所有字段">&gt; 2.在select语句中使用星号(*)通配符代替所有字段</h5>
<pre><code class="language-sql">select * from 表名
</code></pre>
<h4 id="413-查询指定字段">&gt;4.1.3 查询指定字段</h4>
<pre><code class="language-sql">语法: select 字段名1,字段名2,...from 表名;
</code></pre>
<hr>
<h2 id="42-按条件查询">4.2 按条件查询</h2>
<h4 id="421带关系运算符查询">&gt;4.2.1带关系运算符查询</h4>
<blockquote>
<p>where 子句中指定查询条件对数据进行过滤</p>
</blockquote>
<pre><code class="language-sql">语法:select 字段名1,字段名2,... from 表名 where 条件表达式
</code></pre>
<h4 id="422-带in关键字的查询">&gt;4.2.2 带in关键字的查询</h4>
<blockquote>
<p>in关键字用于判断某个字段的值是否在指定集合中</p>
</blockquote>
<pre><code class="language-sql">语法:select * |字段名1,字段名2,... from 表名 where 字段名[not] in (元素1,元素2)
	&quot;元素1,元素2&quot;表示集合中的元素,即指定的条件范围
	not 为可选参数,使用not表示查询不在in关键字指定集合范围的记录
</code></pre>
<pre><code class="language-sql">例如:查询student表中ID值为1,2,3的记录
mysql&gt; select id,grade,name,grade from student where id in(1,2,3);
</code></pre>
<h4 id="423带between-and-关键字查询">&gt;4.2.3带between and 关键字查询</h4>
<blockquote>
<p>between  and 用于判断某个字符的值是否在指定的范围之内,如果字段的值在指定的范围内,则满足条件</p>
</blockquote>
<pre><code class="language-sql">select * |{字段名1,字段名2,...} from 表名 where 字段名 [not] between 值1 and 值2
</code></pre>
<pre><code class="language-sql">例如: 查询student表中id值在2~5之间的学生姓名
mysql&gt; select id,name from student where id between 2 and 5;
</code></pre>
<h4 id="424-空值查询">&gt;4.2.4 空值查询</h4>
<blockquote>
<p>在数据表中,某些列的值可能为空值(null),空值不同于0,也不同于空字符串</p>
<p>在mysql中,使用is null关键字来判断是否为空值</p>
</blockquote>
<pre><code class="language-sql">语法:select * |字符段1,字符段2,... from 表名 where 字段名 is [not] null;
</code></pre>
<pre><code class="language-sql">例如:查询Student表中gender为空值的记录
mysql&gt; select id,name,grade,gender from student where gender is null;
</code></pre>
<h4 id="425-带distinct关键词的查询">&gt;4.2.5 带distinct关键词的查询</h4>
<blockquote>
<p>很多表中某些字段的数据存在重复的值,使用distinct过滤重复记录的字段</p>
</blockquote>
<pre><code class="language-sql">例如:在student表中查询gender(性别)字段的值,查询记录不能重复;
mysql&gt; select distinct gender from student;
</code></pre>
<blockquote>
<p>distinct关键字作用于多个字段,如果字段名1字段名2里的值都相同才被认为是重复记录</p>
</blockquote>
<pre><code class="language-sql">语法:select distinct 字段名1,字段名2,...from 表名;
</code></pre>
<h4 id="426-带like关键字的查询">&gt;4.2.6 带like关键字的查询</h4>
<blockquote>
<p>使用关系运算符&quot;=&quot;可以判断两个字符串是否相等,但有些需要是对字符串进行模糊查询</p>
</blockquote>
<pre><code class="language-sql">select * | {字符段1,字符段2,...}
from 表名
where 字段名 [not] like '匹配字符串';
</code></pre>
<h5 id="1-百分号-通配符">1. 百分号(%) 通配符</h5>
<blockquote>
<p>作用 : 匹配任意长度的字符串 ,包括空字符串</p>
</blockquote>
<pre><code class="language-sql">例1: 查询student表中name字段值以字符&quot;s&quot;开头的学生 id
mysql&gt; select id, name from student where name like &quot;s%&quot; ;

例2:查询student表中name字段值以字符&quot;w&quot;开头,以字符&quot;g&quot;结束的学生 id
mysql&gt; select id, name from student where name like &quot;w%g&quot; ;

例3:查询student表中name字段值包括字符&quot;y&quot;的学生 id;
mysql&gt; select id, name from student where name like &quot;%y%&quot; ;
</code></pre>
<h5 id="2-下划线_-通配符">2. 下划线(_) 通配符</h5>
<blockquote>
<p>作用 : 下划线通配符只能匹配单个字符,如果需要匹配多个则需要使用多个下划线</p>
</blockquote>
<pre><code class="language-sql">例1: 查询student表中name字段值以字符串&quot;wu&quot;开始, 以字符串&quot;ong&quot;结尾,并且两个字符串之间只有一个字符的记录
mysql&gt; select * from student where name like &quot;wu_ong&quot;;

例2: 查询student表中name字符值包括7个字符, 并且以字符串&quot;ing&quot;结尾的记录
mysql&gt; select * from student where name like &quot;_______ing&quot;;
</code></pre>
<h5 id="3使用百分号和下划线通配符进行查询操作">3.使用百分号和下划线通配符进行查询操作</h5>
<blockquote>
<p>作用 : 通过右斜线( &quot; \ &quot; )对百分号和下划线进行转义</p>
<p>例如 : &quot;%&quot;匹配百分号字符值 , &quot; \ _ &quot;匹配下划线字符值</p>
</blockquote>
<pre><code class="language-sql">例如: 查询student表中name字段值包括&quot;%&quot;的记录;
mysql&gt; insert into student (name,grade,gender)
	-&gt; values ('sun%er',95,'男');
	
mysql&gt; select * from student where name like &quot;%\%%&quot;;
</code></pre>
<h4 id="427-带and关键字的多条件查询">&gt;4.2.7 带and关键字的多条件查询</h4>
<blockquote>
<p>and关键字连接两个或以上查询条件</p>
</blockquote>
<pre><code class="language-sql">例如:select * from 表名 where 条件表达式1 and 条件表达式2 [...and 条件表达式n]
查询student表中id字段值在1.2.3.4之中,name字符值以字符串'ng'结尾,并且grade字段值小于80的记录
mysql&gt; select id,name,grader,gender
	-&gt; from student
	-&gt; where id in(1,2,3,4) and name like '%ng' and grade &lt;80;
</code></pre>
<h4 id="428-带or关键字的多条件查询">&gt;4.2.8 带or关键字的多条件查询</h4>
<blockquote>
<p>or关键字满足一个,可以连接两个或多个查询条件</p>
</blockquote>
<pre><code class="language-sql">例如:查询student表中满足条件name字段值以字符'h'结束,或者gender字符值为'女',或者grade字段值为100的记录
mysql&gt; select id,name,grade,gender
	-&gt; from student
	-&gt; where name like '%h' or gender='女' or grade=100;
</code></pre>
<blockquote>
<p><mark>注意:or和and可以一起使用, and优先级高于or</mark></p>
</blockquote>
<pre><code class="language-sql">例如:查询student表中student字符值为'女'或者gender字符值为'男',并且gender字段值为100的学生姓名
mysql&gt; select name,grade,gender
	-&gt; from student
	-&gt; where gender='女' or gender ='男' and grade=100;
</code></pre>
<hr>
<h2 id="43-高级查询">4.3 高级查询</h2>
<h4 id="431-聚合函数">&gt;4.3.1 聚合函数</h4>
<h5 id="1count函数">&gt;1.count()函数</h5>
<pre><code class="language-sql">COUNT()函数用来统计记录的条数，其语法格式如下所示:
SELECT COUNT(*) FROM 表名;
</code></pre>
<pre><code class="language-sql">例如: 查询student表中一共有多少条记录
mysql&gt; select count(*) from student;
</code></pre>
<h5 id="2sum函数">&gt;2.sum()函数</h5>
<pre><code class="language-sql">SUM()是求和函数，用于求出表中某个字段所有值的总和，其语法格式如下:
SELECT SUM(字段名) FROM 表名
</code></pre>
<pre><code class="language-sql">例如:求出student表中grade字段的总和
mysql&gt; select sum(grade) from student7
</code></pre>
<h5 id="3avg函数">&gt;3.avg()函数</h5>
<pre><code class="language-sql">AVG()函数用于求出某个字段所有值的平均值其语法格式如下所示:
SELECT AVG(字段名) FROM student;
例如:求出student表中grade字段的平均值
&gt;select avg(grade) from student
</code></pre>
<h5 id="4max函数">&gt;4.max()函数</h5>
<pre><code class="language-sql">MAX()函数是求最大值的函数，用于求出某个字段的最大值，其语法格式如下所示:
SELECT MAX(grade) FROM student;
例如:求出student表中grade字段的最大值
&gt;select max(grade) from student
</code></pre>
<h5 id="5min函数">&gt;5.min()函数</h5>
<pre><code class="language-sql">MIN()函数是求最小值的函数，用于求出某个字段的最小值，其语法格式如下所示:
SELECT MIN(grade) FROM student;
例如:求出student表中grade字段的最小值
&gt;select min(grade) from student
</code></pre>
<h4 id="432-对查询结果排序">&gt;4.3.2 对查询结果排序</h4>
<p>​	从表中查询出来的数据可能是无序的,或者排列顺序不是用户期望的,为了使查询结果满足用户的要求,可以使用order by</p>
<p>​	对查询结果进行排序,语法格式如下:</p>
<pre><code class="language-sql">使用 ORDER BY对查询结果进行排序其语法格式如下所示:
SELECT字段名1, 字段名2, FROM 表名
ORDER BY字段名1 [ASC|DESC]，字段名2 [ASC|DESC] /*asc:升序,从小到大,desc:倒叙,从大到小*/
</code></pre>
<pre><code class="language-sql">例2:查询student表中的所有记录,按照gender字段的升序和grade字段的降序进行排序:
mysql&gt; select * from student
	-&gt; order by gender asc, grade desc;
</code></pre>
<blockquote>
<p>==注意:==在按照指定字段进行升序排列时，如果某条记录的字段值为NULL，则这条记录会在第一条显示，这是因为NULL值可以被认为是最小值</p>
</blockquote>
<h4 id="433-分组查询">&gt; 4.3.3 分组查询</h4>
<h5 id="1单独使用group-by-分组">&gt;1.单独使用group by 分组</h5>
<blockquote>
<p>单独使用group by 关键词,查询的是每个分组的一条记录</p>
</blockquote>
<pre><code class="language-sql">例如:查询student表中的记录,按照gender字段值进行分组
select * from student group by gender;

查询结果是按照gender字段中的不同值进行分类的,查询结果只显示每个分组
</code></pre>
<h5 id="2group-by和聚合函数一起使用">&gt;2.group by和聚合函数一起使用</h5>
<blockquote>
<p>gruop by 和聚合函数一起使用可以统计出某个或者某些字段在一个分组中的最大值,最小值,平均值等</p>
</blockquote>
<pre><code class="language-sql">例如:将student表中gender字段值进行分组查询,计算出每个分组中各有多少名学生
select count(*),gender from student group by gender; 
例如:将student表中gender字段值进行分组查询,计算出每个分组的总成绩,平均成绩,最高分,最低分
select sum(grade),avg(grade),max(grade),min(grade),genter from student3 group by genter;
</code></pre>
<h5 id="3-group-by-和-having关键词一起使用">&gt;3. group by 和 having关键词一起使用</h5>
<blockquote>
<p>having关键字和 where关键字的作用相同,都设置条件表达式对查询结果进行过滤,两者区别在于,</p>
<p>having关键字后可以跟聚合函数,而where 关键字不能</p>
</blockquote>
<pre><code class="language-sql">例如:将student表中按照gender字段进行分组查询,查找grade字段值之和小于300的分组
select student sum(grade),gender from student group by gender having sum(grade)&lt;300 
</code></pre>
<h4 id="434-使用limit限制查询结果的数量">&gt;4.3.4 使用limit限制查询结果的数量</h4>
<blockquote>
<p>查询数据时,可能会返回很多条记录,而用户需要的记录可能只是其中的一条或者几条,比如实现分页功能,每页显示10行信息,每次查询都需要查出10条记录</p>
</blockquote>
<pre><code class="language-sql">格式:select 字段名1,字段名2,...
	from 表名
	limit [offset,] 记录数  //limit后可以跟两个参数,第一个参数offset表示偏移量,如果为0则从查询结果的第一条开始记录,偏移量为1则从查询结果中的第二条记录开始,以此类推;offset为可选值,如果不指定其默认值为0.第二个参数&quot;记录数&quot;表示返回查询记录的条数;
</code></pre>
<pre><code class="language-sql">例(1):查询Student表中的前四条记录
select * from student limit 4;	//没有指定返回记录的偏移量,只指定了查询记录的条数4,因此返回结果从第一条开始,一共返回4条记录;
</code></pre>
<pre><code class="language-sql">例(2):查询student表中grade字段值从第五位到第八位的学生(从高到低)
select * from student group desc limit 4,4
</code></pre>
<blockquote>
<p>limit后面第一个参数表示偏移量位4,即从第五条开始查询,第二个参数表示一共返回4条记录,即从第五位到第8为学生</p>
</blockquote>
<h4 id="435-函数列表">&gt;4.3.5 函数(列表)</h4>
<table>
<thead>
<tr>
<th style="text-align:center">函数名称</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ABS(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td style="text-align:center">SQRT(x)</td>
<td>返回x的非负2次方根</td>
</tr>
<tr>
<td style="text-align:center">MOD(xy)</td>
<td>返回x被y除后的余数</td>
</tr>
<tr>
<td style="text-align:center">CEILING(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td style="text-align:center">FLOOR(z)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td style="text-align:center">ROUND(x,y)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td style="text-align:center">TRUNCATE(x)</td>
<td>返回x的绝对值</td>
</tr>
<tr>
<td style="text-align:center">SIGN(x)2</td>
<td>返回x的绝对值</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="44-为表和字段取别名">4.4 为表和字段取别名</h2>
<h4 id="441-为表取别名">&gt; 4.4.1 为表取别名</h4>
<blockquote>
<p>在查询操作时,如果表名很长使用起来就不太方便,这时可以为表取一个别名,用这个别名来代替表的名称;</p>
</blockquote>
<pre><code class="language-sql">语法:	select * from 表名 [as] 别名;	as关键字用于指定表名的别名,它可以省略不写;
例如: 为student表起一个别名 s,并查询student表中gender字段值为'女'的记录
select * from student as s where s.gender='女';	
student as s表示student表的别名为s
s.gender 表示student表中的gender字段;
</code></pre>
<h4 id="442-为字段取别名">&gt; 4.4.2 为字段取别名</h4>
<blockquote>
<p>为了让显示查询结果更加直观,可以为字段取一个别名</p>
</blockquote>
<pre><code class="language-sql">select 字段名 [as] 别名 [,字段名 [as] 别名,...] from 表名;
</code></pre>
<pre><code class="language-sql">例如:查询student表中的所有记录的name和grade字段值,并为这两个字段名起别名stu_name和stu_genter;
select * from name as stu_name, grader as stu_genter from student;
</code></pre>
<hr>
<hr>
<h2 id="51-外键">5.1 外键</h2>
<h4 id="511-什么是外键">&gt; 5.1.1 什么是外键</h4>
<blockquote>
<p>外键是指引用另一个表中的一列或多列,==被引用的列应该具有主键约束或唯一性约束.==外键用来建立和加强两个表数据之间的连接</p>
<p>引入外键后,外键列只能插入参照列存在的值,参照列被参照的值不能被删除,这就确保了数据的参照完整性</p>
</blockquote>
<blockquote>
<p>创建两个表,一个班级表(grade),一个学生表(student)</p>
</blockquote>
<pre><code class="language-sql">create table grade(
	id int(4) not null primary key,
	name varchar(36)
);

create table student(
	sid int(4) not null primary key,
	sname varchar(36),
	gid int(4) not null
);
</code></pre>
<blockquote>
<p>学生表(student)中的gid 是学生所在的班级id,是引入了班级表(grade) 中的主键id,那么gid就可以作为表student的主键..被引用的表,即表grade是主表;引用外键的表,即表student是从表,两个表是主从关系.</p>
<p>表student用gid可以连接表grade中的信息</p>
</blockquote>
<h4 id="512-为表中添加外键约束">&gt;5.1.2 为表中添加外键约束</h4>
<pre><code class="language-sql">语法: alter table 表名 add constraint FK_ID foreign key(外键字段名) references 主表表名(主键字段名);
</code></pre>
<pre><code class="language-sql">语句: alter table student add constraint FK_ID foreign key(gid) references grade(id);
</code></pre>
<h4 id="513-删除外键约束">&gt;5.1.3 删除外键约束</h4>
<blockquote>
<p>在实际开发中,根据业务逻辑的需求,需要解除两个表的关联关系时, 就需要删除外键约束</p>
</blockquote>
<pre><code class="language-sql">语法: alter table 表名 drop foreign key 外键名;
</code></pre>
<blockquote>
<p>接下来,将表中student表的外键约束删除</p>
</blockquote>
<pre><code class="language-sql">alter table student drop foreign key FK_ID; 
</code></pre>
<hr>
<h2 id="52-操作关联表">5.2 操作关联表</h2>
<h4 id="521-关联关系">&gt;5.2.1 关联关系</h4>
<blockquote>
<p>1.多对一	(外键定义在多端)</p>
<p>一个部门可以有多个员工，而一个员工不能属于多个部门。<br>
在多对一的表关系中，应该将外键建在多的一方</p>
</blockquote>
<blockquote>
<p>2.多对多	(需定义中间表)</p>
<p>一个老师可以教多个学生，同时一个学生可以上多个老师的课程。<br>
为了实现数据表多对多的关系，需要定义一张第三方中间表，该表保存两个关系表的外键。</p>
</blockquote>
<blockquote>
<p>3.一对一	(从表依赖主表)</p>
<p>一对一的对应关系中，需要分清主从关系，通常在从表中建立外键</p>
</blockquote>
<h4 id="522-添加数据">&gt;5.2.2 添加数据</h4>
<blockquote>
<p>在开发中，最常见的关联关系就是多对一关系</p>
</blockquote>
<pre><code class="language-sql">为表student和表grade中添加外键约束来建立两个表的关联关系
alter table student add constraint FK_ID foreign key(gid) references grade (id);
</code></pre>
<h4 id="523-删除数据">&gt;5.2.3 删除数据</h4>
<blockquote>
<p>由于grade表与student表之间具有关联关系 , 参照列被参照的值不能被删除的,再删除软件二班时需要删除软件二班的所有学生</p>
</blockquote>
<pre><code class="language-sql">delete from student where sname='王红';
delete from student where sname='李强';
delete * from grade where id=2;
</code></pre>
<hr>
<h2 id="53-连接查询">5.3 连接查询</h2>
<h5 id="531交叉连接">&gt; 5.3.1交叉连接</h5>
<blockquote>
<p>交叉连接返回的结果是被连接的两个表中所有数据行的笛卡尔积即行数的乘积</p>
<p>例如:department表中有4个部门,employee表中有4个员工,那么交叉连接的结果就有4X4=16条数据</p>
</blockquote>
<pre><code class="language-sql">语法: select *from 表1,表2;
	 或select * from 表1 cross join 表2;
</code></pre>
<h5 id="532-内连接">&gt; 5.3.2 内连接</h5>
<blockquote>
<p>内连接（INNER JOIN）又称简单连接或自然连接，内连接使用比较运算符对两个表中的数据进行比较，列出与连接条件匹配的数据行，组合成新的记录</p>
<p>简单连接或自然连接,返回的结果是两个表中一一对应的数据,只有满足条件的数据才显示</p>
</blockquote>
<pre><code class="language-sql">语法:select 查询字段 from 表1[inner] join 表2 on 表1.关系字段= 表2.关系字段
例如: 在department表和employee表之间使用内连接查询;
select employee.name,department.dname from department inner join employee on department.did=employee.did;	//只有department.did和employee.did相等的才输出
</code></pre>
<pre><code class="language-sql">使用where条件语句来实现同样的功能;
例如:在department表和employee表之间使用where:
select employee.name, department.dname from department,employee where department,did=employee.did;
</code></pre>
<blockquote>
<p><mark>注意</mark>:where子句的查询结果与使用inner join的查询结果是一致的,虽然结果相同,但inner join 是内连接语句,where是条件判断语句,在where语句后可以添加其他条件,而inner join语句不可以;</p>
</blockquote>
<blockquote>
<p>如果在一个连接查询中,涉及的两个表是同一个表,这种查询称为自连接查询,指的是相互连接的表在物理上为同一个表,但逻辑上分为两个表</p>
</blockquote>
<pre><code class="language-sql">查询部门为2的员工的姓名和年龄;
select department.did,employee.name,employee.age from department join employee on department.did=employee.did where department.did=2;
或
select department.did,employee.name,employee.age from department,employee where department.did=employee.did and department.did=2;
</code></pre>
<pre><code class="language-sql">查询姓名为王红所在的部门编号和部门名称
select employee.name,department.did,department.dname from department,employee where department.did=employee.did and employee.name='王红';
</code></pre>
<blockquote>
<p>自连接:</p>
</blockquote>
<pre><code class="language-sql">例如:在department表和employee表之间使用自连接查询王红所在的部门有哪些员工;
select p1.* from employee p1 inner join employee p2 on p1.did=p2.did where p2.name='王红';	/*p1 p2为别名*/
或select p1.* from employee p1,employee p2 where p1.did=p2.did and p2.name='王红';/*where方法*/
</code></pre>
<h5 id="533-外连接">&gt; 5.3.3 外连接</h5>
<blockquote>
<p>外连接分为左连接和有连接</p>
<p>左连接的结果包括LEFT JOIN子句中指定的左表的所有记录，和所有满足连接条件的记录。如果左表的某条记录在右表中不存在，则在右表中显示为空  ;</p>
<p>右连接与左连接正好相反，返回右表中所有指定的记录和所有满足连接条件的记录。如果右表的某条记录在左表中没有匹配，则左表将返回空值  ;</p>
<p>做外链接:左表中的所有记录以及内连接的记录(放在前面的是左表)</p>
<p>右外连接:右表中的所有记录以及内连接的记录</p>
</blockquote>
<pre><code class="language-sql">语法: SELECT 所查字段 FROM 表1 LEFT|RIGHT [OUTER] JOIN 表2 
	ON 表1.关系字段 = 表2.关系字段 WHERE 条件
	
	select * from 表1,表2 where表1.关系字段=表2.关系字段 and 其他条件
</code></pre>
<h5 id="全外连接查询">&gt;全外连接查询</h5>
<blockquote>
<p>在外连接的基础上,增加左边表有,右边表没有的记录,以及右边表有左边表没有的记录</p>
</blockquote>
<pre><code class="language-sql">语法: select * from 表1 full jion 表二 on 表一.关系字段=表二.关系字段;
	select * from dep full jion emp on dep.did=em.did;

</code></pre>
<h5 id="534-复合条件查询">&gt;5.3.4 复合条件查询</h5>
<hr>
<h3 id="54子查询">5.4	子查询</h3>
<h5 id="541-带in关键字的子查询">&gt;5.4.1 带IN关键字的子查询</h5>
<blockquote>
<p>使用in关键字进行子查询时,内层查询语句仅返回一个数列值,这个数列值中的值将供外层查询语句进行比较操作</p>
</blockquote>
<pre><code class="language-sql">例如:查询存在年龄为20岁的员工的部门
select * from department where did in(select did from employee where age=20);
或											           //子查询方法
select department.did,department.dname from department join employee on department.did=employee.did where employee.age=20;		//内连接方法
或
select department.did,department.dname from department,employee where department.did=employee.did and employee.age=20;	 	  //where方法
</code></pre>
<h5 id="542-带exists关键字的子查询">&gt;5.4.2 带exists关键字的子查询</h5>
<blockquote>
<p>exists关键字后面的参数可以是任意一个子查询,这个子查询的作用相当于测试,他不产生任何数据,只返回true或false,当返回值为true时,外层查询才会执行</p>
</blockquote>
<pre><code class="language-sql">例如:查询employee表中是否存在年龄大于21岁的员工,如果存在,则查询department表中的所有记录
select * from department where exists(select did from employee where age&gt;21);
</code></pre>
<h5 id="543-带any关键字的子查询">&gt; 5.4.3 带any关键字的子查询</h5>
<blockquote>
<p>any关键字表示满足其中任意一个条件,它允许创建一个表达式对子查询的返回值列表进行比较</p>
</blockquote>
<pre><code class="language-sql">例如:
select * from department where did&gt;any(select did from employee);//列出只要大于employee.did任意一个数
</code></pre>
<h5 id="544-带all关键字的子查询">&gt;5.4.4 带all关键字的子查询</h5>
<pre><code class="language-sql">例如:
select * from department where did&gt;all(select did from employee);/列出大于employee.did所有的数
</code></pre>
<h5 id="545-带比较运算符的子查询">&gt;5.4.5 带比较运算符的子查询</h5>
<blockquote>
<p>比较运算符	&gt; , &lt; , = , &gt;= , &lt;= , ! =</p>
</blockquote>
<pre><code class="language-sql">例如:使用比较运算符的子查询,查询赵四是哪个部门的员工
select * from department where did=(select did from employee where name =&quot;赵四&quot;);
</code></pre>
<hr>
<hr>
<h2 id="61-事务管理">6.1 事务管理</h2>
<h5 id="611-事务的概念">&gt; 6.1.1 事务的概念</h5>
<blockquote>
<p>所谓的事务就是针对数据库的一组操作，它可以由一条或多条SQL语句组成，同一个事务的操作具备同步的特点，即事务中的语句要么都执行，要么都不执行</p>
</blockquote>
<pre><code class="language-sql">开启事务的语法: start transaction
</code></pre>
<blockquote>
<p>上述语句用于开启事务,事务开启之后就可以执行SQL语句,SQL语句执行成功后,需使用相对应语句提交事务,语法如下:</p>
</blockquote>
<pre><code class="language-sql">提交事务的语法: commit
</code></pre>
<blockquote>
<p>在操作一个事务时,如果发现当前事务中的操作是不合理的,此时只要还没有提交事务,就可以通过回滚来取消当前事务</p>
</blockquote>
<pre><code class="language-sql">事务回滚语句: rollback
</code></pre>
<hr>
<h2 id="62-存储过程的创建">6.2 存储过程的创建</h2>
<h4 id="621-创建存储过程">&gt; 6.2.1 创建存储过程</h4>
<blockquote>
<p>存储过程就是一条或多条SQL语句的集合，当对数据库进行一系列复杂操作时，存储过程可以将这些复杂操作封装成一个代码块，以便重复使用，大大减少数据库开发人员的工作量</p>
</blockquote>
<pre><code class="language-sql">语法格式: 
CREATE PROCEDURE sp_name([proc_parameter])
[characteristics…]routine_body
</code></pre>
<pre><code class="language-sql">CREATE PROCEDURE：为用来创建存储过程的关键字。
sp_name: 为存储过程的名称。
proc_parameter: 为指定存储过程的参数列表。
characteristics : 用于指定存储过程的特性。
</code></pre>
<blockquote>
<p>演示存储过程的创建</p>
</blockquote>
<pre><code class="language-sql">1.首先创建一个student表:
mysql&gt; create table student(
    -&gt; id int(3) primary key auto_increment,
    -&gt; name varchar(20) not null,
    -&gt; grade float,
    -&gt; gender char(2)
    -&gt; );
</code></pre>
<pre><code class="language-sql">2.插入数据
mysql&gt; insert into student(name,grade,gender)
    -&gt; values('tom',60,'男'),
    -&gt; ('jack',70,'男'),
    -&gt; ('rose',90,'女'),
    -&gt; ('lucy',100,'女');
</code></pre>
<pre><code class="language-sql">3.创建一个查看student表的存储过程
创建一个存储过程proc,每次调用这个存储过程的时候都会执行select语句查看表的内容
mysql&gt; delimiter //		--------&gt; 作用: 将MySQL的结束符设置为 //
mysql&gt; create procedure proc()
    -&gt; begin
    -&gt; select * from student;
    -&gt; end //
</code></pre>
<h4 id="622-变量的使用">&gt; 6.2.2 变量的使用</h4>
<blockquote>
<p>在MySQL中, 变量可以在子程序中声明, 用于保存数据处理过程中的值, 这些<mark>变量的作用范围在BEGIN…END程序中</mark></p>
</blockquote>
<pre><code class="language-sql">语法格式: DECLARE var_name[,varname]…date_type[DEFAULT value];
</code></pre>
<pre><code class="language-sql">例如: 定义一个名称为v1的变量，类型为INT类型，默认值为100,查询这个变量的值
mysql&gt; delimiter //
mysql&gt; create procedure proc2()
    -&gt; begin
    -&gt; declare v1 int default 100;
    -&gt; select v1;
    -&gt; end //
mysql&gt; delimiter ;
mysql&gt; call proc2();
+------+
| v1   |
+------+
|  100 |
+------+    
</code></pre>
<hr>
<pre><code class="language-sql">例如: 声明三个变量,使用set为变量赋值
mysql&gt; delimiter //
mysql&gt; create procedure proc2()
    -&gt; begin
    -&gt; declare v1,v2,v3 int;
    -&gt; set v1=10,v2=20;
    -&gt; set v3=v1+v2;
    -&gt; select v1,v2,v3;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)
mysql&gt; delimiter ;
mysql&gt; call proc2();
+------+------+------+
| v1   | v2   | v3   |
+------+------+------+
|   10 |   20 |   30 |
+------+------+------+
1 row in set (0.00 sec)
Query OK, 0 rows affected (0.00 sec)
</code></pre>
<blockquote>
<p>除了使用set语句为变量赋值外,MySQL中还可以通过select...into为一个或多个变量赋值,<br>
该语句可以把选定的列直接储存到对应的位置的变量<br>
语法格式如下:</p>
</blockquote>
<pre><code class="language-sql">select col_name[...] into var_name [...] table_expr
</code></pre>
<blockquote>
<p>上述语法格式中,col_name表示字段名称;var_name表示定义的变量名称,table_expr 表示查询条件表达式,包括表名称和where子句.</p>
<p>例如:</p>
</blockquote>
<pre><code class="language-sql">select grade, gender into s_grade, s_gender from student where name= 'rose' ; 
</code></pre>
<blockquote>
<p>例:声明变量s_grade 和 s_gender,通过select ...into 语句 查询指定记录并为变量赋值</p>
<p>注意: 查询时如果不执行 select s_grade,s_gender; 则无返回结果</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure proc4()
    -&gt; begin
    -&gt; declare s_grade float;
    -&gt; declare s_gender char(4);
    -&gt; select grade,gender into s_grade,s_gender from student where name='rose';
    -&gt; select s_grade,s_gender;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&gt; call proc4()//
+---------+----------+
| s_grade | s_gender |
+---------+----------+ 
|      90 | 女       |
+---------+----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
</code></pre>
<hr>
<h4 id="623-定义条件和处理程序">&gt; 6.2.3 定义条件和处理程序</h4>
<h5 id="1定义条件">&gt; 1.定义条件</h5>
<blockquote>
<p>定义条件是指事先定义程序执行过程中遇到的问题。定义条件使用DECLARE语句，语法格式如下：</p>
</blockquote>
<pre><code class="language-sql">DECLARE condition_name CONDITION FOR [condition_type];
// condition_type的两种形式：
[condition_type]:
SQLSTATE[VALUE] sqlstate_value|mysql_error_code
</code></pre>
<blockquote>
<p>condition_name：表示所定义的条件的名称；<br>
condition_type：表示条件的类型；<br>
sqlstate_value和mysql_error_code：表示MySQL的错误，sqlstate_value是长度为5的字符串类型错误代码，mysql_error_code为数值类型的错误代码。例如：ERROR1142（42000）中，sqlstate_value的值是42000，mysql_error_code的值是1142</p>
</blockquote>
<blockquote>
<p>例如</p>
</blockquote>
<pre><code class="language-sql">// 方法一: 使用sqlstate_value
declare commad_not_allowed condition for sqlstate '42000';
// 方法二: 使用 mysql_error_code
declare commad_not_allowed condition for 1064;
</code></pre>
<h5 id="2-定义处理程序">&gt; 2. 定义处理程序</h5>
<blockquote>
<p>处理程序定义了在程序执行过程中遇到问题时应当采取的处理方式，并且保证存储过程在遇到警告或错误时能继续执行处理过程使用DECLARE语句定义，语法格式如下  :</p>
</blockquote>
<pre><code class="language-sql">DECLARE handler_type HANDLER FOR condition_value[,…] sp_statement
handler_type:
CONTINUE|EXIT|UNDO
condition_value:	//包括5个字符的字符串错误值 ;
|condition_name		//表示declare condition 定义的错误条件名称
|SQLWARNING			//匹配所有以01开头的sqlstate错误代码
|NOT FOUND			//匹配所有以02开头的sqlstate错误代码
|SQLEXCEPTION		//匹配所有没有被sqlwarning 或 not found捕获的sqlstate错误代码
|mysql_error_code	//匹配数值类型错误代码
</code></pre>
<blockquote>
<p>handler_type：为错误处理方式，参数取值<br>
有3个：CONTINUE、EXIT和UNDO。CONTINUE：表示遇到错误不处理，继续执行；<br>
EXIT：遇到错误马上退出。<br>
UNDO：表示遇到错误后撤回之前的操作，MySQL中暂时不支持这样的操作。sp_statement：参数为程序语句段，表示在遇到定义的错误时，需要执行的存储过程。<br>
condition_value：表示错误类型</p>
</blockquote>
<blockquote>
<p>例如 :</p>
</blockquote>
<pre><code class="language-sql">// 方法一:捕获sqlstate_value
declare continue handler for sqlstate '42S02' set @info = 'no_such_table';
// 方法二:捕获mysql_error_code
declare continue handler for 1146 set @info = 'no_such_table'
// 方法三:先定义条件,然后调用
declare continue handler for no_such_table set @info='error';
// 方法四:使用sqlwarning
declare exit handler for sqlwarning set @info='error';
// 方法五:使用not found
declare exit handler for not found set @info='no_such_table';
// 方法六:使用sqlexception
declare exit handler for sqlexception set @info='error';
</code></pre>
<hr>
<h4 id="624-光标的使用">&gt; 6.2.4 光标的使用</h4>
<p>在编写存储过程时，查询语句可能会返回多条记录，如果数据量非常大，则需要使用光标来逐条读取查询结果集中的记录。光标是一种用于轻松处理多行数据的机制</p>
<h5 id="1-光标的声明">&gt; 1. 光标的声明</h5>
<blockquote>
<p>想要使用光标处理结果集中的数据, 需要先声明光标 。光标必须声明在声明变量, 条件之后</p>
</blockquote>
<pre><code class="language-sql">语法: DECLARE cursor_name CURSOR FOR select_statement
cursor_name表示光标的名称;
select_statement表示select语句的内容, 返回一个用于创建光标的结果集
</code></pre>
<pre><code class="language-sql">例如: 声明一个名为cursor_student的光标
DECLARE cursor_student CURSOR FOR select s_name,s_gender FROM student;
</code></pre>
<h5 id="2-光标的使用">&gt; 2. 光标的使用</h5>
<blockquote>
<p>首先要打开光标</p>
</blockquote>
<pre><code class="language-sql">语法: open cursor_name;
select cursor_name into var_name[,var_name]...

cursor_name 表示参数的名称;
var_name 表示将光标中的select语句查询出来的信息存入该参数中, 需要注意的是, var_name必须在声明光标之前就定义好
</code></pre>
<pre><code class="language-sql">例如: 使用名称为cursor_student的光标, 将查询出来的信息存入s_name和s_gender中
fetch cursor_student into s_name, s_gender;
</code></pre>
<h5 id="3-光标的关闭">&gt; 3. 光标的关闭</h5>
<blockquote>
<p>使用完光标后要将光标关闭, 关闭光标的语法格式为</p>
</blockquote>
<pre><code class="language-sql">close cursor_name;
</code></pre>
<hr>
<h4 id="625-流程控制的使用">&gt; 6.2.5 流程控制的使用</h4>
<p>流程控制语句用于将多个sql语句划分或组合成符合业务逻辑的代码块</p>
<h5 id="1-if语句">&gt;1. if语句</h5>
<blockquote>
<p>是指如果条件满足</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure proc6()			//定义一个存储过程;
    -&gt; begin							//开始;
    -&gt; declare var int;					//定义一个变量 var;
    -&gt; set var=10;						//设置var的值,可不设置;
    -&gt; if var is null					//if语句开始;
    -&gt; then select 'val is null';
    -&gt; else select 'val is not null';
    -&gt; end if;							//if语句结束;
    -&gt; end //							//结束;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; delimiter ;
mysql&gt; call proc6();					//查看
+-----------------+
| val is not null |
+-----------------+
| val is not null |
+-----------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)
</code></pre>
<h5 id="2-case-语句">&gt; 2. case 语句</h5>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure proc7()
    -&gt; begin
    -&gt; declare var int;
    -&gt; set var=1;
    -&gt; case var
    -&gt; when 1 then select 'val is 1';
    -&gt; when 2 then select 'val is 2';
    -&gt; else select 'val is not 1 or 2';
    -&gt; end case;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&gt; delimiter ;
mysql&gt; call proc7();
+----------+
| val is 1 |
+----------+
| val is 1 |
+----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
</code></pre>
<h5 id="3loop-语句">&gt; 3.loop 语句</h5>
<blockquote>
<p>loop循环语句用来重复执行某些语句,并不会进行条件判断。</p>
<p>loop语句内的语句会一直重复执行直到跳出循环语句</p>
</blockquote>
<blockquote>
<p>基本语法如下 :</p>
</blockquote>
<pre><code class="language-sql">[loop_label:]LOOP		// loop_label 表示loop语句的标记名称,该参数可以省略
statement_list			// statement_list 表示需要循环执行的语句
END LOOP [loop_label]
</code></pre>
<h5 id="4-leave语句">&gt; 4. leave语句</h5>
<blockquote>
<p>当不满足循环条件时, 需要用leave语句退出循环</p>
</blockquote>
<pre><code class="language-sql">语法: leave label
</code></pre>
<blockquote>
<p>例如:</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; create procedure proc8()
    -&gt; begin
    -&gt; declare id int default 0;
    -&gt; add_loop:LOOP
    -&gt; set id=id+1;
    -&gt; if id&gt;=10 then leave add_loop;
    -&gt; end if;
    -&gt; end LOOP add_loop;
    -&gt; select id;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&gt; call proc8() //
+------+
| id   |
+------+
|   10 |
+------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
</code></pre>
<h5 id="5-iterate-语句">&gt; 5.  iterate 语句</h5>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure proc9()
    -&gt; begin
    -&gt; declare p1 int default 0;			//p1初始值为0;
    -&gt; my_loop:loop
    -&gt; set p1=p1+1;
    -&gt; if p1&lt;10 then iterate my_loop;		//如果p1的值小于10是,重复执行p+1
    -&gt; elesif p1&gt;20 then leave my_loop;		//当p1的值大于或等于10并且小于20时
    -&gt; end if;
    -&gt; select 'p1 is between 10 and 20';	//当p1的值大于或等于10并且小于20时,打印&quot;p1 is bet...&quot;
    -&gt; end loop my_loop;
    -&gt; end //
</code></pre>
<h5 id="6-repeat-语句">&gt; 6. repeat 语句</h5>
<blockquote>
<p>作用: 创建一个带有条件判断的循环过程, 每次语句执行完毕后, 会对条件表达式进行判断, <mark>如果表达式为真, 则循环结束;</mark> 否则重复执行循环中的语句</p>
</blockquote>
<pre><code class="language-sql">语法: [repeat_lable:] repeat		//repeat_label为repeat语句的标注名称,该参数可选
	statement_list
	utill expr_condition		 //reapeat语句内的语句或语句群被重复,直至expr_condition为真
	end repeat [repeat_lable]
</code></pre>
<blockquote>
<p>例如</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; create procedure proc40()
    -&gt; begin
    -&gt; declare id int default 0;
    -&gt; repeat		//
    -&gt; set id=id+1;
    -&gt; select id;	//遍历 1-10;
    -&gt; until id&gt;=10 ---------&gt;&gt; 不带分号
    -&gt; end repeat;	//
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)
</code></pre>
<h5 id="7-where-语句">&gt; 7.  where 语句</h5>
<blockquote>
<p>作用: 创建一个带条件判断的循环过程, 与repeat 不同的是, where在语句执行时, 先对指定的表达式进行判断, 如果为真, 则执行循环内的语句, 否则退出循环</p>
</blockquote>
<pre><code class="language-sql">语法: [where_lable:] where expr_condition DO
	Statement_list
	end where [where_lable]
</code></pre>
<pre><code class="language-sql">mysql&gt; create procedure proc42()
    -&gt; begin
    -&gt; declare i int default 0;
    -&gt; while i&lt;10 do
    -&gt; set i=i+1;
    -&gt; select i;		//遍历1-10;
    -&gt; end while;
    -&gt; end //
Query OK, 0 rows affected (0.01 sec)
</code></pre>
<hr>
<h2 id="63-存储过程的使用"><strong>6.3 存储过程的使用</strong></h2>
<h4 id="631-调用存储过程">&gt; 6.3.1 调用存储过程</h4>
<blockquote>
<p>1.定义存储过程</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; create procedure test2(in s_gender varchar(50),out num int )
    -&gt; begin
    -&gt; select count(*) into num from student where gender=s_gender;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)
</code></pre>
<blockquote>
<p>2调用存储过程</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; delimiter ;
mysql&gt; call test2(&quot;女&quot;,@num);
Query OK, 1 row affected (0.01 sec)
</code></pre>
<blockquote>
<p>3.查看返回结果</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; select @num;
+------+
| @num |
+------+
|    2 |
+------+
1 row in set (0.00 sec)
</code></pre>
<hr>
<h4 id="632-查看存储过程">&gt;6.3.2 查看存储过程</h4>
<h5 id="1-show-status-语句中查看存储过程的状态">&gt; 1. show status 语句中查看存储过程的状态</h5>
<pre><code class="language-sql">mysql&gt; show procedure status like 'proc%' \G
*************************** 1. row ***************************
                  Db: chapter06
                Name: proc
                Type: PROCEDURE
             Definer: root@localhost
            Modified: 2020-11-25 08:32:11
             Created: 2020-11-25 08:32:11
       Security_type: DEFINER
             Comment:
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
*************************** 2. row ***************************
                  Db: chapter06
                Name: proc1
                Type: PROCEDURE
             Definer: root@localhost
            Modified: 2020-11-25 09:15:20
             Created: 2020-11-25 09:15:20
       Security_type: DEFINER
             Comment:
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
</code></pre>
<h5 id="2-show-create-语句中查看存储过程的状态创建语句">&gt; 2. show create 语句中查看存储过程的状态&amp;创建语句</h5>
<pre><code class="language-sql">mysql&gt; show create procedure chapter06.proc1 \G
*************************** 1. row ***************************
           Procedure: proc1
            sql_mode: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
    Create Procedure: CREATE DEFINER=`root`@`localhost` PROCEDURE `proc1`()
begin
select * from student;
end
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
1 row in set (0.00 sec)
</code></pre>
<h5 id="3从information_schemaroutine-表中查看存储过程的信息">&gt; 3.从information_schema.Routine 表中查看存储过程的信息</h5>
<pre><code class="language-sql">mysql&gt; select * from information_schema.Routines
    -&gt; where routine_name='proc1'
    -&gt; and routine_type='procedure' \G
*************************** 1. row ***************************
           SPECIFIC_NAME: proc1
         ROUTINE_CATALOG: def
          ROUTINE_SCHEMA: chapter06
            ROUTINE_NAME: proc1
            ROUTINE_TYPE: PROCEDURE
               DATA_TYPE:
CHARACTER_MAXIMUM_LENGTH: NULL
  CHARACTER_OCTET_LENGTH: NULL
       NUMERIC_PRECISION: NULL
           NUMERIC_SCALE: NULL
      CHARACTER_SET_NAME: NULL
          COLLATION_NAME: NULL
          DTD_IDENTIFIER: NULL
            ROUTINE_BODY: SQL
      ROUTINE_DEFINITION: begin
select * from student;
end
           EXTERNAL_NAME: NULL
       EXTERNAL_LANGUAGE: NULL
         PARAMETER_STYLE: SQL
        IS_DETERMINISTIC: NO
         SQL_DATA_ACCESS: CONTAINS SQL
                SQL_PATH: NULL
           SECURITY_TYPE: DEFINER
                 CREATED: 2020-11-25 09:15:20
            LAST_ALTERED: 2020-11-25 09:15:20
                SQL_MODE: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
         ROUTINE_COMMENT:
                 DEFINER: root@localhost
    CHARACTER_SET_CLIENT: gbk
    COLLATION_CONNECTION: gbk_chinese_ci
      DATABASE_COLLATION: utf8_general_ci
1 row in set (0.01 sec)
</code></pre>
<p>根据学号查询</p>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure proc43(in myid int)
    -&gt; begin
    -&gt; select name from student where id=myid;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&gt; delimiter ;
mysql&gt; call proc43(1) ;
+------+
| name |
+------+
| tom  |
+------+
</code></pre>
<p>根据输入的ID从学生表中查询该ID对应的姓名,并输出姓名</p>
<pre><code class="language-sql">mysql&gt; delimiter //
mysql&gt; create procedure test1(in myid int,out myname varchar(36))
    -&gt; begin
    -&gt; select name into myname from student where id=myid;
    -&gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&gt; delimiter ;
mysql&gt; call test1(3,@myname) ;	//调用存储过程
Query OK, 1 row affected (0.00 sec)

mysql&gt; select @myname ;			//查看返回结果
+---------+
| @myname |
+---------+
| rose    |
+---------+
1 row in set (0.00 sec)
</code></pre>
<hr>
<h4 id="633-修改存储过程">&gt; 6.3.3 修改存储过程</h4>
<blockquote>
<p>在MySQL中可以使用alter语句修改存储过程</p>
<p>语法格式如下:</p>
</blockquote>
<pre><code class="language-sql">ALTER {PROCEDURE|FUNCTION} sp_name[characteristic…]
</code></pre>
<blockquote>
<p>sp_name：表示存储过程或函数的名称。characteristic：表示要修改存储过程的哪个部分</p>
</blockquote>
<blockquote>
<p>characteristic 的取值如下:</p>
</blockquote>
<pre><code class="language-sql">1.contains sql 表示子程序中包括sql语句, 但不包含读或写数据的语句;
2.no sql 表示子程序中不包括sql语句;
3.reads sql data 表示表示子程序中包括读数据的语句;
4.modifies sql data	表示子程序中包括写数据的语句;
5.sql security{definer|invoker}	指明谁有权限来执行;
6.definer 表示只有定义者自己才能执行;
7.invoker	表示调用者可以执行;
8.comment 'string' 表示注释信息;
</code></pre>
<blockquote>
<p>注意: 目前此版本Mysql还不提供对已存在的存储过程代码的修改, 如果一定要修改存储过程代码, 必须先将存储过程删除之后, 再重新编写代码, 或创建一个新的存储过程</p>
</blockquote>
<hr>
<h4 id="634-删除存储过程">&gt; 6.3.4 删除存储过程</h4>
<blockquote>
<p>在MySQL中使用DROP语句修改存储过程，语法如下:</p>
</blockquote>
<pre><code class="language-sql">DROP{ procedure|function }[if exists] sp_name
</code></pre>
<blockquote>
<p>if exists 表示如果程序不存在, 它可以避免发生错误, 产生一个警告</p>
</blockquote>
<hr>
<hr>
<h2 id="71-视图概述">7.1 视图概述</h2>
<p>​		视图是从基本表中导出来的表，是一种虚拟存在的表, 并且表的结构和数据都依赖于基本表</p>
<p>通过视图不仅可以看到放在基本表中的数据, 并且还可以像操作基本表一样, 对视图中存放的数据进行查询</p>
<p>删除,修改 .与直接操作表相比视图具有以下优点:</p>
<blockquote>
<p>1.简化查询语句<br>
日常开发中我们可以将经常使用的查询定义为视图，从而使用户避免大量重复的操作。<br>
2安全性<br>
通过视图用户只能查询和修改他们所能见到的数据，数据库中的其他数据则既看不到也取不到。<br>
3逻辑数据独立性<br>
视图可以帮助用户屏蔽真实表结构变化带来的影响。</p>
</blockquote>
<hr>
<h2 id="72-视图管理">7.2 视图管理</h2>
<h4 id="721-创建视图的语法格式">&gt; 7.2.1 创建视图的语法格式:</h4>
<pre><code class="language-sql">create [or replace] [algorithm={undefined | merge | temptable]
view view_name [(column_list)]
as select_statement
[where [cascaded|local] check option]
</code></pre>
<blockquote>
<p>CREATE：表示创建视图的关键字。<br>
OR REPLACE：表示该语句能够替换已有视图。<br>
ALGORITHM：可选，表示视图选择的算法。<br>
UNDEFINED：表示MySQL将自动选择所要使用的算法。<br>
MERGE：使得视图定义的某一部分取代语句的对应部分。<br>
TEMPTABLE：表示将视图的结果存入临时表，然后使用临时表执行语句。<br>
view_name：表示要创建的视图名称。<br>
column_list：可选，表示属性清单。<br>
AS：表示指定视图要执行的操作。<br>
SELECT_statement：表示从某个表或视图中查出满足条件的记录，并导入视图中。<br>
WITH CHECK OPTION：可选，表示创建视图时要保证在该视图的权限范围之内。<br>
CASCADED：需要满足跟该视图有关的所有相关视图和表的条件，该参数为默认值。<br>
LOCAL：可选。表示创建视图时，只要满足该视图本身定义的条件即可。</p>
</blockquote>
<hr>
<h4 id="722-在单标上创建视图">&gt;7.2.2 在单标上创建视图</h4>
<blockquote>
<p>在student表上创建view_stu视图和view_stu2视图(自定义字段名)</p>
</blockquote>
<p>1.创建数据库,表,插入数据</p>
<pre><code class="language-sql">mysql&gt; create database chapter07;
Query OK, 1 row affected (0.04 sec)

mysql&gt; use chapter07
Database changed
mysql&gt; create table student(
    -&gt; s_id int(3),
    -&gt; name varchar(20),
    -&gt; math float,
    -&gt; chinese float
    -&gt; );
Query OK, 0 rows affected (0.05 sec)

mysql&gt; insert into student(s_id,name,math,chinese) values
    -&gt; (1,'Tom',80,78),
    -&gt; (2,'Jack',70,80),
    -&gt; (3,'Lucy',97,95);
Query OK, 3 rows affected (0.05 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; select * from student;
+------+------+------+---------+
| s_id | name | math | chinese |
+------+------+------+---------+
|    1 | Tom  |   80 |      78 |
|    2 | Jack |   70 |      80 |
|    3 | Lucy |   97 |      95 |
+------+------+------+---------+
3 rows in set (0.00 sec)
</code></pre>
<p>2.创建视图并查询</p>
<pre><code class="language-sql">mysql&gt; create view view_stu as select math,chinese,math+chinese from student;
mysql&gt; select * from view_stu;
+------+---------+--------------+
| math | chinese | math+chinese |
+------+---------+--------------+
|   80 |      78 |          158 |
|   70 |      80 |          150 |
|   97 |      95 |          192 |
+------+---------+--------------+
3 rows in set (0.00 sec)

mysql&gt; create view view_stu2(math,chinese,sum) as select math,chinese,math+chinese from student;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; select * from view_stu2; 
+------+---------+------+
| math | chinese | sum  |
+------+---------+------+
|   80 |      78 |  158 |
|   70 |      80 |  150 |
|   97 |      95 |  192 |
+------+---------+------+
3 rows in set (0.00 sec)
</code></pre>
<hr>
<h4 id="723-在多表上创建视图">&gt; 7.2.3 在多表上创建视图</h4>
<blockquote>
<p>在student表和stu_info表中创建stu_class视图, 查询s_id号,姓名和班级</p>
</blockquote>
<p>1.创建数据库,表,插入数据</p>
<pre><code class="language-sql">mysql&gt; create table stu_info(
    -&gt; s_id int(3),
    -&gt; class varchar(50),
    -&gt; addr varchar(100)
    -&gt; );
Query OK, 0 rows affected (0.01 sec)

mysql&gt; insert into stu_info(s_id,class,addr) values
    -&gt; (1,'erban','anhui'),
    -&gt; (2,'sanban','chongqing'),
    -&gt; (3,'yiban','shandong');
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; select * from stu_info;
+------+--------+-----------+
| s_id | class  | addr      |
+------+--------+-----------+
|    1 | erban  | anhui     |
|    2 | sanban | chongqing |
|    3 | yiban  | shandong  |
+------+--------+-----------+
3 rows in set (0.00 sec)
</code></pre>
<p>2.创建视图并查询</p>
<pre><code class="language-sql">mysql&gt; create view stu_class(id,name,class) as select student.s_id,student.name,stu_info.class from student,stu_info where student.s_id=stu_info.s_id;
Query OK, 0 rows affected (0.02 sec)

mysql&gt; select * from stu_class;
+------+------+--------+
| id   | name | class  |
+------+------+--------+
|    1 | Tom  | erban  |
|    2 | Jack | sanban |
|    3 | Lucy | yiban  |
+------+------+--------+
3 rows in set (0.00 sec)
</code></pre>
<hr>
<h4 id="724-查看视图">&gt;  7.2.4 查看视图</h4>
<h5 id="1-使用describe-语句查看视图">&gt; 1. 使用describe 语句查看视图</h5>
<blockquote>
<p>作用: 使用DESCRIBE语句可以查看视图的字段信息</p>
<p>语法: DESCRIBE 视图名;   或  DESC 视图名;</p>
</blockquote>
<pre><code class="language-sql">例如: desc[describe] stu_class;
</code></pre>
<h5 id="2-使用-show-table-status">&gt; 2. 使用 show table status</h5>
<blockquote>
<p>作用: 可以查看视图的基本信息</p>
<p>语法: SHOW TABLE STATUS LIKE '视图名';	----&gt; 注意like 引号</p>
</blockquote>
<pre><code class="language-sql">例如: show table status like 'stu_class' \G;
</code></pre>
<h5 id="3-使用-show-create-view">&gt; 3.  使用 show create view</h5>
<blockquote>
<p>作用: 不仅可以查看创建视图时的定义语句，还可以查看视图的字符编码</p>
<p>语法: SHOW CREATE VIEW 视图名;</p>
</blockquote>
<pre><code class="language-sql">例如: show create view stu_class \G;
</code></pre>
<hr>
<h4 id="725-修改视图">&gt; 7.2.5 修改视图</h4>
<h5 id="1-使用-create-or-replace-view-语句修改视图">&gt; 1. 使用 create or replace view 语句修改视图;</h5>
<blockquote>
<p>语法 : create or replace view 视图名 as select 表中字段 from 表名</p>
</blockquote>
<pre><code class="language-sql">create or replace view view_stu as select * from student;
</code></pre>
<h5 id="2-使用-alter-语句修改视图">&gt; 2. 使用 alter 语句修改视图;</h5>
<blockquote>
<p>语法 :  alter view 视图名 as select 表中字段 from 表名</p>
</blockquote>
<pre><code class="language-sql">alter view view_stu as select chinese from student;
</code></pre>
<hr>
<h4 id="726-更新视图">&gt; 7.2.6 更新视图</h4>
<h5 id="1-使用update-语句更新视图">1. 使用update 语句更新视图</h5>
<pre><code class="language-sql">update view_stu set chinese=100;
</code></pre>
<h5 id="2-使用insert-语句更新视图">2. 使用insert 语句更新视图</h5>
<pre><code class="language-sql">insert into student values(4,'Lily',100,100);
</code></pre>
<h5 id="3-使用delete语句更新视图">3. 使用delete语句更新视图</h5>
<pre><code class="language-sql">delete from view_stu2 where math=10;
</code></pre>
<hr>
<h4 id="727-删除视图">7.2.7 删除视图</h4>
<p>视图不在需要时,可以将其删除,删除视图只会删除视图的定义,不会删除数据.</p>
<p>删除一个或多个视图可以使用dorp view语句, 删除视图的基本语法格式如下所示:</p>
<pre><code class="language-sql">drop view [if exists]
view_name [,view_name1] ...
[restrict|cascade]

view_name 是指要删除的视图的名称,视图名称可以添加多个,各个名称用逗号隔开,删除视图必须有root权限
</code></pre>
<pre><code class="language-sql">例如: 删除view_stu2视图
drop view if exists view_stu2;
</code></pre>
<hr>
<hr>
<h2 id="81-数据备份与还原">8.1 数据备份与还原</h2>
<h4 id="811-数据的备份">8.1.1 数据的备份</h4>
<p>通过MySQL的mysqldump命令实现数据的备份</p>
<h5 id="1-备份单个数据库">1. 备份单个数据库</h5>
<blockquote>
<p>mysqldump 命令备份数据库的语法格式如下 :</p>
</blockquote>
<pre><code class="language-sql">mysqldump -u username -p password dbname [tbname] [tbname2...] &gt; filename.sql
</code></pre>
<blockquote>
<p>上述语法格式中, -u后面的参数username 表示用户名, -p 后面的参数 password表示登录密码, dbname 表示需要备份的数据库的名称, tbname表示数据库中的表名, 可以指定一个表或多个表, <mark>多个表之间用空格隔开</mark>, 如果不指定则备份整个数据库, filename.sql 表示备份文件的名称, 文件名前可以加上绝对路径</p>
<p>注意: 在使用mysqldump命令备份数据库时, 直接在dos命令行窗口中执行该命令即可, 不需要登录到mysql数据库</p>
</blockquote>
<p>例如:</p>
<pre><code class="language-sql">例如: 创建一个名称为chapter08的数据库, 并在数据库中创建表student, 插入相应数据
mysql&gt; create database chapter08
mysql&gt; use chapter08
Database changed
mysql&gt; create table student(
    -&gt; id int primary key auto_increment,
    -&gt; name varchar(20),
    -&gt; age int
    -&gt; );
Query OK, 0 rows affected (0.01 sec)

mysql&gt; insert into student(name,age) values
    -&gt; ('Tom',20),
    -&gt; ('Jack',16),
    -&gt; ('Lucy',18);
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; select * from student;
+----+------+------+
| id | name | age  |
+----+------+------+
|  1 | Tom  |   20 |
|  2 | Jack |   16 |
|  3 | Lucy |   18 |
+----+------+------+
3 rows in set (0.00 sec)
</code></pre>
<blockquote>
<p>首先在C盘创建一个名为backupdb的 文件夹用来存备份好的文件夹, 然后重新开启一个dos命令行窗口( 不需要登录到MySQL数据库), 使用mysqldump命令登录备份chapter08</p>
</blockquote>
<pre><code class="language-sql">语法: 
C:\Users\ASUS&gt;mysqldump -u root -p chapter08 &gt; C:/backupdb/chapter08.sql
Enter password: ****
</code></pre>
<p>查看备份:</p>
<pre><code class="language-sql">-- MySQL dump 10.13  Distrib 5.5.28, for Win32 (x86)
--
-- Host: localhost    Database: chapter08
-- ------------------------------------------------------
-- Server version	5.5.28

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `student`
--

DROP TABLE IF EXISTS `student`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `student` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(20) DEFAULT NULL,
  `age` INT(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `student`
--

LOCK TABLES `student` WRITE;
/*!40000 ALTER TABLE `student` DISABLE KEYS */;
INSERT INTO `student` VALUES (1,'Tom',20),(2,'Jack',16),(3,'Lucy',18);
/*!40000 ALTER TABLE `student` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-12-16  8:30:50
</code></pre>
<h5 id="2-备份多个数据库">2. 备份多个数据库</h5>
<pre><code class="language-sql">mysqldump –u username –p password -–database dbname1 [dbname2 dbname3…]
&gt;filename.sql
</code></pre>
<h5 id="3-备份所以数据库">3. 备份所以数据库</h5>
<pre><code class="language-sql">mysqldump –uusername –ppassword -–all-databases&gt;filename.sql
</code></pre>
<h4 id="812-数据的还原">8.1.2 数据的还原</h4>
<pre><code class="language-sql">语法: mysql –uusername –ppassword [dbname] &lt;filename.sql
</code></pre>
<h5 id="1-删除数据库">1. 删除数据库</h5>
<pre><code class="language-sql">mysql&gt; drop database chapter08;
</code></pre>
<h5 id="2-创建数据库">2. 创建数据库</h5>
<pre><code class="language-sql">mysql&gt; create database chapter08;
Query OK, 1 row affected (0.01 sec)
</code></pre>
<h5 id="3-还原数据库">3. 还原数据库</h5>
<pre><code class="language-sql">C:\Users\ASUS&gt;mysql -u root -p chapter08 &lt; C:/backupdb/chapter08-1.sql
Enter password: ****
</code></pre>
<h5 id="4-查看数据">4. 查看数据</h5>
<pre><code class="language-sql">mysql&gt; use chapter08
Database changed
mysql&gt; select * from student;
+----+------+------+
| id | name | age  |
+----+------+------+
|  1 | Tom  |   20 |
|  2 | Jack |   16 |
|  3 | Lucy |   18 |
+----+------+------+
3 rows in set (0.00 sec)
</code></pre>
<hr>
<h2 id="82-用户管理">8.2 用户管理</h2>
<h4 id="821-user表">8.2.1 user表</h4>
<blockquote>
<p>在安装数据库的时候会自动安装一个名为mysql的数据库, 该数据库中的表都是权限表, 如user, db, host ,table_priv</p>
<p>其中user表是最重要的一个权限表, 它记录了允许链接到服务器的账号信息以及一些全局级的权限信息, 通过操作表就可以对这些信息进行修改</p>
</blockquote>
<pre><code class="language-sql">mysql&gt; use mysql
mysql&gt; desc user;
+------------------------+-----------------------------------+------+-----+---------+-------+
| Field  字段名 			| Type  数据类型					| Null | Key | Default | Extra |
+------------------------+-----------------------------------+------+-----+---------+-------+
| Host                   | char(60)                          | NO   | PRI |         |       |
| User                   | char(16)                          | NO   | PRI |         |       |
| Password               | char(41)                          | NO   |     |         |       |
| Select_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Insert_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Update_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Delete_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Create_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Drop_priv              | enum('N','Y')                     | NO   |     | N       |       |
| Reload_priv            | enum('N','Y')                     | NO   |     | N       |       |
| Shutdown_priv          | enum('N','Y')                     | NO   |     | N       |       |
| Process_priv           | enum('N','Y')                     | NO   |     | N       |       |
| File_priv              | enum('N','Y')                     | NO   |     | N       |       |
| Grant_priv             | enum('N','Y')                     | NO   |     | N       |       |
| References_priv        | enum('N','Y')                     | NO   |     | N       |       |
| Index_priv             | enum('N','Y')                     | NO   |     | N       |       |
| Alter_priv             | enum('N','Y')                     | NO   |     | N       |       |
| Show_db_priv           | enum('N','Y')                     | NO   |     | N       |       |
| Super_priv             | enum('N','Y')                     | NO   |     | N       |       |
| Create_tmp_table_priv  | enum('N','Y')                     | NO   |     | N       |       |
| Lock_tables_priv       | enum('N','Y')                     | NO   |     | N       |       |
| Execute_priv           | enum('N','Y')                     | NO   |     | N       |       |
| Repl_slave_priv        | enum('N','Y')                     | NO   |     | N       |       |
| Repl_client_priv       | enum('N','Y')                     | NO   |     | N       |       |
| Create_view_priv       | enum('N','Y')                     | NO   |     | N       |       |
| Show_view_priv         | enum('N','Y')                     | NO   |     | N       |       |
| Create_routine_priv    | enum('N','Y')                     | NO   |     | N       |       |
| Alter_routine_priv     | enum('N','Y')                     | NO   |     | N       |       |
| Create_user_priv       | enum('N','Y')                     | NO   |     | N       |       |
| Event_priv             | enum('N','Y')                     | NO   |     | N       |       |
| Trigger_priv           | enum('N','Y')                     | NO   |     | N       |       |
| Create_tablespace_priv | enum('N','Y')                     | NO   |     | N       |       |
| ssl_type               | enum('','ANY','X509','SPECIFIED') | NO   |     |         |       |
| ssl_cipher             | blob                              | NO   |     | NULL    |       |
| x509_issuer            | blob                              | NO   |     | NULL    |       |
| x509_subject           | blob                              | NO   |     | NULL    |       |
| max_questions          | int(11) unsigned                  | NO   |     | 0       |       |
| max_updates            | int(11) unsigned                  | NO   |     | 0       |       |
| max_connections        | int(11) unsigned                  | NO   |     | 0       |       |
| max_user_connections   | int(11) unsigned                  | NO   |     | 0       |       |
| plugin                 | char(64)                          | YES  |     |         |       |
| authentication_string  | text                              | YES  |     | NULL    |       |
+------------------------+-----------------------------------+------+-----+---------+-------
</code></pre>
<h5 id="1-用户列">1. 用户列</h5>
<blockquote>
<p>用户列包括Host、User、Password,分别代表主机名、用户名和密码</p>
<p>其中Host和User列为user表的联合主键</p>
<p>当修改密码时，只需要修改,user表中Password字段的值即可</p>
</blockquote>
<h5 id="2-权限列">2. 权限列</h5>
<blockquote>
<p>user表的权限列包括Select_priv、Insert_priv、Update_priv等以priv结尾的字段，这些字段决定了用户的权限，其中包括查询权限、修改权限、关闭服务等权限。</p>
</blockquote>
<h5 id="3安全列">3.安全列</h5>
<blockquote>
<p>user表的安全列用于管理用户的安全信息，其中包括6个字段，具体如下：<br>
ssl_type和ssl_cipher：用于加密<br>
x509_issuer和x509_subject标准：可以用来标识用户<br>
plugin和authentication_string：用于存储与授权相关的插件</p>
</blockquote>
<h5 id="4-资源控制列">4. 资源控制列</h5>
<blockquote>
<p>资源控制列是用于限制用户使用的资源，包括4个字段，具体如下：<br>
max_questions：每小时允许用户执行查询操作的次数<br>
max_updates：每小时允许用户执行更新操作的次数<br>
max_connections：每小时允许用户建立连接的次数<br>
max_user_connections：允许单个用户同时建立连接的次数</p>
</blockquote>
<h4 id="822-创建普通用户">8.2.2 创建普通用户</h4>
<h5 id="1-使用-grant-语句创建用户">1. 使用 grant 语句创建用户</h5>
<pre><code class="language-sql">GRANT privileges ON database.table
      TO 'username'@'hostname' [IDENTIFIED BY [PASSWORD]'password']
      [,'username'@'hostname [IDENTIFIED BY [PASSWORD]'password']] …
</code></pre>
<blockquote>
<p>privileges 参数表示该用户具有的权限信息, database.table 表示新用户的权限范围表, 可以在指定的数据库, 表上使用自己的权限, username参数是新用户的名称, hostname参数是主机名, password参数是新用户的密码</p>
</blockquote>
<p>例如: 使用grant 语句创建一个新用户, 用户名是user1, 密码是 123, 并授予该用户对chapter08.student 表具有查询权限</p>
<pre><code class="language-sql">grant select on chapter08.student to 'user1'@'localhost' identified by '123';
mysql&gt; select host,user,password from user;
+-----------+-------+-------------------------------------------+
| host      | user  | password                                  |
+-----------+-------+-------------------------------------------+
| localhost | root  | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |
| localhost | user1 | *23AE809DDACAF96AF0FD78ED04B6A265E05AA257 |
| %         | root  | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |
+-----------+-------+-------------------------------------------+
3 rows in set (0.00 sec)
</code></pre>
<h5 id="2-使用-create-user-语句创建用户">2. 使用 create user 语句创建用户</h5>
<pre><code class="language-sql">CREATE USER 'username'@'hostname'[IDENTIFIED BY [PASSWORD]'password']
       [,'username'@'hostname'[IDENTIFIED BY [PASSWORD]'password']]…
</code></pre>
<blockquote>
<p>username参数是新用户的名称, hostname参数是主机名,identified by关键字用于设置用户的密码, password 表示用户的密码, [PASSWORD] 关键字表示使用哈希值设置的密码, 该参数是可选的, 如果密码是一个普通的字符串, 就不需要使用PASSWORD 关键字</p>
</blockquote>
<pre><code class="language-sql">例如: 使用create user语句创建一个新用户, 用户名为user2, 密码是123, create user语法如下:
create user 'user2'@'localhost' identified by '123';
</code></pre>
<h5 id="3-使用-insert-语句创建用户">3. 使用 insert 语句创建用户</h5>
<pre><code class="language-sql">INSERT INTO mysql.user(Host,User,Password,ssl_cipher、x509_issuer、x509_subject)
VALUES('hostname','username',PASSWORD('password'),'','','');
</code></pre>
<blockquote>
<p>上述语法格式中, mysql.user表示操作的表, Host,User,Password,ssl_cipher、x509_issuer、x509_subject 为相应字段</p>
<p>PASSWORD( ) 是一个加密函数, 用于给密码加密</p>
<p>注意: 使用insert添加用户时, 通常只需要添加host, user和password这三个字段即可, 其他字段取默认值,但由于</p>
<p>Host,User,Password,ssl_cipher、x509_issuer、x509_subject 字段是没有默认值的, 因此insert语句创建用户时, 还需要为这几个字段设置初始值</p>
</blockquote>
<pre><code class="language-sql">例如: 使用insert 语句直接在mysql.user表中创建一个新用户, 用户名为user3, 密码为123 ,insert语句如下: 
insert into mysql.user(Host,User,Password,scl_cipher,x509_issuer,x509_subject)
values('localhost','user3',password('123'),'',''); 
</code></pre>
<blockquote>
<p><mark>注意:</mark> insert语句没有刷新权限表的功能, 因此,user3用户暂时不能使用,为了让当前用户生效, 还需要手动刷新当前的权限表或重新启动mysql服务, 刷新权限表的语句如下:</p>
</blockquote>
<pre><code class="language-sql">flush privileges;
</code></pre>
<h4 id="823-删除普通用户">8.2.3 删除普通用户</h4>
<h5 id="1-使用drop-user-语句删除用户">1. 使用drop user 语句删除用户</h5>
<p>drop user语句与drop database 语句有些相似, 如果删除某个用户, 只需在 drop user 后面指定要删除的用户信息即可</p>
<blockquote>
<p>语法:</p>
</blockquote>
<pre><code class="language-sql">drop user 'username'@'hostname'[,'username'@'hostname'];
</code></pre>
<blockquote>
<p>username 表示要删除的用户, hostname表示主机名, drop user语句可以同时删除一个或多个用户, 多个用户之间可以使用逗号隔开</p>
<p>注意: 使用drop user语句来删除用户时, 必须拥有drop user 权限</p>
</blockquote>
<blockquote>
<p>使用drop user语句删除用户 user1</p>
</blockquote>
<pre><code class="language-sql">drop user 'user'@'localhost';
</code></pre>
<h5 id="2-使用-delete-语句删除用户">2. 使用 delete 语句删除用户</h5>
<blockquote>
<p>delete语句不仅可以删除普通表中的数据, 还可以删除 user表中的数据, 使用该语句删除 user表中的数据时, 只需要指定表名为mysql.user, 以及要删除的用户信息即可, 同样的, 在使用delete语句时必须拥有对mysql.user表的delete权限</p>
</blockquote>
<pre><code class="language-sql">语法格式如下: delete from mysql.user where host='hostname' and user='username';
</code></pre>
<blockquote>
<p>上述语法格式中, mysql.user 参数指定要操作的表, where 指定条件语句, host和user 都是mysql.user 表的字段,</p>
<p>这两个字段可以确定唯一的一条记录</p>
</blockquote>
<pre><code class="language-sql">例如: 使用delete语句删除用户 user2
delete from mysql.user where host='localhost' and user='user2';
</code></pre>
<blockquote>
<p><mark>注意</mark>: 由于直接对user表进行操作, 执行完命令后需要使用'flush privileges' 语句重新加载用户权限</p>
</blockquote>
<h4 id="824-修改用户密码">8.2.4 修改用户密码</h4>
<h5 id="1-修改-root用户密码">1. 修改 root用户密码</h5>
<blockquote>
<p>一. 通过mysqladmin命令修改root用户的密码</p>
</blockquote>
<p>mysqladmin命令通常用于执行一些管理性工作</p>
<blockquote>
<p>语法格式如下:</p>
</blockquote>
<pre><code class="language-sql">mysqladmin -u username [-h hostname] -p password new_password;
</code></pre>
<blockquote>
<p>username为要修改的用户名, 这里指的是root用户, 参数 -h 用于指定对应的主机, 可以省略不写, 默认为 localhost</p>
<p>-p 后面的password为关键字, 而不是修改后的密码, new_password 为新设置的密码</p>
<p>注意: 在使用mysqladmin命令修改root用户密码时, 需要在 C: \document and setting\administrator&gt;目录下进行修改</p>
</blockquote>
<pre><code class="language-sql">例如: 在命令行窗口中使用mysqladmin命令, 将root用户的密码修改为mypwd1,sql语句如下: 
mysqladmin -u root -p password mypwd1
</code></pre>
<blockquote>
<p>二. 通过update语句修改root用户的密码</p>
</blockquote>
<p>由于所以的用户信息都存放在mysql.user表中, 因此,只有root用户登录到MySQL服务器, 使用update语句就可以直接修改自己的密码</p>
<blockquote>
<p>语法格式如下</p>
</blockquote>
<pre><code class="language-sql">update mysql.user set password=password('mypwd2') where user='root' and host='localhost';
</code></pre>
<blockquote>
<p>上述语法执行成功后, 还需要使用 flush privileges 重新加载权限表, 然后就可以使用新密码登录 mysql数据库</p>
<p>结果如下 :</p>
</blockquote>
<pre><code class="language-sql">
</code></pre>
<blockquote>
<p>三. 使用set 语句修改root用户的密码</p>
</blockquote>
<p>root用户登录到mysql数据库后, 还可以通过set语句修改root用户的密码</p>
<blockquote>
<p>set语句修改密码的语法格式如下:</p>
</blockquote>
<pre><code class="language-sql">set password=password('new_password');
</code></pre>
<blockquote>
<p>注意: 由于set语句没有对密码加密的功能, 因此, 新密码必须使用password() 函数加密, 并且新密码需要使用引号括起</p>
</blockquote>
<pre><code class="language-sql">例如: root用户登录到mysql数据库, 使用set 语句将root用户的密码修改为mypwd3, set语句如下:
set password=password('mypwd3');
</code></pre>
<h5 id="2-root-用户修改普通用户的密码">2. root 用户修改普通用户的密码</h5>
<blockquote>
<p>1.使用grant语句修改普通用户密码</p>
</blockquote>
<blockquote>
<p>grant语句的作用比较多, 不仅可以创建用户授权, 还可以修改用户的密码, 通常情况下, 为了不影响当前账户的权限, 可以使用grant usage语句修改指定的账户的密码</p>
</blockquote>
<blockquote>
<blockquote>
<p>grant语句修改密码语法格式如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">grant usage on * . * to 'username'@'localhost' identified by [password] 'new_password';
</code></pre>
<blockquote>
<p>2.使用update语句修改普通用户的密码</p>
</blockquote>
<blockquote>
<p>root用户具有操作数据库的所有权限, 因此, 它不仅可以使用update语句修改自己的密码, 还可以使用update语句修改普通用户的密码</p>
</blockquote>
<blockquote>
<blockquote>
<p>update的语法格式为与root修改用户密码的语法格式相同</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">update mysql.user set password=password('new_password')
where user='username' and host='hostname';
</code></pre>
<blockquote>
<p><mark>注意</mark>: <mark>通过上述语句修改完普通用户的密码后, 还需要使用flush privileges语句重新加载权限表</mark></p>
</blockquote>
<blockquote>
<p>3.使用set语句修改普通用户的密码</p>
</blockquote>
<blockquote>
<p>set 不仅可以修改root用户的密码, 而且还可以修改普通用户密码, 在修改普通用户密码时, 还需要增加一个for子句, 指定要修改哪一个用户即可</p>
</blockquote>
<blockquote>
<blockquote>
<p>set语句修改密码的语法格式如下</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">set password for 'username'@'hostname'=password('new_password');
</code></pre>
<h5 id="3-普通用户修改密码">3. 普通用户修改密码</h5>
<blockquote>
<p>普通用户也可以修改自己的密码, 这样普通用户就不需要每次修改密码时都通知管理员, 普通用户登录到MySQL服务器后, 可以通过set语句来设置自己的密码</p>
</blockquote>
<blockquote>
<blockquote>
<p>set语句的基本格式如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">set password=password('new_password');
</code></pre>
<blockquote>
<p>set语句修改普通用户密码时, 和修改root用户是一样的, 都需要使用password() 函数进行加密</p>
</blockquote>
<hr>
<h2 id="83-权限管理">8.3 权限管理</h2>
<h4 id="831-mysql的权限">8.3.1 MySQL的权限</h4>
<p>Mysql中的权限信息被储存在mysql 数据库的 user,db,host,table_priv,column_priv和procs_priv表中, 当MySQL启动时会自动加载这些权限信息, 并将这些权限信息读取到内存中</p>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5CASUS%5CDesktop%5C%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%871.png" alt="图片1" loading="lazy"></figure>
<blockquote>
<p>权限解释:</p>
</blockquote>
<pre><code class="language-sql">1. create和drop的权限, 可以创建数据库,表,索引,或者删除已有的数据库, 表, 索引
2. insert, delete,update,select 权限,可以对数据库中的表进行增删改查操作
3. index权限,可以创建或删除索引, 适用于所以的表
4. alter权限.可以用于修改表的结构或重命名表
5. grant权限, 允许为其他用户授权, 可用于数据库和表
6. file权限, 被赋予该权限的用户能读写MySQL服务器上的任何文件
</code></pre>
<h4 id="832-授予权限">8.3.2 授予权限</h4>
<blockquote>
<p>我们之所以可以对数据进行增删改查的操作，是因为数据库中的用户拥有不同的权限，合理的授权可以保证数据库的安全</p>
</blockquote>
<blockquote>
<blockquote>
<p>MySQL中的GRANT语句可以为用户授权，语法格式如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">GRANT privileges [(columns)][,privileges[(columns)]] ON database.table
TO 'username'@'hostname' [IDENTIFIED BY [PASSWORD]'password']
[,'username'@'hostname' [IDENTIFIED BY [PASSWORD]'password']] …
[WITH with_option [with_option]…]
</code></pre>
<blockquote>
<p>privileges：表示权限类型。<br>
columns：参数表示权限作用于某一列，该参数可以省略不写，此时权限作用于整个表，username：表示用户名。<br>
hostname表示主机名。<br>
IDENTIFIED BY：参数为用户设置密码。<br>
PASSWORD参数为关键字.<br>
password为用户的新密码。</p>
</blockquote>
<blockquote>
<p>WITH关键字后面可以带有多个参数with_option，这个参数有五个取值</p>
<p>具体如下:</p>
<p>GRANT OPTION：将自己的权限授予其他用户MAX_QUERIES_PER_HOUR count：设置每小时最多可以执行多少次（count）查询。<br>
MAX_UPDATES_PER_HOUR count：设置每小时最多可以执行多少次更新。<br>
MAX_CONNECTIONS_PER_HOUR count：设置每小时最大的连接数量。<br>
MAX_USER_CONNECTIONS：设置每个用户最多可以同时建立连接的数量。</p>
</blockquote>
<h4 id="833-查看权限">8.3.3 查看权限</h4>
<blockquote>
<p>虽然使用SELECT语句可以查询user表中的权限信息，但是该语句需要指定用户和查询的权限，比较麻烦，MySQL还提供了一个查看权限的简单语句-SHOW GRANTS语句</p>
</blockquote>
<blockquote>
<blockquote>
<p>SHOW GRANTS的语法格式如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">SHOW GRANTS FOR 'username'@'hostname';
</code></pre>
<blockquote>
<p>语法格式相对简单, 只需要指定查询的用户名和主机名即可</p>
</blockquote>
<blockquote>
<blockquote>
<p>例1: 使用show grants语句查询root用户的权限信息</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">show grants for 'root'@'hostname';
</code></pre>
<blockquote>
<blockquote>
<p>例2: 使用show grants语句查询user4 用户的权限信息</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">show grants for 'user4'@'hostname';
</code></pre>
<h4 id="834-收回权限">8.3.4 收回权限</h4>
<blockquote>
<p>为了保证数据库的安全性，需要将用户不必要的权限收回，收回用户权限使用REVOKE语句</p>
</blockquote>
<blockquote>
<blockquote>
<ol>
<li>收回用户指定权限, 语法格式如下所示 :</li>
</ol>
</blockquote>
</blockquote>
<pre><code class="language-sql">REVOKE privileges [columns][,privileges[(columns)]] ON database.table 
FROM 'username'@'hostname'[,'username'@'hostname'] …
</code></pre>
<blockquote>
<p>revoke语法格式中的参数与grant语句中的参数意思相同, privileges参数表示收回的权限,columns表示权限作用于哪列上, 如果不指定该参数表示作用于整个表</p>
<blockquote>
<p>使用revoke语句收回user4用户的insert权限, revoke语句如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">revoke insert on * . * from 'user'@'localhost';
</code></pre>
<p>如果权限比较多可以使用收回所以权限的功能</p>
<blockquote>
<blockquote>
<ol start="2">
<li>收回用户全部权限, 语法格式如下所示 :</li>
</ol>
</blockquote>
</blockquote>
<pre><code class="language-sql">REVOKE ALL PRIVILEGES,GRANT OPTION 
FROM  'username'@'hostname' [,'username'@'hostname'] …
</code></pre>
<blockquote>
<blockquote>
<p>使用revoke语句收回user4用户的insert权限, revoke语句如下:</p>
</blockquote>
</blockquote>
<pre><code class="language-sql">revoke all privileges,grant option from 'user4'@'localhost';
</code></pre>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">本文作者：</strong>
      Aoian
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">本文链接：</strong>
      <a href="https://aoianz.github.io/post/mysql/" title="朝花夕拾 Mysql">https://aoianz.github.io/post/mysql/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">版权声明： </strong>
      本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://aoianz.github.io/tag/mfzycuj_f/"># MySQL</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="Andrid练习--仿QQ登录界面" href="https://aoianz.github.io/post/6AiMOPdir/">Andrid练习--仿QQ登录界面</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="Andrid练习--仿QQ登录界面" href="https://aoianz.github.io/post/6AiMOPdir/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
    </div>
  </div>
</div>
            
            
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | © 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
  <div class="bg-img">
    <img src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main\media\images\custom-bgImg.png" />
  </div>
  
  
  
  
  
  <script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://player.lmih.cn/player/js/player.js" id="myhk" key="demo" m="1"></script>


  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script>
  let images = document.querySelectorAll('.section img');
  console.log(images);
  images.forEach(image => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement('a');
    aelem.href = image.src;
    aelem.dataset['fancybox'] = 'images';
    aelem.dataset['rel'] = 'fancybox-button';
    aelem.classList.add('fancybox');
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  })
</script>
    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>感谢您的支持，我会继续努力的!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word">扫码打赏，你说多少就多少</p>
      <p class="reward-tip">打开微信扫一扫，即可进行扫码打赏哦</p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        window.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        window.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        window.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        window.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      window.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      window.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/aoian/"" data-c="
          &lt;center&gt;今天是2021年3月9号,域名正式切换为www.aoian.top 😃 ~&lt;/center&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://aoianz.github.io/post-images/1615385858637.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">新网址，新起点</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/cr2jxdvae/"" data-c="
          &lt;h3 id=&#34;javascript基础笔记&#34;&gt;JavaScript基础笔记&lt;/h3&gt;
&lt;p&gt;根据pink老师视频https://www.bilibili.com/video/BV1Sy4y1C7ha学习整理&lt;/p&gt;
&lt;h4 id=&#34;11初始javascript&#34;&gt;1.1初始JavaScript&lt;/h4&gt;
&lt;h5 id=&#34;javascript组成&#34;&gt;JavaScript组成:&lt;/h5&gt;
&lt;p&gt;1.ECMAScript&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;ECMAScript 是由ECMA 国际（ 原欧洲计算机制造商协会）进行标准化的一门编程语言，这种语言在万维网上应用广泛，它往往被称为 JavaScript 或 JScript，但实际上后两者是 ECMAScript 语言的实现和扩展&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2.DOM ——文档对象模型&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;文档对象模型（Document Object Model，简称DOM），是W3C组织推荐的处理可扩展标记语言的标准编程接口。通过 DOM 提供的接口可以对页面上的各种元素进行操作（大小、位置、颜色等）&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3.BOM ——浏览器对象模型&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;BOM (Browser Object Model，简称BOM) 是指浏览器对象模型，它提供了独立于内容的、可以与浏览器窗口进行互动的对象结构。通过BOM可以操作浏览器窗口，比如弹出框、控制浏览器跳转、获取分辨率等。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;12-javascript注释&#34;&gt;1.2 JavaScript注释&lt;/h4&gt;
&lt;h5 id=&#34;1单行注释&#34;&gt;1.单行注释&lt;/h5&gt;
&lt;p&gt;为了提高代码的可读性，JS与CSS一样，也提供了注释功能。JS中的注释主要有两种，分别是单行注释和多行注释。&lt;br&gt;
单行注释的注释方式如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 我是一行文字，不想被 JS引擎 执行，所以 注释起来
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2多行注释&#34;&gt;2.多行注释&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/*
  获取用户年龄和姓名
  并通过提示框显示出来
*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;13-javascript-输入输出语句&#34;&gt;1.3 JavaScript 输入输出语句&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;方法&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;说明&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;归属&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;alert(msg)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器弹出警示框&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;console.log(msg)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器控制台打印输出信息&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;prompt(info)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器弹出输入框，用户可以输入&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;浏览器&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;注意：alert() 主要用来显示消息给用户，console.log() 用来给程序员自己看运行时的消息,console.log()位置 F12 console&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
	&amp;lt;head&amp;gt;
		&amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;
		&amp;lt;title&amp;gt;JS输入输出&amp;lt;/title&amp;gt;
		&amp;lt;script&amp;gt;
			// 这是一个输入框
			prompt(&#39;请输入您的年龄&#39;);
			// alert 弹出警示框 输出的 展示给用户的
			alert(&#39;年龄为:&#39;)
			// console 控制台输出 给程序员测试用的
			console.log(&#39;我是程序员能看到的&#39;);
		&amp;lt;/script&amp;gt;
	&amp;lt;/head&amp;gt;
	&amp;lt;body&amp;gt;
	&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;21变量&#34;&gt;2.1变量&lt;/h4&gt;
&lt;h5 id=&#34;1声明变量&#34;&gt;1.声明变量&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//  声明变量  
var age; //  声明一个 名称为age 的变量
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;var 是一个 JS关键字，用来声明变量( variable 变量的意思 )。使用该关键字声明变量后，计算机会自动为变量分配内存空间，不需要程序员管&lt;/em&gt;&lt;br&gt;
&lt;em&gt;age 是程序员定义的变量名，我们要通过变量名来访问内存中分配的空间&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;2赋值&#34;&gt;2.赋值&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;age = 20; // 给 age  这个变量赋值为 20
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3变量的初始化&#34;&gt;3.变量的初始化&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var age  = 20;  // 声明变量同时赋值为 20        
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;声明一个变量并赋值， 我们称之为变量的初始化&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;案例:&lt;/p&gt;
&lt;p&gt;1.弹出一个输入框，提示用户输入姓名。&lt;br&gt;
2.弹出一个对话框，输出用户刚才输入的姓名&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
	&amp;lt;head&amp;gt;
		&amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;
		&amp;lt;title&amp;gt;输入输出案例&amp;lt;/title&amp;gt;
		&amp;lt;script&amp;gt;
			// 1.用户输入名字
			var name=prompt(&#39;请输入您的名字:&#39;);
			// 2.打印名字
			alert(name);
		&amp;lt;/script&amp;gt;
	&amp;lt;/head&amp;gt;
	&amp;lt;body&amp;gt;
		
	&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5-更新变量&#34;&gt;5. 更新变量&lt;/h5&gt;
&lt;p&gt;一个变量被重新复赋值后，它原有的值就会被覆盖，变量值将以最后一次赋的值为准&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var age = 18;
age = 81;   // 最后的结果就是81因为18 被覆盖掉了          
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;6-同时声明多个变量&#34;&gt;6. 同时声明多个变量&lt;/h5&gt;
&lt;p&gt;同时声明多个变量时，只需要写一个 var， 多个变量名之间使用英文逗号隔开&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var age = 10,  name = &#39;zs&#39;, sex = 2;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;22变量命名规范&#34;&gt;2.2变量命名规范&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;1.由字母(A-Za-z)、数字(0-9)、下划线(_)、美元符号( $ )组成，如：usrAge, num01, _name
2.严格区分大小写 var app; 和 var App; 是两个变量
3.不能以数字开头  18age   是错误的
4.不能是关键字、保留字例如：var、for、while
5.变量名必须有意义 MMD   BBD  nl   →     age  
6.遵守驼峰命名法-首字母小写,后面单词的首字母需要大写. myFirstName
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3数据类型&#34;&gt;3.数据类型&lt;/h3&gt;
&lt;h4 id=&#34;31数据类型简介&#34;&gt;3.1数据类型简介&lt;/h4&gt;
&lt;h5 id=&#34;311-为什么需要数据类型&#34;&gt;3.1.1 为什么需要数据类型&lt;/h5&gt;
&lt;p&gt;在计算机中，不同的数据所需占用的存储空间是不同的，为了便于把数据分成所需内存大小不同的数据，充分利用存储空间，于是定义了不同的数据类型。&lt;br&gt;
简单来说，数据类型就是数据的类别型号。比如姓名“张三”，年龄18，这些数据的类型是不一样的。&lt;/p&gt;
&lt;h5 id=&#34;312-变量的数据类型&#34;&gt;3.1.2 变量的数据类型&lt;/h5&gt;
&lt;p&gt;变量是用来存储值的所在处，它们有名字和数据类型。变量的数据类型决定了如何将代表这些值的位存储到计算机的内存中。JavaScript 是一种弱类型或者说动态语言。这意味着不用提前声明变量的类型，在程序运行过程中，类型会被自动确定&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var age = 10;        // 这是一个数字型
var areYouOk = &#39;是的&#39;;   // 这是一个字符串     
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;mark&gt;&lt;strong&gt;在代码运行时，变量的数据类型是由 JS引擎 根据 = 右边变量值的数据类型来判断的,运行完毕之后,变量就确定了数据类型&lt;/strong&gt;&lt;/mark&gt;&lt;br&gt;
JavaScript 拥有动态类型，同时也意味着相同的变量可用作不同的类型：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var x = 6;           // x 为数字
var x = &amp;quot;Bill&amp;quot;;      // x 为字符串    
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;313-数据类型的分类&#34;&gt;3.1.3 数据类型的分类&lt;/h5&gt;
&lt;p&gt;JavaScript把数据类型分为两类：&lt;br&gt;
1.简单数据类型 （Number,String,Boolean,Undefined,Null）&lt;br&gt;
2.复杂数据类型 （object)&lt;/p&gt;
&lt;h4 id=&#34;32-简单数据类型&#34;&gt;3.2. 简单数据类型&lt;/h4&gt;
&lt;p&gt;JavaScript 中的简单数据类型及其说明如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;简单数据类型&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;th&gt;默认值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Number&lt;/td&gt;
&lt;td&gt;数字型,包括整数型和浮点型值&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Boolean&lt;/td&gt;
&lt;td&gt;布尔值类型,如true,false,等价于1和0&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;String&lt;/td&gt;
&lt;td&gt;字符串类型,如&amp;quot;张三&amp;quot;&lt;/td&gt;
&lt;td&gt;&amp;quot;&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Underfined&lt;/td&gt;
&lt;td&gt;var a;声明了变量a但是没有给值,此时a=underfined&lt;/td&gt;
&lt;td&gt;underfined&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Null&lt;/td&gt;
&lt;td&gt;var a=null;声明了变量a为空值&lt;/td&gt;
&lt;td&gt;null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;321-数字型-number&#34;&gt;3.2.1 数字型 Number&lt;/h5&gt;
&lt;p&gt;JavaScript 数字类型既可以用来保存整数值，也可以保存小数(浮点数)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var age = 21;       // 整数
var Age = 21.3747;  // 小数     
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;1-数字型进制&#34;&gt;1. 数字型进制&lt;/h6&gt;
&lt;p&gt;最常见的进制有二进制、八进制、十进制、十六进制。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;  // 1.八进制数字序列范围：0~7
 var num1 = 07;   // 对应十进制的7
 var num2 = 019;  // 对应十进制的19
 var num3 = 08;   // 对应十进制的8
  // 2.十六进制数字序列范围：0~9以及A~F
 var num = 0xA;   

八进制前面加0，十六进制前面加 0x  
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;2数字范围&#34;&gt;2.数字范围&lt;/h6&gt;
&lt;p&gt;JavaScript中数值的最大和最小值&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;alert(Number.MAX_VALUE); // 1.7976931348623157e+308
alert(Number.MIN_VALUE); // 5e-324
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最大值：Number.MAX_VALUE，这个值为： 1.7976931348623157e+308&lt;br&gt;
最小值：Number.MIN_VALUE，这个值为：5e-32&lt;/p&gt;
&lt;h6 id=&#34;3数字型的三个特殊值&#34;&gt;3.数字型的三个特殊值&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;alert(Infinity);  // Infinity
alert(-Infinity); // -Infinity
alert(NaN);       // NaN
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Infinity ，代表无穷大，大于任何数值&lt;br&gt;
-Infinity ，代表无穷小，小于任何数值&lt;br&gt;
NaN ，Not a number，代表一个非数值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;4isnan&#34;&gt;4.isNaN()&lt;/h6&gt;
&lt;p&gt;用来判断一个变量是否为非数字的类型，返回 true 或者 false&lt;/p&gt;
&lt;p&gt;isNaN(x),如果x是数字,返回false,不是数字 返回true,	x是一个非数字类型&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var usrAge = 21;
var isOk = isNaN(userAge);
console.log(isNum);            // false ，21 不是一个非数字
var usrName = &amp;quot;andy&amp;quot;;
console.log(isNaN(userName));  // true ，&amp;quot;andy&amp;quot;是一个非数字
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h5 id=&#34;322字符串型-string&#34;&gt;3.2.2字符串型 String&lt;/h5&gt;
&lt;p&gt;字符串型可以是引号中的任意文本，其语法为 双引号 &amp;quot;&amp;quot; 和 单引号&#39;&#39;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var strMsg = &amp;quot;我爱北京天安门~&amp;quot;;  // 使用双引号表示字符串
var strMsg2 = &#39;我爱吃猪蹄~&#39;;    // 使用单引号表示字符串
// 常见错误
var strMsg3 = 我爱大肘子;       // 报错，没使用引号，会被认为是js代码，但js没有这些语法
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;因为 HTML 标签里面的属性使用的是双引号，JS 这里我们更推荐使用单引号。&lt;/p&gt;
&lt;h6 id=&#34;1-字符串引号嵌套&#34;&gt;1. 字符串引号嵌套&lt;/h6&gt;
&lt;p&gt;JS 可以用单引号嵌套双引号 ，或者用双引号嵌套单引号 (外双内单，外单内双)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var strMsg = &#39;我是&amp;quot;一个&amp;quot;程序猿&#39;;   // 可以用&#39;&#39;包含&amp;quot;&amp;quot;
var strMsg2 = &amp;quot;我是&#39;一个&#39;程序猿&amp;quot;;  // 也可以用&amp;quot;&amp;quot; 包含&#39;&#39;

//  常见错误
var badQuotes = &#39;What on earth?&amp;quot;; // 报错，不能 单双引号搭配
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;2字符串转义符&#34;&gt;2.字符串转义符&lt;/h6&gt;
&lt;p&gt;类似HTML里面的特殊字符，字符串中也有特殊字符，我们称之为转义符。&lt;br&gt;
转义符都是 \ 开头的，常用的转义符及其说明如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;转义符&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;解释说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\n&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;换行符，n 是 newline 的意思&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\ \&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;斜杠 \&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\ &#39;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&#39;  单引号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\ &amp;quot;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;”双引号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\t&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;tab 缩进&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;\b&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;空格 ，b 是 blank 的意思&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h6 id=&#34;3-字符串长度&#34;&gt;3. 字符串长度&lt;/h6&gt;
&lt;p&gt;字符串是由若干字符组成的，这些字符的数量就是字符串的长度。通过字符串的 length 属性可以获取整个字符串的长度。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var strMsg = &amp;quot;Hello!&amp;quot;;
alert(strMsg.length); // 显示 6
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;4-字符串拼接&#34;&gt;4. 字符串拼接&lt;/h6&gt;
&lt;p&gt;多个字符串之间可以使用 + 进行拼接，其拼接方式为 字符串 + 任何类型 = 拼接之后的新字符串&lt;br&gt;
拼接前会把与字符串相加的任何类型转成字符串，再拼接成一个新的字符串&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//1.1 字符串 &amp;quot;相加&amp;quot;
alert(&#39;hello&#39; + &#39; &#39; + &#39;world&#39;); // hello world
//1.2 数值字符串 &amp;quot;相加&amp;quot;
alert(&#39;100&#39; + &#39;100&#39;); // 100100
//1.3 数值字符串 + 数值
alert(&#39;11&#39; + 12);     // 1112 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;quot;+&amp;quot;号总结口诀：数值相加 ，字符相连&lt;/p&gt;
&lt;h6 id=&#34;5-字符串拼接加强&#34;&gt;5. 字符串拼接加强&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;console.log(&#39;pink老师&#39; + 18);           // 只要有字符就会相连 
var age = 18;
// console.log(&#39;pink老师age岁啦&#39;);       // 这样不行哦
console.log(&#39;pink老师&#39; + age);          // pink老师18
console.log(&#39;pink老师&#39; + age + &#39;岁啦&#39;);  // pink老师18岁啦
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们经常会将字符串和变量来拼接，因为变量可以很方便地修改里面的值&lt;br&gt;
变量是不能添加引号的，因为加引号的变量会变成字符串&lt;br&gt;
如果变量两侧都有字符串拼接，口诀“&lt;mark&gt;引引加加&lt;/mark&gt; ”，删掉数字，变量写加中间&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id=&#34;323布尔型-boolean&#34;&gt;3.2.3布尔型 Boolean&lt;/h5&gt;
&lt;p&gt;布尔类型有两个值：true 和 false ，其中 true 表示真（对），而 false 表示假（错）。&lt;br&gt;
布尔型和数字型相加的时候， true 的值为 1 ，false 的值为 0。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;console.log(true + 1);  // 2
console.log(false + 1); // 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;324-undefined-和-null&#34;&gt;3.2.4 Undefined 和 Null&lt;/h5&gt;
&lt;p&gt;一个声明后没有被赋值的变量会有一个默认值 undefined ( 如果进行相连或者相加时，注意结果）&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var variable;
console.log(variable);           // undefined
console.log(&#39;你好&#39; + variable);  // 你好undefined
console.log(11 + variable);     // NaN
console.log(true + variable);   //  NaN
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;一个声明变量给 null 值，里面存的值为空（学习对象时，我们继续研究null)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var vari = null;
console.log(&#39;你好&#39; + vari);  // 你好null
console.log(11 + vari);     // 11
console.log(true + vari);   //  1
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;33获取变量数据类型&#34;&gt;3.3获取变量数据类型&lt;/h4&gt;
&lt;h5 id=&#34;331-获取检测变量的数据类型&#34;&gt;3.3.1 获取检测变量的数据类型&lt;/h5&gt;
&lt;p&gt;typeof 可用来获取检测变量的数据类型&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var num = 18;
console.log(typeof num) // 结果 number      
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;不同类型的返回值&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;例&lt;/th&gt;
&lt;th&gt;结果&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;String&lt;/td&gt;
&lt;td&gt;typeof&amp;quot;小白&amp;quot;&lt;/td&gt;
&lt;td&gt;&amp;quot;string&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Number&lt;/td&gt;
&lt;td&gt;typeof 18&lt;/td&gt;
&lt;td&gt;&amp;quot;number&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Boolean&lt;/td&gt;
&lt;td&gt;typeof true&lt;/td&gt;
&lt;td&gt;&amp;quot;boolean&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Underfined&lt;/td&gt;
&lt;td&gt;typeof underfined&lt;/td&gt;
&lt;td&gt;&amp;quot;underfined&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Null&lt;/td&gt;
&lt;td&gt;typeof null&lt;/td&gt;
&lt;td&gt;&amp;quot;null&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;332-字面量&#34;&gt;3.3.2 字面量&lt;/h5&gt;
&lt;p&gt;字面量是在源代码中一个固定值的表示法，通俗来说，就是字面量表示如何表达这个值。&lt;br&gt;
1.数字字面量：8, 9, 10&lt;br&gt;
2.字符串字面量：&#39;后端&#39;, &amp;quot;前端&amp;quot;&lt;br&gt;
3.布尔字面量：true，false&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;34数据类型转换&#34;&gt;3.4数据类型转换&lt;/h4&gt;
&lt;h5 id=&#34;341-转换为数字型重点&#34;&gt;3.4.1 转换为数字型（重点)&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;方式&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;th&gt;案例&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;parselnt(String)函数&lt;/td&gt;
&lt;td&gt;将string类型转成整数数值型&lt;/td&gt;
&lt;td&gt;parselnt(&#39;78&#39;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parseFloat(string)函数&lt;/td&gt;
&lt;td&gt;将string类型转成浮点数数值型&lt;/td&gt;
&lt;td&gt;parseFloat(&#39;78.21&#39;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Number()强制转换函数&lt;/td&gt;
&lt;td&gt;将string类型转换为数值型&lt;/td&gt;
&lt;td&gt;Number(&#39;12&#39;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;js隐式转换(. * /)&lt;/td&gt;
&lt;td&gt;利用算术运算隐式转换为数值型&lt;/td&gt;
&lt;td&gt;&#39;12&#39;-0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;注意:隐式转换为js难点https://blog.csdn.net/itcast_cn/article/details/82887895&lt;/p&gt;
&lt;p&gt;https://www.cnblogs.com/chenmeng0818/p/5954215.html&lt;/p&gt;
&lt;p&gt;案例1: 计算年龄&lt;/p&gt;
&lt;p&gt;要求在页面中弹出一个输入框，我们输入出生年份后， 能计算出我们的年龄&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 1. 弹出输入框，输入出生年份，并存储在变量中  
var year = prompt(&#39;请输入您的出生年份：&#39;);  // 用户输入
// 2. 用今年减去刚才输入的年份   
var result = 2019 - year;               // 程序内部处理
// 3. 弹出提示框  
alert(&#39;您的年龄是:&#39; + result + &#39;岁&#39;);     // 输出结果
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例2: 简单加法器&lt;/p&gt;
&lt;p&gt;计算两个数的值， 用户输入第一个值后，继续弹出第二个输入框并输入第二个值，最后通过弹出窗口显示出两次输入值相加的结果。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 1. 先弹出第一个输入框，提示用户输入第一个值 
 var num1 = prompt(&#39;请输入第一个值：&#39;);
// 2. 再弹出第二个框，提示用户输入第二个值 
 var num2 = prompt(&#39;请输入第二个值：&#39;);
// 3. 将输入的值转换为数字型后，把这两个值相加，并将结果赋给新的变量
//**如果是减法,除法,乘法则不需要转换
 var result = parseFloat(num1) + parseFloat(num2);
// 4. 弹出结果
 alert(&#39;结果是:&#39; + result);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;342-转换为布尔型&#34;&gt;3.4.2  转换为布尔型&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;方式&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;th&gt;案例&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Boolean&lt;/td&gt;
&lt;td&gt;其他类型转成布尔值&lt;/td&gt;
&lt;td&gt;Boolean(&#39;true&#39;);&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;代表空、否定的值会被转换为 false  ，如 &#39;&#39;、0、NaN、null、undefined&lt;br&gt;
其余值都会被转换为 true&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;console.log(Boolean(&#39;&#39;)); // false
console.log(Boolean(0)); // false
console.log(Boolean(NaN)); // false
console.log(Boolean(null)); // false
console.log(Boolean(undefined)); // false
console.log(Boolean(&#39;小白&#39;)); // true
console.log(Boolean(12)); // true
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-运算符&#34;&gt;4. 运算符&lt;/h3&gt;
&lt;h4 id=&#34;运算符优先级&#34;&gt;运算符优先级&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;优先级&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;运算符&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;顺序&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;小括号&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;()&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;一元运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;++ -- !&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;算术运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;先* / 后+ -&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;关系运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;gt; &amp;gt;=  &amp;lt; &amp;lt;=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;相等运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;== !=  !==   ===&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;6&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;逻辑运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;先&amp;amp;&amp;amp; 后 ||&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;赋值运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;逗号运算符&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;,&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h3 id=&#34;6数组&#34;&gt;6.数组&lt;/h3&gt;
&lt;h4 id=&#34;61-创建数组&#34;&gt;6.1 创建数组&lt;/h4&gt;
&lt;h5 id=&#34;611-数组的创建方式&#34;&gt;6.1.1 数组的创建方式&lt;/h5&gt;
&lt;h6 id=&#34;1-利用-new-创建数组&#34;&gt;1. 利用  new 创建数组&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var 数组名 = new Array() ；
var arr = new Array();   // 创建一个新的空数组
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;2-利用数组字面量创建数组&#34;&gt;2. 利用数组字面量创建数组&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//1. 使用数组字面量方式创建空的数组
var  数组名 = []；
//2. 使用数组字面量方式创建带初始值的数组
var  数组名 = [&#39;小白&#39;,&#39;小 黑&#39;,&#39;大黄&#39;,&#39;瑞奇&#39;];
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;数组的字面量是方括号 [ ]&lt;br&gt;
声明数组并赋值称为数组的初始化&lt;br&gt;
这种字面量方式也是我们以后最多使用的方式&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;612-数组元素的类型&#34;&gt;6.1.2 数组元素的类型&lt;/h5&gt;
&lt;p&gt;数组中可以存放任意类型的数据，例如字符串，数字，布尔值等&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arrStus = [&#39;小白&#39;,12,true,28.9];
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;62-获取数组元素&#34;&gt;6.2 获取数组元素&lt;/h4&gt;
&lt;h5 id=&#34;621-数组的索引&#34;&gt;6.2.1 数组的索引&lt;/h5&gt;
&lt;p&gt;索引(下标):用来访问数组元素的序号(数组下标从0开始0)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arrStus = [&#39;小白&#39;,12,true,28.9];
索引(下标):		   0   1    2    3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;数组可以通过&lt;mark&gt;索引&lt;/mark&gt;来访问、设置、修改对应的数组元素，我们可以通过“&lt;mark&gt;数组名[索引]&lt;/mark&gt;”的形式来获取数组中的元素&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 定义数组
var arrStus = [1,2,3];
// 获取数组中的第2个元素
alert(arrStus[1]); 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;63-遍历数组&#34;&gt;6.3 遍历数组&lt;/h4&gt;
&lt;p&gt;问：数组中的每一项我们怎么取出来？&lt;br&gt;
答：可以通过“数组名[索引号]”的方式一项项的取出来&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;,&#39;green&#39;, &#39;blue&#39;];
console.log(arr[0]) // red
console.log(arr[1]) // green
console.log(arr[2]) // blue
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;问：怎么把数组里面的元素全部取出来？&lt;/p&gt;
&lt;p&gt;答：从代码中我们可以发现，从数组中取出每一个元素时，代码是重复的，有所不一样的是索引值在递增     答案就是 &lt;mark&gt;循环&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;遍历&lt;/mark&gt;: 就是把数组中的每个元素从头到尾都访问一次（类似我们每天早上学生的点名）。&lt;br&gt;
我们可以&lt;mark&gt;通过 for 循环索引遍历&lt;/mark&gt;&lt;mark&gt;数组&lt;/mark&gt;中的每一项&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;,&#39;green&#39;, &#39;blue&#39;];
for(var i = 0; i &amp;lt; arr.length; i++){
    console.log(arrStus[i]);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;631-数组的长度&#34;&gt;6.3.1 数组的长度&lt;/h5&gt;
&lt;p&gt;使用“数组名.length”可以访问数组元素的数量(数组长度)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arrStus = [1,2,3];
alert(arrStus.length);  // 3
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：&lt;br&gt;
1.此处数组的长度是数组元素的个数 ，不要和数组的索引号混淆。&lt;br&gt;
2.当我们数组里面的元素个数发生了变化，这个 length 属性跟着一起变化。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;案例1:遍历数组&lt;/p&gt;
&lt;p&gt;请将  [“关羽”,“张飞”,“马超”,“赵云”,“黄忠”,“刘备”,“姜维”]; 数组里的元素依次打印到控制台&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&amp;quot;关羽&amp;quot;,&amp;quot;张飞&amp;quot;,&amp;quot;马超&amp;quot;,&amp;quot;赵云&amp;quot;,&amp;quot;黄忠&amp;quot;,&amp;quot;刘备&amp;quot;,&amp;quot;姜维&amp;quot;]; 
// 遍历  从第一个到最后一个
for(var i = 0; i &amp;lt; arr.length; i++ )  { 
   console.log( arr[i] );
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例 2：数组求和及平均值&lt;/p&gt;
&lt;p&gt;求数组 [2,6,1,7, 4] 里面所有元素的和以及平均值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.声明一个求和变量 sum。&lt;br&gt;
2.遍历这个数组，把里面每个数组元素加到 sum 里面。&lt;br&gt;
3.用求和变量 sum 除以数组的长度就可以得到数组的平均值。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [2, 6, 1, 7, 4];
var sum = 0;
var average = 0;
for (var i = 0; i &amp;lt; arr.length; i++) {
    sum += arr[i];
}
average = sum / arr.length;
console.log(&#39;这组数的和是：&#39; + sum);
console.log(&#39;这组数的平均值是：&#39; + average);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例3: 数组最大值&lt;/p&gt;
&lt;p&gt;求数组[2,6,1,77,52,25,7]中的最大值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.声明一个保存最大元素的变量 max。&lt;br&gt;
2.默认最大值可以取数组中的第一个元素。&lt;br&gt;
3.遍历这个数组，把里面每个数组元素和 max 相比较。&lt;br&gt;
4.如果这个数组元素大于max 就把这个数组元素存到 max 里面，否则继续下一轮比较。&lt;br&gt;
5.最后输出这个 max。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arrNum = [2,6,1,77,52,25,7];
var maxNum = arrNum[0]; // 用来保存最大元素,默认最大值是数组中的第一个元素
// 从0 开始循环数组里的每个元素
for(var i = 0;i&amp;lt; arrNum.length; i++){
    // 如果数组里当前循环的元素大于 maxNum，则保存这个元素和下标
    if(arrNum[i] &amp;gt; maxNum){
        maxNum = arrNum[i]; // 保存数值到变量 maxNum
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例4: 数组转换为字符串&lt;/p&gt;
&lt;p&gt;要求：将数组 [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;] 里面的元素转换为字符串&lt;br&gt;
输出： &#39;redgreenbluepink&#39;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.思路：就是把里面的元素相加就好了，但是注意保证是字符相加。&lt;br&gt;
2.需要一个新变量 str 用于存放转换完的字符串。&lt;br&gt;
3.遍历原来的数组，分别把里面数据取出来，加到字符串变量 str 里面。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;];
var str = &#39;&#39;;
for (var i = 0; i &amp;lt; arr.length; i++) {
    str += arr[i];
}
console.log(str);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例5: 数组转换为分割字符串&lt;/p&gt;
&lt;p&gt;要求：将数组 [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;] 转换为字符串，并且用 | 或其他符号分割&lt;br&gt;
输出： &#39;red|green|blue|pink&#39;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.需要一个新变量用于存放转换完的字符串 str。&lt;br&gt;
2.遍历原来的数组，分别把里面数据取出来，加到字符串里面。&lt;br&gt;
3.同时在后面多加一个分隔符。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;];
var str = &#39;&#39;;
var separator = &#39;|&#39;
for (var i = 0; i &amp;lt; arr.length; i++) {
   str += arr[i] + separator;
}
console.log(str);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;64数组中新增元素&#34;&gt;6.4数组中新增元素&lt;/h4&gt;
&lt;h5 id=&#34;641-通过修改-length-长度新增数组元素&#34;&gt;6.4.1 通过修改 length 长度新增数组元素&lt;/h5&gt;
&lt;p&gt;可以通过修改 length 长度来实现数组扩容的目的&lt;br&gt;
length 属性是可读写的&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;];
arr.length = 7;
console.log(arr);
console.log(arr[4]);
console.log(arr[5]);
console.log(arr[6]);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;其中索引号是 4，5，6 的空间没有给值，就是声明变量未给值，默认值就是 undefined&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;642-通过修改数组索引新增数组元素&#34;&gt;6.4.2  通过修改数组索引新增数组元素&lt;/h5&gt;
&lt;p&gt;可以通过修改数组索引的方式追加数组元素&lt;br&gt;
不能直接给数组名赋值，否则会覆盖掉以前的数据&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;];
arr[4] = &#39;hotpink&#39;;
console.log(arr);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例1: 数组新增元素&lt;/p&gt;
&lt;p&gt;新建一个数组，里面存放10个整数（ 1~10）， 要求使用循环追加的方式输出： [1,2,3,4,5,6,7,8,9,10]&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.使用循环来追加数组。&lt;br&gt;
2.声明一个空数组 arr。&lt;br&gt;
3.循环中的计数器 i  可以作为数组元素存入。&lt;br&gt;
4.由于数组的索引号是从0开始的， 因此计数器从 0 开始更合适，存入的数组元素要+1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [];
for (var i = 0; i &amp;lt; 10; i++) {
    arr[i] = i + 1;
}
console.log(arr);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例 2：筛选数组&lt;/p&gt;
&lt;p&gt;要求：将数组 [2, 0, 6, 1, 77, 0, 52, 0, 25, 7] 中大于等于 10 的元素选出来，放入新数组&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;分析:&lt;/p&gt;
&lt;p&gt;1.声明一个新的数组用于存放新数据。&lt;br&gt;
2.遍历原来的数组，找出大于等于 10 的元素。&lt;br&gt;
3.依次追加给新数组 newArr。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//方法1:

var arr = [2, 0, 6, 1, 77, 0, 52, 0, 25, 7];
var newArr = [];
// 定义一个变量 用来计算 新数组的索引号
var j = 0;
for (var i = 0; i &amp;lt; arr.length; i++) {
    if (arr[i] &amp;gt;= 10) {
        // 给新数组
        newArr[j] = arr[i];
        // 索引号 不断自加
        j++;
    }
}
console.log(newArr);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//方法2:

var arr = [2, 0, 6, 1, 77, 0, 52, 0, 25, 7];
var newArr = [];
for (var i = 0; i &amp;lt; arr.length; i++) {
    if (arr[i] &amp;gt;= 10) {
        // 给新数组
        newArr[newArr.length] = arr[i];
    }
}
console.log(newArr);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;65-数组案例练习&#34;&gt;6.5 数组案例练习&lt;/h4&gt;
&lt;p&gt;案例 1： 删除指定数组元素&lt;/p&gt;
&lt;p&gt;要求：将数组[2, 0, 6, 1, 77, 0, 52, 0, 25, 7]中的 0 去掉后，形成一个不包含 0 的新数组。&lt;/p&gt;
&lt;p&gt;需要一个新数组用于存放筛选之后的数据。&lt;br&gt;
遍历原来的数组，把不是 0 的数据添加到新数组里面( 此时要注意采用数组名+索引的格式接收数据)。&lt;br&gt;
新数组里面的个数，用 length 不断累加&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [2, 0, 6, 1, 77, 0, 52, 0, 25, 7];
var newArr = [];   // 空数组的默认的长度为 0 
// 定义一个变量 i 用来计算新数组的索引号
for (var i = 0; i &amp;lt; arr.length; i++) {
    // 找出大于 10 的数
    if (arr[i] != 0) {
        // 给新数组
        // 每次存入一个值，newArr长度都会 +1  
        newArr[newArr.length] = arr[i];
    }
}
console.log(newArr);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例 2： 翻转数组&lt;/p&gt;
&lt;p&gt;要求: 将数组 [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;, &#39;purple&#39;] 的内容反过来存放。&lt;br&gt;
输出： [&#39;purple&#39;, &#39;pink&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;red&#39;]&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var arr = [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;, &#39;pink&#39;, &#39;purple&#39;];
var newArr = [];
for (var i = 0; i &amp;lt; arr.length; i++) {
    // newArr 是接收方，arr 是输送方
    newArr[i] = arr[arr.length - i - 1];
}
console.log(newArr);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;案例 3： 数组排序（冒泡排序）&lt;/p&gt;
&lt;p&gt;要求：将数组 [5, 4, 3, 2, 1]中的元素按照从小到大的顺序排序，输出： 1，2，3，4，5&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;   var arr = [5, 4, 3, 2, 1];
        for (var i = 0; i &amp;lt; arr.length - 1; i++) {
            for (var j = 0; j &amp;lt; arr.length - i - 1; j++) {
                if (arr[j] &amp;gt; arr[j + 1]) {
                    var temp = arr[j];
                    arr[j] = arr[j + 1];
                    arr[j + 1] = temp;
                }
            }
        }
  console.log(arr);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;7-函数&#34;&gt;7. 函数&lt;/h3&gt;
&lt;h4 id=&#34;71-函数的概念&#34;&gt;7.1 函数的概念&lt;/h4&gt;
&lt;p&gt;在 JS 里面，可能会定义非常多的相同代码或者功能相似的代码，这些代码可能需要大量重复使用。&lt;br&gt;
虽然 for循环语句也能实现一些简单的重复操作，但是比较具有局限性，此时我们就可以使用 &lt;mark&gt;JS 中的函数&lt;/mark&gt;。&lt;br&gt;
&lt;mark&gt;函数&lt;/mark&gt;：就是封装了一段&lt;mark&gt;可被重复调用执行的代码块&lt;/mark&gt;。通过此代码块可以实现大量代码的重复使用。&lt;/p&gt;
&lt;h4 id=&#34;72-函数的使用&#34;&gt;7.2 函数的使用&lt;/h4&gt;
&lt;p&gt;函数在使用时分为两步：声明函数和调用函数。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//1.声明函数
function 函数名(){
    //函数体
}
//-1.function是声明函数的关键字 全部小写
//-2.函数是做某件事情,函数名一般是动词
//-3.函数不调用自己不执行
---------
//2.调用函数
    函数名();
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function sayHi(){
    console.log(&#39;hi...&#39;);
}
sayHi();
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例：利用函数计算1-100之间的累加和&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;/* 
   计算1-100之间值的函数
*/
// 声明函数
function getSum(){
  var sumNum = 0;// 准备一个变量，保存数字和
  for (var i = 1; i &amp;lt;= 100; i++) {
    sumNum += i;// 把每个数值 都累加 到变量中
  }
  alert(sumNum);
}
// 调用函数
getSum();
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;73-函数的参数&#34;&gt;7.3 函数的参数&lt;/h4&gt;
&lt;h5 id=&#34;731形参和实参&#34;&gt;7.3.1形参和实参&lt;/h5&gt;
&lt;p&gt;在声明函数时，可以在函数名称后面的小括号中添加一些参数，这些参数被称为形参，而在调用该函数时，同样也需要传递相应的参数，这些参数被称为实参。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function 函数名(形参1,形参2,..){
    //函数体;
}
函数名(实参1,实参2,...);
---------------------------------------
function cook(aru){
    console.log(aru);
}
cook(&#39;酸辣土豆丝&#39;);
cook(&#39;麻辣土豆丝&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;形参&lt;/td&gt;
&lt;td&gt;形式上的参数 函数定义的时候传递的参数 当时并不知道是什么&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;实参&lt;/td&gt;
&lt;td&gt;实际上的参数 函数调用的时候传递的参数 实参是传递给形参的&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;==注意:==函数的参数可以有也可以没有,个数不限;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;案例1：利用函数求任意两个数的和&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function getSum(num1, num2) {
    console.log(num1 + num2);
}
getSum(1, 3); // 4
getSum(6, 5); // 11
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例2：利用函数求任意两个数之间的和&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function getSum(start,end){
	var sum=0;
	for(var i=start;i&amp;lt;=end;i++)
	{
		sum += i;
	}
	console.log(sum);
}
	getSum(1,100);//5050
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;732-函数参数的传递过程&#34;&gt;7.3.2 函数参数的传递过程&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 声明函数
function getSum(num1, num2) {
    console.log(num1 + num2);
}
// 调用函数
getSum(1, 3); // 4
getSum(6, 5); // 11
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;调用的时候实参值是传递给形参的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;形参简单理解为：不用声明的变量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;实参和形参的多个参数之间用逗号（,）分隔&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;733-函数形参和实参个数不匹配问题&#34;&gt;7.3.3 函数形参和实参个数不匹配问题&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数个数&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;实参个数等于形参个数&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;输出正确结果&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;实参个数多于形参个数&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;只取到形参的个数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;实参个数小于形参个数&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;多的形参定义为underfined,结果为NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function sum(num1, num2) {
    console.log(num1 + num2);
}
sum(100, 200);             // 形参和实参个数相等，输出正确结果
sum(100, 400, 500, 700);   // 实参个数多于形参，只取到形参的个数
sum(200);                  // 实参个数少于形参，多的形参定义为undefined，结果为NaN
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;==注意：==在JavaScript中，形参的默认值是undefined。&lt;/p&gt;
&lt;h4 id=&#34;74-函数的返回值&#34;&gt;7.4 函数的返回值&lt;/h4&gt;
&lt;h5 id=&#34;741-return-语句&#34;&gt;7.4.1  return 语句&lt;/h5&gt;
&lt;p&gt;有的时候，我们会希望函数将值返回给调用者，此时通过使用 return 语句就可以实现。&lt;br&gt;
return 语句的语法格式如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 声明函数
function 函数名（）{
    ...
    return  需要返回的值；
}
// 调用函数
函数名();    // 此时调用函数就可以得到函数体内return 后面的值
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在使用 return 语句时，函数会停止执行，并返回指定的值&lt;br&gt;
如果函数&lt;mark&gt;没有 return&lt;/mark&gt; ，返回的值是 &lt;mark&gt;undefined&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;例如，声明了一个sum()函数，该函数的返回值为666，其代码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 声明函数
function sum(){
	return 666;
}
	sum(); // 此时 sum 的值就等于666，因为 return 语句会把自身后面的值返回给调用者 
	console.log(sum());
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;求任意两个数的和&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function getSum(num1,num2){
    return num1+num2;
}
console.log(getSum(1,2));
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 1：利用函数求任意两个数的最大值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function getMax(num1, num2) {
    return num1 &amp;gt; num2 ? num1 : num2;
}
console.log(getMax(1, 2));
console.log(getMax(11, 2));
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 2：利用函数求任意一个数组中的最大值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;求数组 [5,2,99,101,67,77] 中的最大数值。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;//定义一个获取数组中最大数的函数
function getMaxFromArr(numArray){
    var maxNum = 0;
    for(var i =0;i &amp;lt; numArray.length;i++){
        if(numArray[i] &amp;gt; maxNum){
            maxNum = numArray[i];
        }
    }
    return maxNum;
}
var arrNum = [5,2,99,101,67,77];
var maxN = getMaxFromArr(arrNum); // 这个实参是个数组
alert(&#39;最大值为：&#39;+ maxN);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;742-return-终止函数&#34;&gt;7.4.2 return 终止函数&lt;/h5&gt;
&lt;p&gt;return 语句之后的代码不被执行&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function add(num1，num2){
    //函数体
    return num1 + num2; // 注意：return 后的代码不执行
    alert(&#39;我不会被执行，因为前面有 return&#39;);
}
var resNum = add(21,6); // 调用函数，传入两个实参，并通过 resNum 接收函数返回值
alert(resNum);          // 27
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;743-return-的返回值&#34;&gt;7.4.3  return 的返回值&lt;/h5&gt;
&lt;p&gt;return 只能返回一个值。如果用逗号隔开多个值，以最后一个为准&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function add(num1，num2){
    //函数体
    return num1，num2;
}
var resNum = add(21,6); // 调用函数，传入两个实参，并通过 resNum 接收函数返回值
alert(resNum);          // 6
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例：创建一个函数，实现两个数之间的加减乘除运算，并将结果返回&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;var a = parseFloat(prompt(&#39;请输入第一个数&#39;));
var b = parseFloat(prompt(&#39;请输入第二个数&#39;));
function count(a, b) {
    var arr = [a + b, a - b, a * b, a / b];
    return arr;
}
var result = count(a, b);
console.log(result);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;744-函数没有-return-返回-undefined&#34;&gt;7.4.4 函数没有 return 返回 undefined&lt;/h5&gt;
&lt;p&gt;函数都是有返回值的&lt;br&gt;
1.如果有return 则返回 return 后面的值&lt;br&gt;
2.如果没有return 则返回 undefined&lt;/p&gt;
&lt;h5 id=&#34;745-break-continue-return-的区别&#34;&gt;7.4.5 break ,continue ,return 的区别&lt;/h5&gt;
&lt;p&gt;break ：结束当前的循环体（如 for、while）&lt;br&gt;
continue ：跳出本次循环，继续执行下次循环（如 for、while）&lt;br&gt;
return ：不仅可以退出循环，还能够返回 return 语句中的值，同时还可以结束当前的函数体内的代码&lt;/p&gt;
&lt;h4 id=&#34;75-arguments的使用&#34;&gt;7.5 arguments的使用&lt;/h4&gt;
&lt;p&gt;当我们不确定有多少个参数传递的时候，可以用 &lt;mark&gt;arguments&lt;/mark&gt; 来获取。在 JavaScript 中，arguments 实际上它是当前函数的一个&lt;mark&gt;内置对象&lt;/mark&gt;。所有函数都内置了一个 arguments 对象，arguments 对象中&lt;mark&gt;存储了传递的所有实参&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;arguments展示形式是一个伪数组&lt;/mark&gt;，因此可以进行遍历&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function fn(){
    console.log(arguments);//里面存储了所有传递过来的实参
    console.log(arguments);
    console.log(arguments[2]);
}
fn(1,2,3);
fn(1,2,3,4,5);
//伪数组 并不是真正意义上的数组
//1.具有数组的length属性
//2.按照索引的方式进行存储的
//3.它没有真正数组的一些方法push , pop 等方法
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例利用函数求任意个数的最大值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function maxValue() {
      var max = arguments[0];
      for (var i = 0; i &amp;lt; arguments.length; i++) {
         if (max &amp;lt; arguments[i]) {
                    max = arguments[i];
         }
      }
      return max;
}
 console.log(maxValue(2, 4, 5, 9));
 console.log(maxValue(12, 4, 9));
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;76-函数案例&#34;&gt;7.6 函数案例&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 1： 利用函数封装方式，翻转任意一个数组&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function reverse(arr) {
var newArr = [];
for (var i = arr.length - 1; i &amp;gt;= 0; i--) {
newArr[newArr.length] = arr[i];
}
return newArr;
}
var arr1 = reverse([1, 3, 4, 6, 9]);
console.log(arr1);
var arr2 = reverse([&#39;red&#39;,&#39;pink&#39;,&#39;blue&#39;]);
console.log(arr2);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 2： 利用函数封装方式，对数组排序 -- 冒泡排序&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function sort(arr) {
for (var i = 0; i &amp;lt; arr.length - 1; i++) {
	for (var j = 0; j &amp;lt; arr.length - i - 1; j++) {
		if (arr[j] &amp;gt; arr[j + 1]) {
			var temp = arr[j];
			arr[j] = arr[j + 1];
			arr[j + 1] = temp;
		}
	}
}
return arr;
}
var arr1=sort([11,7,22,99])
console.log(arr1);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 3： 判断闰年&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;要求：输入一个年份，判断是否是闰年（闰年：能被4整除并且不能被100整数，或者能被400整除）&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function isRun(year) {
     var flag = false;
     if (year % 4 === 0 &amp;amp;&amp;amp; year % 100 !== 0 || year % 400 === 0) {
        flag = true;
     }
    return flag;
}
console.log(isRun(2010));
console.log(isRun(2012));
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;函数可以调用另外一个函数&#34;&gt;函数可以调用另外一个函数&lt;/h5&gt;
&lt;p&gt;因为每个函数都是独立的代码块，用于完成特殊任务，因此经常会用到函数相互调用的情况&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function fn1() {
  console.log(111);
  fn2();
  console.log(&#39;fn1&#39;);
}
function fn2() {
  console.log(222);
  console.log(&#39;fn2&#39;);
}
fn1();
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;案例 4： 用户输入年份，输出当前年份2月份的天数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果是闰年，则2月份是 29天， 如果是平年，则2月份是 28天&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;function backDay() {
	var year=prompt(&#39;请输入年份&#39;);
	if(isRunYear(year)){//调用函数需要额外加小括号
		alert(&#39;当前年份是闰年2月份有29天&#39;);
	}
	else{
		alert(&#39;当前年份是平年2月份有28天&#39;);
	}				
}
backDay();
//判断是否为闰年
function isRunYear(year){
	//如果是闰年返回true,否则返回false
	var flag=false;
	if(year%4==0&amp;amp;&amp;amp;year%100!=0||year%400==0){
		flag=true;
	}
	return flag;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;77-函数的两种声明方式&#34;&gt;7.7 函数的两种声明方式&lt;/h4&gt;
&lt;h5 id=&#34;1自定义函数方式命名函数&#34;&gt;1.自定义函数方式(命名函数)&lt;/h5&gt;
&lt;p&gt;利用函数关键字 function 自定义函数方式&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 声明定义方式
function fun() {...}
// 调用  
fun(); 
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;因为有名字，所以也被称为命名函数&lt;br&gt;
调用函数的代码既可以放到声明函数的前面，也可以放在声明函数的后面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;2-函数表达式方式匿名函数&#34;&gt;2.  函数表达式方式(匿名函数）&lt;/h5&gt;
&lt;p&gt;利用函数表达式方式的写法如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;// 这是函数表达式写法，匿名函数后面跟分号结束
var 变量名 = function() {};
var fun = function(){...}；
// 调用的方式，函数调用必须写到函数体下面
fun();
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;(1) fun是变量名不是函数名&lt;br&gt;
(2)函数表达式声明方式跟声明变量差不多，只不过变量里面存的是值而函数表达式里面存的是函数&lt;br&gt;
(3) 函数表达式也可以进行传递参数&lt;/p&gt;
&lt;p&gt;因为函数没有名字，所以也被称为匿名函数&lt;br&gt;
这个fun 里面存储的是一个函数&lt;br&gt;
函数表达式方式原理跟声明变量方式是一致的&lt;br&gt;
函数调用的代码必须写到函数体后面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&#34;8作用域&#34;&gt;8.作用域&lt;/h3&gt;
&lt;h4 id=&#34;81作用域&#34;&gt;8.1作用域&lt;/h4&gt;
&lt;h5 id=&#34;811作用域概述&#34;&gt;8.1.1作用域概述&lt;/h5&gt;
&lt;p&gt;通常来说，一段程序代码中所用到的名字并不总是有效和可用的，而限定这个名字的可用性的代码范围就是这个名字的作用域。作用域的使用提高了程序逻辑的局部性，增强了程序的可靠性，减少了名字冲突。&lt;/p&gt;
&lt;p&gt;JavaScript（es6前）中的作用域有两种：&lt;br&gt;
全局作用域&lt;br&gt;
局部作用域（函数作用域）&lt;/p&gt;
&lt;p&gt;全局作用域:作用于所有代码执行的环境(整个 script 标签内部)或者一个独立的 js 文件&lt;/p&gt;
&lt;p&gt;局部作用域 （函数作用域）:作用于函数内的代码环境，就是局部作用域。 因为跟函数有关系，所以也称为函数作用域&lt;/p&gt;
&lt;h5 id=&#34;812-js没有块级作用域&#34;&gt;8.1.2 JS没有块级作用域&lt;/h5&gt;
&lt;p&gt;块作用域由 { } 包括。&lt;br&gt;
在其他编程语言中（如 java、c#等），在 if 语句、循环语句中创建的变量，仅仅只能在本 if 语句、本循环语句中使用，如下面的Java代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;if(true){
  int num = 123;
  system.out.print(num);  // 123
}
system.out.print(num);    // 报错
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Js中没有块级作用域（在ES6之前）&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-javascript&#34;&gt;if(true){
  var num = 123;
  console.log(123); //123
}
console.log(123);   //123
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;82变量的作用域&#34;&gt;8.2变量的作用域&lt;/h4&gt;
&lt;h5 id=&#34;821-变量作用域的分类&#34;&gt;8.2.1 变量作用域的分类&lt;/h5&gt;
&lt;p&gt;在JavaScript中，根据作用域的不同，变量可以分为两种：&lt;br&gt;
全局变量&lt;br&gt;
局部变量&lt;/p&gt;
&lt;h6 id=&#34;1全局变量&#34;&gt;1.全局变量&lt;/h6&gt;
&lt;p&gt;在全局作用域下声明的变量叫做&lt;mark&gt;全局变量（在函数外部定义的变量）&lt;/mark&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;全局变量在代码的任何位置都可以使用&lt;br&gt;
在全局作用域下 var 声明的变量 是全局变量&lt;br&gt;
特殊情况下，在函数内不使用 var 声明的变量也是全局变量（不建议使用）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6 id=&#34;2局部变量&#34;&gt;2.局部变量&lt;/h6&gt;
&lt;p&gt;在局部作用域下声明的变量叫做&lt;mark&gt;局部变量（在函数内部定义的变量）&lt;/mark&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;局部变量只能在该函数&lt;mark&gt;内部&lt;/mark&gt;使用&lt;br&gt;
在函数内部 var 声明的变量是局部变量&lt;br&gt;
函数的&lt;mark&gt;形参&lt;/mark&gt;实际上就是局部变量&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;822-全局变量和局部变量的区别&#34;&gt;8.2.2 全局变量和局部变量的区别&lt;/h5&gt;
&lt;p&gt;全局变量：在任何一个地方都可以使用，只有在浏览器关闭时才会被销毁，因此比较占内存&lt;br&gt;
局部变量：只在函数内部使用，当其所在的代码块被执行时，会被初始化；当代码块运行结束后，就会被销毁，因此更节省内存空间&lt;/p&gt;
&lt;h4 id=&#34;83作用域链&#34;&gt;8.3作用域链&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;只要是代码，就至少有一个作用域&lt;/li&gt;
&lt;li&gt;写在函数内部的局部作用域&lt;/li&gt;
&lt;li&gt;如果函数中还有函数，那么在这个作用域中就又可以诞生一个作用域&lt;/li&gt;
&lt;li&gt;根据在内部函数可以访问外部函数变量的这种机制，用链式查找决定哪些数据能被内部函数访问，就称作作用域链&lt;/li&gt;
&lt;/ul&gt;
">JavaScript基础笔记</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/6AiMOPdir/"" data-c="
          &lt;p&gt;效果图:&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://aoianz.github.io/post-images/1612425683632.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;源码:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;RelativeLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    android:layout_width=&amp;quot;match_parent&amp;quot;
    android:layout_height=&amp;quot;match_parent&amp;quot;
    android:background=&amp;quot;#E6E6E6&amp;quot;
    android:orientation=&amp;quot;vertical&amp;quot;&amp;gt;
    &amp;lt;ImageView
        android:id=&amp;quot;@+id/iv&amp;quot;
        android:layout_width=&amp;quot;70dp&amp;quot;
        android:layout_height=&amp;quot;70dp&amp;quot;
        android:layout_centerHorizontal=&amp;quot;true&amp;quot;
        android:layout_marginTop=&amp;quot;60dp&amp;quot;
        android:background=&amp;quot;@drawable/aoian&amp;quot;/&amp;gt;
    &amp;lt;LinearLayout
        android:id=&amp;quot;@+id/ll_number&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_below=&amp;quot;@id/iv&amp;quot;
        android:layout_centerVertical=&amp;quot;true&amp;quot;
        android:layout_marginBottom=&amp;quot;5dp&amp;quot;
        android:layout_marginLeft=&amp;quot;20dp&amp;quot;
        android:layout_marginRight=&amp;quot;20dp&amp;quot;
        android:layout_marginTop=&amp;quot;20dp&amp;quot;
        android:background=&amp;quot;#ffffff&amp;quot;&amp;gt;
        &amp;lt;TextView
            android:id=&amp;quot;@+id/tv_number&amp;quot;
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:padding=&amp;quot;10dp&amp;quot;
            android:text=&amp;quot;账号:&amp;quot;
            android:textColor=&amp;quot;#000&amp;quot;
            android:textSize=&amp;quot;20sp&amp;quot;/&amp;gt;
        &amp;lt;EditText
            android:id=&amp;quot;@+id/et_number&amp;quot;
            android:layout_width=&amp;quot;match_parent&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:layout_marginLeft=&amp;quot;5dp&amp;quot;
            android:background=&amp;quot;@null&amp;quot;
            android:padding=&amp;quot;10dp&amp;quot;/&amp;gt;
    &amp;lt;/LinearLayout&amp;gt;
    &amp;lt;LinearLayout
        android:id=&amp;quot;@+id/ll_password&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_below=&amp;quot;@id/ll_number&amp;quot;
        android:layout_centerVertical=&amp;quot;true&amp;quot;
        android:layout_marginLeft=&amp;quot;20dp&amp;quot;
        android:layout_marginRight=&amp;quot;20dp&amp;quot;
        android:background=&amp;quot;#ffffff&amp;quot;&amp;gt;
        &amp;lt;TextView
            android:id=&amp;quot;@+id/tv_password&amp;quot;
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:padding=&amp;quot;10dp&amp;quot;
            android:text=&amp;quot;密码:&amp;quot;
            android:textColor=&amp;quot;#000&amp;quot;
            android:textSize=&amp;quot;20sp&amp;quot;/&amp;gt;
        &amp;lt;EditText
            android:id=&amp;quot;@+id/et_password&amp;quot;
            android:layout_width=&amp;quot;match_parent&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:layout_marginLeft=&amp;quot;5dp&amp;quot;
            android:layout_toRightOf=&amp;quot;@id/tv_password&amp;quot;
            android:background=&amp;quot;@null&amp;quot;
            android:inputType=&amp;quot;textPassword&amp;quot;
            android:padding=&amp;quot;10dp&amp;quot;/&amp;gt;
    &amp;lt;/LinearLayout&amp;gt;
    &amp;lt;Button
        android:id=&amp;quot;@+id/btn_login&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_below=&amp;quot;@id/ll_password&amp;quot;
        android:layout_marginLeft=&amp;quot;20dp&amp;quot;
        android:layout_marginRight=&amp;quot;20dp&amp;quot;
        android:layout_marginTop=&amp;quot;50dp&amp;quot;
        android:background=&amp;quot;#214EF3&amp;quot;
        android:text=&amp;quot;登录&amp;quot;
        android:textColor=&amp;quot;#ffffff&amp;quot;
        android:textSize=&amp;quot;20sp&amp;quot;/&amp;gt;
&amp;lt;/RelativeLayout&amp;gt;

&lt;/code&gt;&lt;/pre&gt;
">Andrid练习--仿QQ登录界面</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/mysql/"" data-c="
          &lt;h3 id=&#34;21数据库基础知识&#34;&gt;&lt;strong&gt;2.1数据库基础知识&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;1.Dos登录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;命令:mysql -h hostname -u username -p&lt;/p&gt;
&lt;p&gt;例如:mysql -h 123 -uroot -p&lt;/p&gt;
&lt;p&gt;简写:mysql -u root -p&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;复合主键 就是指你表的主键含有一个以上的字段组成&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;&amp;gt; create table test 
&amp;gt; ( 
&amp;gt;   name varchar(19), 
&amp;gt;   id number, 
&amp;gt;   value varchar(10), 
&amp;gt;   primary key (name,id) 
&amp;gt; ) 
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上面的name和id字段组合起来就是你test表的复合主键&lt;br&gt;
它的出现是因为你的name字段可能会出现重名，所以要加上ID字段这样就可以保证你记录的唯一性&lt;br&gt;
一般情况下，主键的字段长度和字段数目要越少越好&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h5 id=&#34;211创建和查看数据库&#34;&gt;2.1.1创建和查看数据库&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;创建数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:create database 数据库名称;
create database itcast;/*创建数据库itcast:*/
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;查看数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:show databases/*查看数据库*/
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;查看某个数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:show create database 数据库名称;
例如:show create database itcase;/*查看数据库itcase信息*/
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;使用数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:use 数据库名称;
例如:use itcast;/*使用数据库itcast*/
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h5 id=&#34;212修改数据库&#34;&gt;2.1.2修改数据库&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;alter 数据库名称;修改数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:alter database 数据库名称 default character set 编码方式 collate 编码方式_bin
例如:修改数据库,将数据库itcast的编码修改为gbk
&amp;gt; alter database itcast default character set gbk collate gbk_bin;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h5 id=&#34;213删除数据库&#34;&gt;&lt;strong&gt;2.1.3删除数据库&lt;/strong&gt;&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:drop database 数据库名称;
例如:drop database itcast;/*删除名称为itcast的数据库*/
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;22数据类型&#34;&gt;&lt;strong&gt;2.2数据类型&lt;/strong&gt;&lt;/h3&gt;
&lt;h4 id=&#34;221-整数类型&#34;&gt;2.2.1 整数类型&lt;/h4&gt;
&lt;p&gt;1.在MySQL数据库中，经常需要存储整数数值。根据数值取值范围的不同，MySQL中的整数类型可分为5种，分别是&lt;br&gt;
TINYINTtinyint、SMALLINT、 MEDIUMINT、INT和BIGINT。不同整数类型的取值范围可以根据字节数计算出来，例如，&lt;br&gt;
TINYINT类型的整数占用1个字节，1个字节是8位，那么，TINYINT类型无符号数的最大值就是28-1，即255。 同理可以算出其它不同整数类型的取值范围。&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;**注意:**在足够使用的情况下选择选择尽量小的数据类型&lt;/mark&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;222浮点数类型与定点数类型&#34;&gt;2.2.2浮点数类型与定点数类型&lt;/h4&gt;
&lt;p&gt;2.在MySQL数据库中，存储的小数都是使用浮点数和定点数来表示的。浮点数的类型有两种，分别是单精度浮点数类型(float)和双精度浮点类型(double)。而&lt;mark&gt;定点数类型只有decimal&lt;/mark&gt;，类型。&lt;/p&gt;
&lt;p&gt;浮点型:非精准数据类型,有误差&lt;/p&gt;
&lt;p&gt;定点型:精准类型&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;223日期与时间类型&#34;&gt;2.2.3日期与时间类型&lt;/h4&gt;
&lt;p&gt;3.为了方便在数据库中存储日期和时间，MySQL提供了表示日期和时间的数据类型,分别是YEAR、DATE、TIME、DATETIME和timestamp&lt;/p&gt;
&lt;p&gt;year:1字节&lt;/p&gt;
&lt;p&gt;例如:year 2014 =&#39;2014&#39;  p35&lt;/p&gt;
&lt;p&gt;&#39;00&#39;~&#39;69&#39;   20??   58= 2058&lt;/p&gt;
&lt;p&gt;&#39;70&#39;~&#39;99&#39;  19??    89 =1989&lt;/p&gt;
&lt;p&gt;1.YEAR类型:(字符串类型与数字类型)&#39;2020&#39;	2020	&#39;00-99&#39;	1-99&lt;/p&gt;
&lt;p&gt;2.DATE类型: &#39;2020-06-21&#39; 	&#39;20200621&#39;&lt;/p&gt;
&lt;p&gt;current_data或now()&lt;em&gt;/表示&lt;mark&gt;当前日期&lt;/mark&gt;&lt;/em&gt;/&lt;/p&gt;
&lt;p&gt;3.TIME类型:表示时间值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;格式:HH:MM:SS&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;current_data或now()表示当前&lt;mark&gt;系统时间&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;4.DATATIME类型&lt;/p&gt;
&lt;p&gt;now()表示当前&lt;mark&gt;日期和时间&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;5.TIMESTAMP类型&lt;/p&gt;
&lt;p&gt;与DATATIME类型显示形式相似,但取值范围比DATATIME类型小&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;224-字符串和二进制类型&#34;&gt;2.2.4 字符串和二进制类型&lt;/h4&gt;
&lt;p&gt;为了存储字符串、图片和声音等数据，MySQL提供了字符串和二进制类型。包括CHAR和VARCHAR类型、BINARY和VARBINARY类型、TEXT类型、BLOB类型ENUM类型、SET类型和BIT类型&lt;/p&gt;
&lt;h5 id=&#34;1char和varchar类型&#34;&gt;1.CHAR和VARCHAR类型:&lt;/h5&gt;
&lt;p&gt;​	CHAR和VARCHAR类型都用来表示字符串数据,VARCHAR可以储存可变字符串&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法:CHAR(M)或VARVCHAR(M)		M指字符串的最大长度;&lt;/p&gt;
&lt;p&gt;VARCHAR(4)所对应的数据所占用的字节数为实际长度加1;&lt;/p&gt;
&lt;p&gt;char:浪费时间,但查询速度快;&lt;/p&gt;
&lt;p&gt;varchar:节约空间,但查询速度慢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&#39;&#39;&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;&#39;&#39;&lt;/th&gt;
&lt;th&gt;4个字节&lt;/th&gt;
&lt;th&gt;&#39;&#39;&lt;/th&gt;
&lt;th&gt;1个字节&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;ab&#39;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;ab&#39;&lt;/td&gt;
&lt;td&gt;4个字节&lt;/td&gt;
&lt;td&gt;&#39;ab&#39;&lt;/td&gt;
&lt;td&gt;2个字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abc&#39;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abc&#39;&lt;/td&gt;
&lt;td&gt;4个字节&lt;/td&gt;
&lt;td&gt;&#39;abc&#39;&lt;/td&gt;
&lt;td&gt;3个字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abcd&#39;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abcd&#39;&lt;/td&gt;
&lt;td&gt;4个字节&lt;/td&gt;
&lt;td&gt;&#39;abcd&#39;&lt;/td&gt;
&lt;td&gt;4个字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abcdef&#39;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&#39;abcd&#39;&lt;/td&gt;
&lt;td&gt;4个字节&lt;/td&gt;
&lt;td&gt;&#39;abcd&#39;&lt;/td&gt;
&lt;td&gt;5个字节&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h5 id=&#34;2binary和varbinary类型&#34;&gt;2.BINARY和VARBINARY类型:&lt;/h5&gt;
&lt;p&gt;​	BINARY和VARBINARY类型类似CHAR和VARCHAR类型,不同的是,它们表示二进制数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法:BINARY(M)或VARBINARY(M)	M指二进制数据的最大字节长度;&lt;/p&gt;
&lt;p&gt;注意:BINARY类型的长度是固定的,如果数据的长度不足最大长度,将在&lt;mark&gt;数据的后面&lt;/mark&gt;用&amp;quot;\0&amp;quot;补齐,最终达到指定长度.&lt;/p&gt;
&lt;p&gt;例如,指定数据的类型是BINARY(3),当插入a时,实际储存的数据为&amp;quot;a\0\0&amp;quot;,当插入ab时,实际储存的数据是&amp;quot;ab\0&amp;quot;;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h5 id=&#34;3text类型&#34;&gt;3.TEXT类型:&lt;/h5&gt;
&lt;p&gt;TEXT类型用来表示大文本数据,例如,文章内容、评论等,它的类型分为4种;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;数据类型&lt;/th&gt;
&lt;th&gt;储存范围&lt;/th&gt;
&lt;th&gt;数据类型&lt;/th&gt;
&lt;th&gt;储存范围&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;TINYTEXT&lt;/td&gt;
&lt;td&gt;0-255字节&lt;/td&gt;
&lt;td&gt;MEDIUMTEXT&lt;/td&gt;
&lt;td&gt;0-16777215字节&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEXT&lt;/td&gt;
&lt;td&gt;0-65535字节&lt;/td&gt;
&lt;td&gt;LONGTEXT&lt;/td&gt;
&lt;td&gt;0-4294967295字节&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h5 id=&#34;4blob类型&#34;&gt;4.BLOB类型:&lt;/h5&gt;
&lt;p&gt;​	BLOB类型是一种特殊的二进制类型,它用于表示数据量大很大的二进制数据,例如 图片、PDF文档等&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;数据类型&lt;/th&gt;
&lt;th&gt;储存范围&lt;/th&gt;
&lt;th&gt;数据类型&lt;/th&gt;
&lt;th&gt;储存范围&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;TINYBLOB&lt;/td&gt;
&lt;td&gt;0-255字节&lt;/td&gt;
&lt;td&gt;MEDIUMBLOB&lt;/td&gt;
&lt;td&gt;0-16777215&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BIOB&lt;/td&gt;
&lt;td&gt;0-65535字节&lt;/td&gt;
&lt;td&gt;LONGBILOB&lt;/td&gt;
&lt;td&gt;4294967295&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;注意:BLOB类型数据是根据二进制编码进行比较和排序,而TEXT类型数据是根据文本模式进行比较和排序&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h5 id=&#34;5enum类型&#34;&gt;5.ENUM类型:&lt;/h5&gt;
&lt;p&gt;ENUM类型又称为枚举类型&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ENUM(&#39;值1&#39;,&#39;值2&#39;,&#39;值3&#39;,...&#39;值n&#39;)&lt;/p&gt;
&lt;p&gt;注意:MYSQL中存入的是这个顺序编号,而不是列表中的值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h5 id=&#34;6set类型&#34;&gt;6.SET类型:&lt;/h5&gt;
&lt;p&gt;SET类型用于表示字符串对象,它的值可以有零个或多个,SET类型数据的定义格式与ENUM类型相似&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法:SET(&#39;值1&#39;,&#39;值2&#39;,&#39;值3&#39;,...&#39;值n&#39;)&lt;/p&gt;
&lt;p&gt;注意:MYSQL中存入的是这个顺序编号,而不是列表中的值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h5 id=&#34;7bit类型&#34;&gt;7.BIT类型:&lt;/h5&gt;
&lt;p&gt;​	用于表示二进制数据&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法:BIT(M)			M用于表示每个值的位数,范围是1-64;&lt;/p&gt;
&lt;p&gt;注意:如果分配的BIT(M)类型的数据的长度小于M,将在数据的&lt;mark&gt;左边用0补齐&lt;/mark&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;例如,为BIT(6)分配值b&#39;101&#39;与分配b&#39;000101&#39;相同&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;23创建数据表&#34;&gt;2.3创建数据表&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create database student;/*创建名为student*/
use itcase;/*使用数据库*/
create TABLE tb_grade/*创建名为tb_gradea的数据表*/
(
	id INT(11),/*举例*/
	name VARCHER(20),
	grade FLOAT
);
show tables;/*验证数据库是否创建成功*/ 
show create table tb_greade;/*查看数据表创建时的定义语句,查看表的字符编码*/
describe tb_greade;/*查看表的字段信息,包括字段名、字段类型等信息*/
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;h4 id=&#34;修改数据表&#34;&gt;修改数据表&lt;/h4&gt;
&lt;/blockquote&gt;
&lt;p&gt;​		1.修改表名;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 rename 新表名;
alter table tb_grade rename(to) grade;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		2.修改字段名;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 change 旧字段名 新字段名 新数据类型;
alter table grade change name username verchar(20);/*name字段改为username,数据类型保持不变*/
desc greade;/*验证*/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		3.修改字段的数据类型;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 modify 字段名 数据类型;
alter table grade modify id int(20);/**/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		4.添加字段;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 add 新字段名 数据类型
	[约束条件][first|after 已存在的字段名]
alter table grade add age int(10);
alter table grade add age int(10) first;/*添加到第一位*/
alter table grade add age int(10) after id;/*添加到id后面*/
alter table grade add age int(10) not null first;/*不允许为空*/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		5.删除字段;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 drop 字段名;
alter table grade drop age;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;​		6.修改字段的排列位置;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table 表名 modify 字段名1 数据类型 first|after 字段名2;
字段名1 指要修改位置的字段;
first是可选参数,指的是将字段1修改为表的第一个字段;
after 字段名2 是将字段1插入到字段2后面;
alter table grade modify id int(10) after grade;/*将id字段插入到grade字段后面*/
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;h4 id=&#34;删除数据表&#34;&gt;删除数据表&lt;/h4&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;drop table 表名;
drop table grade;
desc table grade;/*验证*/
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;24表的约束&#34;&gt;&lt;strong&gt;2.4表的约束&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;防止数据表中插入错误的数值,而定义的维护数据库完整性的规则&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;约束条件&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;说明&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PRIMARY KEY&lt;/td&gt;
&lt;td&gt;主键约束，用于唯一标识对应的记录(主键唯一表示,值不能为空null );&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FOREIGN KEY&lt;/td&gt;
&lt;td&gt;外键约束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NOT NULL&lt;/td&gt;
&lt;td&gt;非空约束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UNIQUE&lt;/td&gt;
&lt;td&gt;唯一性约束&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DEFAULT&lt;/td&gt;
&lt;td&gt;默认值约束，用于设置字段的默认值&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;241-主键约束&#34;&gt;2.4.1 主键约束;&lt;/h4&gt;
&lt;p&gt;&lt;mark&gt;注意:每个数据表中最多只能有一个主键约束,定义为primary key的字段不能有重复值且不能为null值&lt;/mark&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.单字段约束&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: 字段名 数据类型 PRIMARY KEY
例如:创建一个数据表ex1,并设置id作为主键,SQL语句如下:
CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20),
	grade FLOAT
);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;2.多字段主键&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:PRIMARY KAY(字段名1,字段名2,***字段名n)
例如:创建一个数据表ex2,在表中将stu_id和course_id两个字段共同作为主键,SQL语句如下:
CREATE TABLE ex2(
    stu_id INT,
	course_id FLOAT,
	PRIMARY KEY(stu_id,course_id)
);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;242非空约束&#34;&gt;2.4.2非空约束&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;非空约束指的是字段的值不能为null,在MySQL中,非空约束是通过NOT NULL定义的;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: 字段名 数据类型 NOT NULL;
例如:CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT not null
	);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;243唯一约束&#34;&gt;2.4.3唯一约束&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;保证数据表中字段的唯一性,即表中字段的值不能重复出现&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: 字段名 数据类型 UNIQUE;
CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT UNIQUE
	);
ID为主键,name的字段不能为空值,grade字段为唯一值,该值不能重复
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;244默认约束&#34;&gt;2.4.4默认约束&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;用于给数据表中的字段&lt;mark&gt;添加指定默认值&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:字段名 数据类型 DEFAULT 默认值;
例如:CREATE TABLE ex1(
    id INT PRIMARY KEY,
	name VARCHAR(20) NOT NULL,
	grade FLOAT default 0/*默认值为0*/
	);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;25设置表的字段值自动增加&#34;&gt;2.5设置表的字段值自动增加&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;在数据表中，若想为表中插入的新记录自动生成唯一的ID，可以使用AUTO_INCREMENT约束来实现。&lt;br&gt;
AUTO_INCREMENT约束的字段可以是任何整数类型，默认情况下，该字段的值是从1开始自增的&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: 字段名 数据类型 AUTO_INTCREMENT;
例如:创建一个数据表ex5,将表中的id字段设置为自动增加,SQL语句如下:
CREATE TABLE ex1(
    id INT PRIMARY KEY AUTO_INCREMENT, 
	name VARCHAR(20) NOT NULL,
	grade FLOAT UNIQUE
	);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;26索引&#34;&gt;2.6索引&lt;/h2&gt;
&lt;h3 id=&#34;261索引的概念&#34;&gt;2.6.1索引的概念&lt;/h3&gt;
&lt;p&gt;数据库的索引好比新华字典的音序表，它是对数据库表中一列或多列的值进行排序后的一种结构，其作用就是提高表中数据的查询速度&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;1.普通索引&lt;/p&gt;
&lt;p&gt;普遍索引是由KEY或INDEX定义的索引，它是MySQL中的基本索引类型,可以创建在任何数据类型中，其值是否唯一和非空 由字段本身的约束条件所决定。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.唯一性索引&lt;/p&gt;
&lt;p&gt;唯一性索引是由UNIQUE定义的索引,该索引所在字段的值必须是唯一的。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;3.全文索引/&lt;em&gt;文本&lt;/em&gt;/&lt;/p&gt;
&lt;p&gt;全文索引是由FULLTEXT定义的索引，它&lt;mark&gt;只能创建在CHAR、VARCHAR或TEXT类型的字段上&lt;/mark&gt;,而且,现在只有MyISAM存储引擎支持全文索引。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;4.单列索引&lt;/p&gt;
&lt;p&gt;单列索引指的是在表中单个字段上创建索引，它可以是普通索引、唯一索引或者全文索引,只要保证该索引只对应表中一个字段即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;5.多列索引&lt;/p&gt;
&lt;p&gt;多列索引指的是在表中多个字段.上创建索引，只有在查询条件中使用了这些字段中的第一个字段时,该索引才会被使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;6.空间索引&lt;/p&gt;
&lt;p&gt;空间索引是由SPATIAL定义的索引，它只能创建在空间数据类型的字段上。创建时必须声明为not null,并且只有MyISAM存储引擎支持&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;262-创建索引&#34;&gt;2.6.2 创建索引&lt;/h3&gt;
&lt;h4 id=&#34;1创建表的时候创建索引&#34;&gt;&amp;gt; &lt;strong&gt;1.创建表的时候创建索引&lt;/strong&gt;&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:CREATE TABLE 表名(字段名 数据类型 [完整性约束条件],
  					  字段名 数据类型 [完整性约束条件],
  					  ...
  					  		字段名 数据类型
  					  		[UNIQUE|FULLTEXT|SPATIAL] INDEX|KEY
  					  			[别名] (字段名1 [(长度)] [ASC|DESC])
  					  			);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;UNIQUE:可选参数，表示唯一索引&lt;/li&gt;
&lt;li&gt;FULLTEXT:可选参数，表示全文索引&lt;/li&gt;
&lt;li&gt;SPATIAL:可选参数，表示空间索引&lt;/li&gt;
&lt;li&gt;INDEX和KEY:用来表示字段的索引，二者选一即可&lt;/li&gt;
&lt;li&gt;ASC和DESC可选参数，ASC表示升序排列，DESC表示降序排列&lt;/li&gt;
&lt;li&gt;别名:可选参数，表示创建的索引的名称&lt;/li&gt;
&lt;li&gt;字段名1:指定索引对应字段的名称，&lt;/li&gt;
&lt;li&gt;长度:可选参数，用于表示索引的长度&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;1创建普通索引&#34;&gt;&amp;gt;1.创建普通索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t2(
    -&amp;gt; id int(11),
    -&amp;gt; name varchar(20),
    -&amp;gt; grade float,
    -&amp;gt; index index(id asc)/*创建名为index的索引,升序排列*/
    -&amp;gt; );
建立后,使用show create table查看表的结构
	
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;==&lt;mark&gt;show create table t1\G; t1\G 使排列有序&lt;/mark&gt;&lt;br&gt;
&lt;mark&gt;为了查看索引是否被使用可以使用explain语句进行查看,SQL代码如下:&lt;/mark&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;explain select * from t1 while id=1 \G
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;2创建唯一性索引&#34;&gt;&amp;gt;2.创建唯一性索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t2(
    -&amp;gt; id int(11),
    -&amp;gt; name varchar(20),
    -&amp;gt; grade float,
    -&amp;gt; unique index unique_id(id asc)/*在表中id字段上建立索引名为unique_id的唯一性索引,并且按照升序排序*/
    -&amp;gt; );
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3创建全文索引&#34;&gt;&amp;gt;3.创建全文索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t1(
    -&amp;gt; id int(11),
    -&amp;gt; name varchar(20),
    -&amp;gt; grade float,
    -&amp;gt; fulltext index fulltext_name(name)
    -&amp;gt; )engine=myisam;/*因为目前只有MyISAM存储引擎支持全文索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4创建单列索引&#34;&gt;&amp;gt;4.创建单列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t4(
    -&amp;gt;name varchar(20) not null,
    -&amp;gt; score float,
    -&amp;gt; index single_name(name(20))/*在name字段上创建一个名叫single_name的单列索引索引长度为20*/
    -&amp;gt; );
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5创建多列索引&#34;&gt;&amp;gt;5.创建多列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t5(
	-&amp;gt;id int not null,
    -&amp;gt;name varchar(20) not null,
    -&amp;gt; score float,
    -&amp;gt; index multi(id,name(20))/*在id和name字段上创建一个名叫multi的多列索引*/
    -&amp;gt; );
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;mark&gt;注意:在多列索引中,只有查询条件中使用了这些字段的第一个字段时多列索引才会被使用&lt;/mark&gt;&lt;/p&gt;
&lt;h5 id=&#34;6创建空间索引&#34;&gt;&amp;gt;6.创建空间索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table t6(
	-&amp;gt;id int,
    -&amp;gt;space geometry not null,
    -&amp;gt;spatial index sp(space)/*在space字段上建立一个名为sp的空间索引*/
    -&amp;gt;)engine=myisam;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;mark&gt;注意:创建空间索引时,所在字段不能为空值,并且表的储存引擎为myisam&lt;/mark&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&#34;2使用create-index语句在已经存在的表上创建索引&#34;&gt;&lt;strong&gt;2.使用CREATE INDEX语句在已经存在的表上创建索引&lt;/strong&gt;&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法CREATE [UNIQUE|FULLTEXT|SPATIAL] INDEX 索引名 
	ON 表名 (字段名 [(长度)] [ASC|DESC]);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table book(
    -&amp;gt; bookid int not null,
    -&amp;gt; bookname varchar(255) not null,
    -&amp;gt; authors varchar(255) not null
    -&amp;gt; info varchar(255) null,
    -&amp;gt; comment varchar(255) null,
    -&amp;gt; publicyear year not null
    -&amp;gt; );
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1创建普通索引-2&#34;&gt;&amp;gt;1.创建普通索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create index index_id on book(bookid);/*在book表中的bookid字段上建立一个名为index_id的普通索引*/
mysql&amp;gt; show create table book\g;/*查看数据表结构*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2创建唯一性索引-2&#34;&gt;&amp;gt;2.创建唯一性索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create unique index uniqueidx on book(bookid);
/*在bookid字段上创建一个名为uniqueidx的唯一性索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3创建单列索引&#34;&gt;&amp;gt;3.创建单列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create index singleidx on book(comment);
/*在comment字段上创建一个名称为singleidx的单列索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4创建多列索引&#34;&gt;&amp;gt;4.创建多列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create index mulitidx on book(authors(20)),info(20));
/*在authors和info字段上创建一个名称为mulitidx的多列索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5创建全文索引&#34;&gt;&amp;gt;5.创建全文索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create fulltext index fulltextidx on book(info);
/*在info字段上创建名为fulltextidx的全文索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;6创建空间索引-2&#34;&gt;&amp;gt;6.创建空间索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create table t7(
				g geometry not null
				)engine=myisam;
create spatail index spatidx on t7(g);/*在g字段上创建名称为spatidx的空间索引*/
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;3使用alter-table-语句在已经存在的表上创建索引&#34;&gt;3.使用ALTER TABLE 语句在已经存在的表上创建索引&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:ALTER TABLE 表名 ADD [UNIQUE|FULLTEXT|SPATIAL] INDEX  
					索引名 (字段名[(长度)] [ASC|DESC] )
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create table book(
				  bookid int not null,
				  bookname varchar(255) not null,
				  authors varchar(255) null,
				  comment varchar(255) null,
				  pubblicyear year not null
				  );
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1创建普通索引-3&#34;&gt;&amp;gt;1.创建普通索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table book add index id(bookid);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2创建唯一性索引-3&#34;&gt;&amp;gt;2.创建唯一性索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table book add unique uniqueidx(bookid);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3创建单列索引-2&#34;&gt;&amp;gt;3.创建单列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table book add index singleidx(comment(50));
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4创建多列索引-2&#34;&gt;&amp;gt;4.创建多列索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table book add index multidx(authors(20),info(50));
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5创建全文索引-2&#34;&gt;&amp;gt;5.创建全文索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table book add fulltext index fulltextidx(info);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;6创建空间索引-3&#34;&gt;&amp;gt;6.创建空间索引&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create table t8(
				space geometry not null
				)engine=myisam;
alter table t8 add spatial index spatidx(space);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;263删除索引&#34;&gt;2.6.3删除索引&lt;/h3&gt;
&lt;h4 id=&#34;1使用alter-table删除索引&#34;&gt;&amp;gt; 1.使用alter table删除索引&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:alter table 表名 drop index 索引名;

例如: 删除表book中名叫fulltextidx的全文索引
alter table book drop index fulltextidx;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2使用-drop-index删除索引&#34;&gt;&amp;gt; 2.使用 drop index删除索引&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:drop index 索引名 on 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;31添加数据&#34;&gt;&lt;strong&gt;3.1添加数据&lt;/strong&gt;&lt;/h2&gt;
&lt;h4 id=&#34;311为表中所有字段添加数据&#34;&gt;&amp;gt; 3.1.1为表中所有字段添加数据;&lt;/h4&gt;
&lt;h5 id=&#34;1insert语句中指定所有字段名&#34;&gt;&amp;gt; 1.insert语句中指定所有字段名&lt;/h5&gt;
&lt;p&gt;向表中添加新记录时,可以在insert语句中列出表中的所以字段名;&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;注意:必须列出表中所以的字段名称,&amp;quot;值1,值2,..&amp;quot;的顺序,类型必须与对应的字段相匹配&lt;/mark&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:insert into 表名(字段名1,字段名2,...)
	values(值1,值2,...);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;验证数据是否成功使用select语句查看student表中的数据&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2insert语句中不指定字段名&#34;&gt;&amp;gt; 2.insert语句中不指定字段名&lt;/h5&gt;
&lt;p&gt;&lt;mark&gt;注意:由于insert语句中没有指定字段名,添加的值的顺序必须和字段在定义的顺序相同&lt;/mark&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: insert into 表名 values(值1,值2,...);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;312为表中指定的字段添加数据&#34;&gt;&amp;gt;3.1.2为表中指定的字段添加数据&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: insert into 表名(字段1,字段2,...)
			values(值1,值2)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;313同时添加多条记录&#34;&gt;&amp;gt;3.1.3同时添加多条记录&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:insert into 表名 [(字段名1,字段名2,...)]
			values(值1,值2,...),
			(值1,值2,...),
			(值1,值2,...);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:
	向student表中添加三条新纪录,insert语句如下:
mysql&amp;gt; insert into student values
	-&amp;gt; (6,&#39;lilei&#39;,99),
	-&amp;gt; (7,&#39;hanmeimei&#39;,100),
	-&amp;gt; (8,&#39;poly&#39;,40.5);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;32更新数据&#34;&gt;3.2更新数据&lt;/h2&gt;
&lt;p&gt;语法:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;update 表名
	set字段名1=值1[,字段2=值2,...]
	[where条件表达式]
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1update-更新部分数据&#34;&gt;&amp;gt; 1.update 更新部分数据&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:更新student表中id字段值为1的记录,将记录中的name字段的值更改为&#39;caocao&#39;,grade字段的值更改为50;
mysql&amp;gt; update student
	&amp;gt; set name=&#39;caocao&#39;,grade=50
	&amp;gt; where id=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2update-更新全部数据&#34;&gt;&amp;gt; 2.update 更新全部数据&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:将student表中全部记录,将grade字段值都变为100:
&amp;gt;update student
&amp;gt;set grade=100
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;33-删除数据&#34;&gt;3.3 删除数据&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;delete from 表名[where 条件表达式]
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1删除部分数据&#34;&gt;&amp;gt;1.删除部分数据&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;&amp;gt;delete from 表名
&amp;gt;where 条件表达式
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:删除表student上id字段上小于4的记录
&amp;gt;delete from student
&amp;gt;where id&amp;lt;4;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2删除全部数据&#34;&gt;&amp;gt;2.删除全部数据&lt;/h5&gt;
&lt;h6 id=&#34;1delete&#34;&gt;&amp;gt;1.delete&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;delete from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;2truncate&#34;&gt;&amp;gt;2.truncate&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;truncate from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;区别:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;delete语句后跟where子句,可以删除部分记录,&lt;mark&gt;truncate只能删除表中全部记录&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;delete语句删除数据后,&lt;mark&gt;再次向表中增加记录时&lt;/mark&gt;,自动增加字段的值为删除时该字段的最大值加1,truncate语句删除数据后,自动字段的默认初始值重新由1开始;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;41-简单查询&#34;&gt;&lt;strong&gt;4.1 简单查询&lt;/strong&gt;&lt;/h2&gt;
&lt;h4 id=&#34;411-select-语句&#34;&gt;&amp;gt;4.1.1 select 语句&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;语法   	//顺序不能颠倒&lt;/mark&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; &amp;gt; select [distinct] * |字段名1,字段名2,字段名3,...
	&amp;gt;	from 表名
	&amp;gt;	[where 条件表达式1]
	&amp;gt;	[group by 字段名 [having条件表达式2]]
	&amp;gt;	[order by 字段名 [asc|desc]]
	&amp;gt;	[limit [offset] 记录数]
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;412-查询所有字段&#34;&gt;&amp;gt;4.1.2 查询所有字段&lt;/h4&gt;
&lt;h5 id=&#34;1在select语句中指定所有字段&#34;&gt;&amp;gt; 1.在select语句中指定所有字段&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select 字段名1,字段名2,...from 表名
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2在select语句中使用星号通配符代替所有字段&#34;&gt;&amp;gt; 2.在select语句中使用星号(*)通配符代替所有字段&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * from 表名
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;413-查询指定字段&#34;&gt;&amp;gt;4.1.3 查询指定字段&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: select 字段名1,字段名2,...from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;42-按条件查询&#34;&gt;4.2 按条件查询&lt;/h2&gt;
&lt;h4 id=&#34;421带关系运算符查询&#34;&gt;&amp;gt;4.2.1带关系运算符查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;where 子句中指定查询条件对数据进行过滤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select 字段名1,字段名2,... from 表名 where 条件表达式
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;422-带in关键字的查询&#34;&gt;&amp;gt;4.2.2 带in关键字的查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;in关键字用于判断某个字段的值是否在指定集合中&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select * |字段名1,字段名2,... from 表名 where 字段名[not] in (元素1,元素2)
	&amp;quot;元素1,元素2&amp;quot;表示集合中的元素,即指定的条件范围
	not 为可选参数,使用not表示查询不在in关键字指定集合范围的记录
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询student表中ID值为1,2,3的记录
mysql&amp;gt; select id,grade,name,grade from student where id in(1,2,3);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;423带between-and-关键字查询&#34;&gt;&amp;gt;4.2.3带between and 关键字查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;between  and 用于判断某个字符的值是否在指定的范围之内,如果字段的值在指定的范围内,则满足条件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * |{字段名1,字段名2,...} from 表名 where 字段名 [not] between 值1 and 值2
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 查询student表中id值在2~5之间的学生姓名
mysql&amp;gt; select id,name from student where id between 2 and 5;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;424-空值查询&#34;&gt;&amp;gt;4.2.4 空值查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在数据表中,某些列的值可能为空值(null),空值不同于0,也不同于空字符串&lt;/p&gt;
&lt;p&gt;在mysql中,使用is null关键字来判断是否为空值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select * |字符段1,字符段2,... from 表名 where 字段名 is [not] null;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询Student表中gender为空值的记录
mysql&amp;gt; select id,name,grade,gender from student where gender is null;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;425-带distinct关键词的查询&#34;&gt;&amp;gt;4.2.5 带distinct关键词的查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;很多表中某些字段的数据存在重复的值,使用distinct过滤重复记录的字段&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:在student表中查询gender(性别)字段的值,查询记录不能重复;
mysql&amp;gt; select distinct gender from student;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;distinct关键字作用于多个字段,如果字段名1字段名2里的值都相同才被认为是重复记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select distinct 字段名1,字段名2,...from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;426-带like关键字的查询&#34;&gt;&amp;gt;4.2.6 带like关键字的查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;使用关系运算符&amp;quot;=&amp;quot;可以判断两个字符串是否相等,但有些需要是对字符串进行模糊查询&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * | {字符段1,字符段2,...}
from 表名
where 字段名 [not] like &#39;匹配字符串&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1-百分号-通配符&#34;&gt;1. 百分号(%) 通配符&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用 : 匹配任意长度的字符串 ,包括空字符串&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例1: 查询student表中name字段值以字符&amp;quot;s&amp;quot;开头的学生 id
mysql&amp;gt; select id, name from student where name like &amp;quot;s%&amp;quot; ;

例2:查询student表中name字段值以字符&amp;quot;w&amp;quot;开头,以字符&amp;quot;g&amp;quot;结束的学生 id
mysql&amp;gt; select id, name from student where name like &amp;quot;w%g&amp;quot; ;

例3:查询student表中name字段值包括字符&amp;quot;y&amp;quot;的学生 id;
mysql&amp;gt; select id, name from student where name like &amp;quot;%y%&amp;quot; ;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-下划线_-通配符&#34;&gt;2. 下划线(_) 通配符&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用 : 下划线通配符只能匹配单个字符,如果需要匹配多个则需要使用多个下划线&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例1: 查询student表中name字段值以字符串&amp;quot;wu&amp;quot;开始, 以字符串&amp;quot;ong&amp;quot;结尾,并且两个字符串之间只有一个字符的记录
mysql&amp;gt; select * from student where name like &amp;quot;wu_ong&amp;quot;;

例2: 查询student表中name字符值包括7个字符, 并且以字符串&amp;quot;ing&amp;quot;结尾的记录
mysql&amp;gt; select * from student where name like &amp;quot;_______ing&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3使用百分号和下划线通配符进行查询操作&#34;&gt;3.使用百分号和下划线通配符进行查询操作&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用 : 通过右斜线( &amp;quot; \ &amp;quot; )对百分号和下划线进行转义&lt;/p&gt;
&lt;p&gt;例如 : &amp;quot;%&amp;quot;匹配百分号字符值 , &amp;quot; \ _ &amp;quot;匹配下划线字符值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 查询student表中name字段值包括&amp;quot;%&amp;quot;的记录;
mysql&amp;gt; insert into student (name,grade,gender)
	-&amp;gt; values (&#39;sun%er&#39;,95,&#39;男&#39;);
	
mysql&amp;gt; select * from student where name like &amp;quot;%\%%&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;427-带and关键字的多条件查询&#34;&gt;&amp;gt;4.2.7 带and关键字的多条件查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;and关键字连接两个或以上查询条件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:select * from 表名 where 条件表达式1 and 条件表达式2 [...and 条件表达式n]
查询student表中id字段值在1.2.3.4之中,name字符值以字符串&#39;ng&#39;结尾,并且grade字段值小于80的记录
mysql&amp;gt; select id,name,grader,gender
	-&amp;gt; from student
	-&amp;gt; where id in(1,2,3,4) and name like &#39;%ng&#39; and grade &amp;lt;80;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;428-带or关键字的多条件查询&#34;&gt;&amp;gt;4.2.8 带or关键字的多条件查询&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;or关键字满足一个,可以连接两个或多个查询条件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询student表中满足条件name字段值以字符&#39;h&#39;结束,或者gender字符值为&#39;女&#39;,或者grade字段值为100的记录
mysql&amp;gt; select id,name,grade,gender
	-&amp;gt; from student
	-&amp;gt; where name like &#39;%h&#39; or gender=&#39;女&#39; or grade=100;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;注意:or和and可以一起使用, and优先级高于or&lt;/mark&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询student表中student字符值为&#39;女&#39;或者gender字符值为&#39;男&#39;,并且gender字段值为100的学生姓名
mysql&amp;gt; select name,grade,gender
	-&amp;gt; from student
	-&amp;gt; where gender=&#39;女&#39; or gender =&#39;男&#39; and grade=100;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;43-高级查询&#34;&gt;4.3 高级查询&lt;/h2&gt;
&lt;h4 id=&#34;431-聚合函数&#34;&gt;&amp;gt;4.3.1 聚合函数&lt;/h4&gt;
&lt;h5 id=&#34;1count函数&#34;&gt;&amp;gt;1.count()函数&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;COUNT()函数用来统计记录的条数，其语法格式如下所示:
SELECT COUNT(*) FROM 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 查询student表中一共有多少条记录
mysql&amp;gt; select count(*) from student;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2sum函数&#34;&gt;&amp;gt;2.sum()函数&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SUM()是求和函数，用于求出表中某个字段所有值的总和，其语法格式如下:
SELECT SUM(字段名) FROM 表名
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:求出student表中grade字段的总和
mysql&amp;gt; select sum(grade) from student7
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3avg函数&#34;&gt;&amp;gt;3.avg()函数&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;AVG()函数用于求出某个字段所有值的平均值其语法格式如下所示:
SELECT AVG(字段名) FROM student;
例如:求出student表中grade字段的平均值
&amp;gt;select avg(grade) from student
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4max函数&#34;&gt;&amp;gt;4.max()函数&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;MAX()函数是求最大值的函数，用于求出某个字段的最大值，其语法格式如下所示:
SELECT MAX(grade) FROM student;
例如:求出student表中grade字段的最大值
&amp;gt;select max(grade) from student
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5min函数&#34;&gt;&amp;gt;5.min()函数&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;MIN()函数是求最小值的函数，用于求出某个字段的最小值，其语法格式如下所示:
SELECT MIN(grade) FROM student;
例如:求出student表中grade字段的最小值
&amp;gt;select min(grade) from student
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;432-对查询结果排序&#34;&gt;&amp;gt;4.3.2 对查询结果排序&lt;/h4&gt;
&lt;p&gt;​	从表中查询出来的数据可能是无序的,或者排列顺序不是用户期望的,为了使查询结果满足用户的要求,可以使用order by&lt;/p&gt;
&lt;p&gt;​	对查询结果进行排序,语法格式如下:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;使用 ORDER BY对查询结果进行排序其语法格式如下所示:
SELECT字段名1, 字段名2, FROM 表名
ORDER BY字段名1 [ASC|DESC]，字段名2 [ASC|DESC] /*asc:升序,从小到大,desc:倒叙,从大到小*/
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例2:查询student表中的所有记录,按照gender字段的升序和grade字段的降序进行排序:
mysql&amp;gt; select * from student
	-&amp;gt; order by gender asc, grade desc;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;==注意:==在按照指定字段进行升序排列时，如果某条记录的字段值为NULL，则这条记录会在第一条显示，这是因为NULL值可以被认为是最小值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;433-分组查询&#34;&gt;&amp;gt; 4.3.3 分组查询&lt;/h4&gt;
&lt;h5 id=&#34;1单独使用group-by-分组&#34;&gt;&amp;gt;1.单独使用group by 分组&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;单独使用group by 关键词,查询的是每个分组的一条记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询student表中的记录,按照gender字段值进行分组
select * from student group by gender;

查询结果是按照gender字段中的不同值进行分类的,查询结果只显示每个分组
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2group-by和聚合函数一起使用&#34;&gt;&amp;gt;2.group by和聚合函数一起使用&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;gruop by 和聚合函数一起使用可以统计出某个或者某些字段在一个分组中的最大值,最小值,平均值等&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:将student表中gender字段值进行分组查询,计算出每个分组中各有多少名学生
select count(*),gender from student group by gender; 
例如:将student表中gender字段值进行分组查询,计算出每个分组的总成绩,平均成绩,最高分,最低分
select sum(grade),avg(grade),max(grade),min(grade),genter from student3 group by genter;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-group-by-和-having关键词一起使用&#34;&gt;&amp;gt;3. group by 和 having关键词一起使用&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;having关键字和 where关键字的作用相同,都设置条件表达式对查询结果进行过滤,两者区别在于,&lt;/p&gt;
&lt;p&gt;having关键字后可以跟聚合函数,而where 关键字不能&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:将student表中按照gender字段进行分组查询,查找grade字段值之和小于300的分组
select student sum(grade),gender from student group by gender having sum(grade)&amp;lt;300 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;434-使用limit限制查询结果的数量&#34;&gt;&amp;gt;4.3.4 使用limit限制查询结果的数量&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;查询数据时,可能会返回很多条记录,而用户需要的记录可能只是其中的一条或者几条,比如实现分页功能,每页显示10行信息,每次查询都需要查出10条记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;格式:select 字段名1,字段名2,...
	from 表名
	limit [offset,] 记录数  //limit后可以跟两个参数,第一个参数offset表示偏移量,如果为0则从查询结果的第一条开始记录,偏移量为1则从查询结果中的第二条记录开始,以此类推;offset为可选值,如果不指定其默认值为0.第二个参数&amp;quot;记录数&amp;quot;表示返回查询记录的条数;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例(1):查询Student表中的前四条记录
select * from student limit 4;	//没有指定返回记录的偏移量,只指定了查询记录的条数4,因此返回结果从第一条开始,一共返回4条记录;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例(2):查询student表中grade字段值从第五位到第八位的学生(从高到低)
select * from student group desc limit 4,4
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;limit后面第一个参数表示偏移量位4,即从第五条开始查询,第二个参数表示一共返回4条记录,即从第五位到第8为学生&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;435-函数列表&#34;&gt;&amp;gt;4.3.5 函数(列表)&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;函数名称&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ABS(x)&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SQRT(x)&lt;/td&gt;
&lt;td&gt;返回x的非负2次方根&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;MOD(xy)&lt;/td&gt;
&lt;td&gt;返回x被y除后的余数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CEILING(x)&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;FLOOR(z)&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ROUND(x,y)&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;TRUNCATE(x)&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;SIGN(x)2&lt;/td&gt;
&lt;td&gt;返回x的绝对值&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;44-为表和字段取别名&#34;&gt;4.4 为表和字段取别名&lt;/h2&gt;
&lt;h4 id=&#34;441-为表取别名&#34;&gt;&amp;gt; 4.4.1 为表取别名&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在查询操作时,如果表名很长使用起来就不太方便,这时可以为表取一个别名,用这个别名来代替表的名称;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:	select * from 表名 [as] 别名;	as关键字用于指定表名的别名,它可以省略不写;
例如: 为student表起一个别名 s,并查询student表中gender字段值为&#39;女&#39;的记录
select * from student as s where s.gender=&#39;女&#39;;	
student as s表示student表的别名为s
s.gender 表示student表中的gender字段;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;442-为字段取别名&#34;&gt;&amp;gt; 4.4.2 为字段取别名&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;为了让显示查询结果更加直观,可以为字段取一个别名&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select 字段名 [as] 别名 [,字段名 [as] 别名,...] from 表名;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询student表中的所有记录的name和grade字段值,并为这两个字段名起别名stu_name和stu_genter;
select * from name as stu_name, grader as stu_genter from student;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;51-外键&#34;&gt;5.1 外键&lt;/h2&gt;
&lt;h4 id=&#34;511-什么是外键&#34;&gt;&amp;gt; 5.1.1 什么是外键&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;外键是指引用另一个表中的一列或多列,==被引用的列应该具有主键约束或唯一性约束.==外键用来建立和加强两个表数据之间的连接&lt;/p&gt;
&lt;p&gt;引入外键后,外键列只能插入参照列存在的值,参照列被参照的值不能被删除,这就确保了数据的参照完整性&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;创建两个表,一个班级表(grade),一个学生表(student)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create table grade(
	id int(4) not null primary key,
	name varchar(36)
);

create table student(
	sid int(4) not null primary key,
	sname varchar(36),
	gid int(4) not null
);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;学生表(student)中的gid 是学生所在的班级id,是引入了班级表(grade) 中的主键id,那么gid就可以作为表student的主键..被引用的表,即表grade是主表;引用外键的表,即表student是从表,两个表是主从关系.&lt;/p&gt;
&lt;p&gt;表student用gid可以连接表grade中的信息&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;512-为表中添加外键约束&#34;&gt;&amp;gt;5.1.2 为表中添加外键约束&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: alter table 表名 add constraint FK_ID foreign key(外键字段名) references 主表表名(主键字段名);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语句: alter table student add constraint FK_ID foreign key(gid) references grade(id);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;513-删除外键约束&#34;&gt;&amp;gt;5.1.3 删除外键约束&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在实际开发中,根据业务逻辑的需求,需要解除两个表的关联关系时, 就需要删除外键约束&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: alter table 表名 drop foreign key 外键名;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;接下来,将表中student表的外键约束删除&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter table student drop foreign key FK_ID; 
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;52-操作关联表&#34;&gt;5.2 操作关联表&lt;/h2&gt;
&lt;h4 id=&#34;521-关联关系&#34;&gt;&amp;gt;5.2.1 关联关系&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;1.多对一	(外键定义在多端)&lt;/p&gt;
&lt;p&gt;一个部门可以有多个员工，而一个员工不能属于多个部门。&lt;br&gt;
在多对一的表关系中，应该将外键建在多的一方&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;2.多对多	(需定义中间表)&lt;/p&gt;
&lt;p&gt;一个老师可以教多个学生，同时一个学生可以上多个老师的课程。&lt;br&gt;
为了实现数据表多对多的关系，需要定义一张第三方中间表，该表保存两个关系表的外键。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;3.一对一	(从表依赖主表)&lt;/p&gt;
&lt;p&gt;一对一的对应关系中，需要分清主从关系，通常在从表中建立外键&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;522-添加数据&#34;&gt;&amp;gt;5.2.2 添加数据&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在开发中，最常见的关联关系就是多对一关系&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;为表student和表grade中添加外键约束来建立两个表的关联关系
alter table student add constraint FK_ID foreign key(gid) references grade (id);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;523-删除数据&#34;&gt;&amp;gt;5.2.3 删除数据&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;由于grade表与student表之间具有关联关系 , 参照列被参照的值不能被删除的,再删除软件二班时需要删除软件二班的所有学生&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;delete from student where sname=&#39;王红&#39;;
delete from student where sname=&#39;李强&#39;;
delete * from grade where id=2;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;53-连接查询&#34;&gt;5.3 连接查询&lt;/h2&gt;
&lt;h5 id=&#34;531交叉连接&#34;&gt;&amp;gt; 5.3.1交叉连接&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;交叉连接返回的结果是被连接的两个表中所有数据行的笛卡尔积即行数的乘积&lt;/p&gt;
&lt;p&gt;例如:department表中有4个部门,employee表中有4个员工,那么交叉连接的结果就有4X4=16条数据&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: select *from 表1,表2;
	 或select * from 表1 cross join 表2;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;532-内连接&#34;&gt;&amp;gt; 5.3.2 内连接&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;内连接（INNER JOIN）又称简单连接或自然连接，内连接使用比较运算符对两个表中的数据进行比较，列出与连接条件匹配的数据行，组合成新的记录&lt;/p&gt;
&lt;p&gt;简单连接或自然连接,返回的结果是两个表中一一对应的数据,只有满足条件的数据才显示&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法:select 查询字段 from 表1[inner] join 表2 on 表1.关系字段= 表2.关系字段
例如: 在department表和employee表之间使用内连接查询;
select employee.name,department.dname from department inner join employee on department.did=employee.did;	//只有department.did和employee.did相等的才输出
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;使用where条件语句来实现同样的功能;
例如:在department表和employee表之间使用where:
select employee.name, department.dname from department,employee where department,did=employee.did;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;注意&lt;/mark&gt;:where子句的查询结果与使用inner join的查询结果是一致的,虽然结果相同,但inner join 是内连接语句,where是条件判断语句,在where语句后可以添加其他条件,而inner join语句不可以;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;如果在一个连接查询中,涉及的两个表是同一个表,这种查询称为自连接查询,指的是相互连接的表在物理上为同一个表,但逻辑上分为两个表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;查询部门为2的员工的姓名和年龄;
select department.did,employee.name,employee.age from department join employee on department.did=employee.did where department.did=2;
或
select department.did,employee.name,employee.age from department,employee where department.did=employee.did and department.did=2;
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;查询姓名为王红所在的部门编号和部门名称
select employee.name,department.did,department.dname from department,employee where department.did=employee.did and employee.name=&#39;王红&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;自连接:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:在department表和employee表之间使用自连接查询王红所在的部门有哪些员工;
select p1.* from employee p1 inner join employee p2 on p1.did=p2.did where p2.name=&#39;王红&#39;;	/*p1 p2为别名*/
或select p1.* from employee p1,employee p2 where p1.did=p2.did and p2.name=&#39;王红&#39;;/*where方法*/
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;533-外连接&#34;&gt;&amp;gt; 5.3.3 外连接&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;外连接分为左连接和有连接&lt;/p&gt;
&lt;p&gt;左连接的结果包括LEFT JOIN子句中指定的左表的所有记录，和所有满足连接条件的记录。如果左表的某条记录在右表中不存在，则在右表中显示为空  ;&lt;/p&gt;
&lt;p&gt;右连接与左连接正好相反，返回右表中所有指定的记录和所有满足连接条件的记录。如果右表的某条记录在左表中没有匹配，则左表将返回空值  ;&lt;/p&gt;
&lt;p&gt;做外链接:左表中的所有记录以及内连接的记录(放在前面的是左表)&lt;/p&gt;
&lt;p&gt;右外连接:右表中的所有记录以及内连接的记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: SELECT 所查字段 FROM 表1 LEFT|RIGHT [OUTER] JOIN 表2 
	ON 表1.关系字段 = 表2.关系字段 WHERE 条件
	
	select * from 表1,表2 where表1.关系字段=表2.关系字段 and 其他条件
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;全外连接查询&#34;&gt;&amp;gt;全外连接查询&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;在外连接的基础上,增加左边表有,右边表没有的记录,以及右边表有左边表没有的记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: select * from 表1 full jion 表二 on 表一.关系字段=表二.关系字段;
	select * from dep full jion emp on dep.did=em.did;

&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;534-复合条件查询&#34;&gt;&amp;gt;5.3.4 复合条件查询&lt;/h5&gt;
&lt;hr&gt;
&lt;h3 id=&#34;54子查询&#34;&gt;5.4	子查询&lt;/h3&gt;
&lt;h5 id=&#34;541-带in关键字的子查询&#34;&gt;&amp;gt;5.4.1 带IN关键字的子查询&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;使用in关键字进行子查询时,内层查询语句仅返回一个数列值,这个数列值中的值将供外层查询语句进行比较操作&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询存在年龄为20岁的员工的部门
select * from department where did in(select did from employee where age=20);
或											           //子查询方法
select department.did,department.dname from department join employee on department.did=employee.did where employee.age=20;		//内连接方法
或
select department.did,department.dname from department,employee where department.did=employee.did and employee.age=20;	 	  //where方法
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;542-带exists关键字的子查询&#34;&gt;&amp;gt;5.4.2 带exists关键字的子查询&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;exists关键字后面的参数可以是任意一个子查询,这个子查询的作用相当于测试,他不产生任何数据,只返回true或false,当返回值为true时,外层查询才会执行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:查询employee表中是否存在年龄大于21岁的员工,如果存在,则查询department表中的所有记录
select * from department where exists(select did from employee where age&amp;gt;21);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;543-带any关键字的子查询&#34;&gt;&amp;gt; 5.4.3 带any关键字的子查询&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;any关键字表示满足其中任意一个条件,它允许创建一个表达式对子查询的返回值列表进行比较&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:
select * from department where did&amp;gt;any(select did from employee);//列出只要大于employee.did任意一个数
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;544-带all关键字的子查询&#34;&gt;&amp;gt;5.4.4 带all关键字的子查询&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:
select * from department where did&amp;gt;all(select did from employee);/列出大于employee.did所有的数
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;545-带比较运算符的子查询&#34;&gt;&amp;gt;5.4.5 带比较运算符的子查询&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;比较运算符	&amp;gt; , &amp;lt; , = , &amp;gt;= , &amp;lt;= , ! =&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如:使用比较运算符的子查询,查询赵四是哪个部门的员工
select * from department where did=(select did from employee where name =&amp;quot;赵四&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;61-事务管理&#34;&gt;6.1 事务管理&lt;/h2&gt;
&lt;h5 id=&#34;611-事务的概念&#34;&gt;&amp;gt; 6.1.1 事务的概念&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;所谓的事务就是针对数据库的一组操作，它可以由一条或多条SQL语句组成，同一个事务的操作具备同步的特点，即事务中的语句要么都执行，要么都不执行&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;开启事务的语法: start transaction
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语句用于开启事务,事务开启之后就可以执行SQL语句,SQL语句执行成功后,需使用相对应语句提交事务,语法如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;提交事务的语法: commit
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;在操作一个事务时,如果发现当前事务中的操作是不合理的,此时只要还没有提交事务,就可以通过回滚来取消当前事务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;事务回滚语句: rollback
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;62-存储过程的创建&#34;&gt;6.2 存储过程的创建&lt;/h2&gt;
&lt;h4 id=&#34;621-创建存储过程&#34;&gt;&amp;gt; 6.2.1 创建存储过程&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;存储过程就是一条或多条SQL语句的集合，当对数据库进行一系列复杂操作时，存储过程可以将这些复杂操作封装成一个代码块，以便重复使用，大大减少数据库开发人员的工作量&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法格式: 
CREATE PROCEDURE sp_name([proc_parameter])
[characteristics…]routine_body
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;CREATE PROCEDURE：为用来创建存储过程的关键字。
sp_name: 为存储过程的名称。
proc_parameter: 为指定存储过程的参数列表。
characteristics : 用于指定存储过程的特性。
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;演示存储过程的创建&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;1.首先创建一个student表:
mysql&amp;gt; create table student(
    -&amp;gt; id int(3) primary key auto_increment,
    -&amp;gt; name varchar(20) not null,
    -&amp;gt; grade float,
    -&amp;gt; gender char(2)
    -&amp;gt; );
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;2.插入数据
mysql&amp;gt; insert into student(name,grade,gender)
    -&amp;gt; values(&#39;tom&#39;,60,&#39;男&#39;),
    -&amp;gt; (&#39;jack&#39;,70,&#39;男&#39;),
    -&amp;gt; (&#39;rose&#39;,90,&#39;女&#39;),
    -&amp;gt; (&#39;lucy&#39;,100,&#39;女&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;3.创建一个查看student表的存储过程
创建一个存储过程proc,每次调用这个存储过程的时候都会执行select语句查看表的内容
mysql&amp;gt; delimiter //		--------&amp;gt; 作用: 将MySQL的结束符设置为 //
mysql&amp;gt; create procedure proc()
    -&amp;gt; begin
    -&amp;gt; select * from student;
    -&amp;gt; end //
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;622-变量的使用&#34;&gt;&amp;gt; 6.2.2 变量的使用&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在MySQL中, 变量可以在子程序中声明, 用于保存数据处理过程中的值, 这些&lt;mark&gt;变量的作用范围在BEGIN…END程序中&lt;/mark&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法格式: DECLARE var_name[,varname]…date_type[DEFAULT value];
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 定义一个名称为v1的变量，类型为INT类型，默认值为100,查询这个变量的值
mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc2()
    -&amp;gt; begin
    -&amp;gt; declare v1 int default 100;
    -&amp;gt; select v1;
    -&amp;gt; end //
mysql&amp;gt; delimiter ;
mysql&amp;gt; call proc2();
+------+
| v1   |
+------+
|  100 |
+------+    
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 声明三个变量,使用set为变量赋值
mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc2()
    -&amp;gt; begin
    -&amp;gt; declare v1,v2,v3 int;
    -&amp;gt; set v1=10,v2=20;
    -&amp;gt; set v3=v1+v2;
    -&amp;gt; select v1,v2,v3;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)
mysql&amp;gt; delimiter ;
mysql&amp;gt; call proc2();
+------+------+------+
| v1   | v2   | v3   |
+------+------+------+
|   10 |   20 |   30 |
+------+------+------+
1 row in set (0.00 sec)
Query OK, 0 rows affected (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;除了使用set语句为变量赋值外,MySQL中还可以通过select...into为一个或多个变量赋值,&lt;br&gt;
该语句可以把选定的列直接储存到对应的位置的变量&lt;br&gt;
语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select col_name[...] into var_name [...] table_expr
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语法格式中,col_name表示字段名称;var_name表示定义的变量名称,table_expr 表示查询条件表达式,包括表名称和where子句.&lt;/p&gt;
&lt;p&gt;例如:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select grade, gender into s_grade, s_gender from student where name= &#39;rose&#39; ; 
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;例:声明变量s_grade 和 s_gender,通过select ...into 语句 查询指定记录并为变量赋值&lt;/p&gt;
&lt;p&gt;注意: 查询时如果不执行 select s_grade,s_gender; 则无返回结果&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc4()
    -&amp;gt; begin
    -&amp;gt; declare s_grade float;
    -&amp;gt; declare s_gender char(4);
    -&amp;gt; select grade,gender into s_grade,s_gender from student where name=&#39;rose&#39;;
    -&amp;gt; select s_grade,s_gender;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; call proc4()//
+---------+----------+
| s_grade | s_gender |
+---------+----------+ 
|      90 | 女       |
+---------+----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;623-定义条件和处理程序&#34;&gt;&amp;gt; 6.2.3 定义条件和处理程序&lt;/h4&gt;
&lt;h5 id=&#34;1定义条件&#34;&gt;&amp;gt; 1.定义条件&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;定义条件是指事先定义程序执行过程中遇到的问题。定义条件使用DECLARE语句，语法格式如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DECLARE condition_name CONDITION FOR [condition_type];
// condition_type的两种形式：
[condition_type]:
SQLSTATE[VALUE] sqlstate_value|mysql_error_code
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;condition_name：表示所定义的条件的名称；&lt;br&gt;
condition_type：表示条件的类型；&lt;br&gt;
sqlstate_value和mysql_error_code：表示MySQL的错误，sqlstate_value是长度为5的字符串类型错误代码，mysql_error_code为数值类型的错误代码。例如：ERROR1142（42000）中，sqlstate_value的值是42000，mysql_error_code的值是1142&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;例如&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;// 方法一: 使用sqlstate_value
declare commad_not_allowed condition for sqlstate &#39;42000&#39;;
// 方法二: 使用 mysql_error_code
declare commad_not_allowed condition for 1064;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-定义处理程序&#34;&gt;&amp;gt; 2. 定义处理程序&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;处理程序定义了在程序执行过程中遇到问题时应当采取的处理方式，并且保证存储过程在遇到警告或错误时能继续执行处理过程使用DECLARE语句定义，语法格式如下  :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DECLARE handler_type HANDLER FOR condition_value[,…] sp_statement
handler_type:
CONTINUE|EXIT|UNDO
condition_value:	//包括5个字符的字符串错误值 ;
|condition_name		//表示declare condition 定义的错误条件名称
|SQLWARNING			//匹配所有以01开头的sqlstate错误代码
|NOT FOUND			//匹配所有以02开头的sqlstate错误代码
|SQLEXCEPTION		//匹配所有没有被sqlwarning 或 not found捕获的sqlstate错误代码
|mysql_error_code	//匹配数值类型错误代码
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;handler_type：为错误处理方式，参数取值&lt;br&gt;
有3个：CONTINUE、EXIT和UNDO。CONTINUE：表示遇到错误不处理，继续执行；&lt;br&gt;
EXIT：遇到错误马上退出。&lt;br&gt;
UNDO：表示遇到错误后撤回之前的操作，MySQL中暂时不支持这样的操作。sp_statement：参数为程序语句段，表示在遇到定义的错误时，需要执行的存储过程。&lt;br&gt;
condition_value：表示错误类型&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;例如 :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;// 方法一:捕获sqlstate_value
declare continue handler for sqlstate &#39;42S02&#39; set @info = &#39;no_such_table&#39;;
// 方法二:捕获mysql_error_code
declare continue handler for 1146 set @info = &#39;no_such_table&#39;
// 方法三:先定义条件,然后调用
declare continue handler for no_such_table set @info=&#39;error&#39;;
// 方法四:使用sqlwarning
declare exit handler for sqlwarning set @info=&#39;error&#39;;
// 方法五:使用not found
declare exit handler for not found set @info=&#39;no_such_table&#39;;
// 方法六:使用sqlexception
declare exit handler for sqlexception set @info=&#39;error&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;624-光标的使用&#34;&gt;&amp;gt; 6.2.4 光标的使用&lt;/h4&gt;
&lt;p&gt;在编写存储过程时，查询语句可能会返回多条记录，如果数据量非常大，则需要使用光标来逐条读取查询结果集中的记录。光标是一种用于轻松处理多行数据的机制&lt;/p&gt;
&lt;h5 id=&#34;1-光标的声明&#34;&gt;&amp;gt; 1. 光标的声明&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;想要使用光标处理结果集中的数据, 需要先声明光标 。光标必须声明在声明变量, 条件之后&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: DECLARE cursor_name CURSOR FOR select_statement
cursor_name表示光标的名称;
select_statement表示select语句的内容, 返回一个用于创建光标的结果集
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 声明一个名为cursor_student的光标
DECLARE cursor_student CURSOR FOR select s_name,s_gender FROM student;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-光标的使用&#34;&gt;&amp;gt; 2. 光标的使用&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;首先要打开光标&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: open cursor_name;
select cursor_name into var_name[,var_name]...

cursor_name 表示参数的名称;
var_name 表示将光标中的select语句查询出来的信息存入该参数中, 需要注意的是, var_name必须在声明光标之前就定义好
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 使用名称为cursor_student的光标, 将查询出来的信息存入s_name和s_gender中
fetch cursor_student into s_name, s_gender;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-光标的关闭&#34;&gt;&amp;gt; 3. 光标的关闭&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;使用完光标后要将光标关闭, 关闭光标的语法格式为&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;close cursor_name;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;625-流程控制的使用&#34;&gt;&amp;gt; 6.2.5 流程控制的使用&lt;/h4&gt;
&lt;p&gt;流程控制语句用于将多个sql语句划分或组合成符合业务逻辑的代码块&lt;/p&gt;
&lt;h5 id=&#34;1-if语句&#34;&gt;&amp;gt;1. if语句&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;是指如果条件满足&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc6()			//定义一个存储过程;
    -&amp;gt; begin							//开始;
    -&amp;gt; declare var int;					//定义一个变量 var;
    -&amp;gt; set var=10;						//设置var的值,可不设置;
    -&amp;gt; if var is null					//if语句开始;
    -&amp;gt; then select &#39;val is null&#39;;
    -&amp;gt; else select &#39;val is not null&#39;;
    -&amp;gt; end if;							//if语句结束;
    -&amp;gt; end //							//结束;
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; delimiter ;
mysql&amp;gt; call proc6();					//查看
+-----------------+
| val is not null |
+-----------------+
| val is not null |
+-----------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-case-语句&#34;&gt;&amp;gt; 2. case 语句&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc7()
    -&amp;gt; begin
    -&amp;gt; declare var int;
    -&amp;gt; set var=1;
    -&amp;gt; case var
    -&amp;gt; when 1 then select &#39;val is 1&#39;;
    -&amp;gt; when 2 then select &#39;val is 2&#39;;
    -&amp;gt; else select &#39;val is not 1 or 2&#39;;
    -&amp;gt; end case;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; delimiter ;
mysql&amp;gt; call proc7();
+----------+
| val is 1 |
+----------+
| val is 1 |
+----------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3loop-语句&#34;&gt;&amp;gt; 3.loop 语句&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;loop循环语句用来重复执行某些语句,并不会进行条件判断。&lt;/p&gt;
&lt;p&gt;loop语句内的语句会一直重复执行直到跳出循环语句&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;基本语法如下 :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;[loop_label:]LOOP		// loop_label 表示loop语句的标记名称,该参数可以省略
statement_list			// statement_list 表示需要循环执行的语句
END LOOP [loop_label]
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4-leave语句&#34;&gt;&amp;gt; 4. leave语句&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;当不满足循环条件时, 需要用leave语句退出循环&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: leave label
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;例如:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create procedure proc8()
    -&amp;gt; begin
    -&amp;gt; declare id int default 0;
    -&amp;gt; add_loop:LOOP
    -&amp;gt; set id=id+1;
    -&amp;gt; if id&amp;gt;=10 then leave add_loop;
    -&amp;gt; end if;
    -&amp;gt; end LOOP add_loop;
    -&amp;gt; select id;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; call proc8() //
+------+
| id   |
+------+
|   10 |
+------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;5-iterate-语句&#34;&gt;&amp;gt; 5.  iterate 语句&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc9()
    -&amp;gt; begin
    -&amp;gt; declare p1 int default 0;			//p1初始值为0;
    -&amp;gt; my_loop:loop
    -&amp;gt; set p1=p1+1;
    -&amp;gt; if p1&amp;lt;10 then iterate my_loop;		//如果p1的值小于10是,重复执行p+1
    -&amp;gt; elesif p1&amp;gt;20 then leave my_loop;		//当p1的值大于或等于10并且小于20时
    -&amp;gt; end if;
    -&amp;gt; select &#39;p1 is between 10 and 20&#39;;	//当p1的值大于或等于10并且小于20时,打印&amp;quot;p1 is bet...&amp;quot;
    -&amp;gt; end loop my_loop;
    -&amp;gt; end //
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;6-repeat-语句&#34;&gt;&amp;gt; 6. repeat 语句&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用: 创建一个带有条件判断的循环过程, 每次语句执行完毕后, 会对条件表达式进行判断, &lt;mark&gt;如果表达式为真, 则循环结束;&lt;/mark&gt; 否则重复执行循环中的语句&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: [repeat_lable:] repeat		//repeat_label为repeat语句的标注名称,该参数可选
	statement_list
	utill expr_condition		 //reapeat语句内的语句或语句群被重复,直至expr_condition为真
	end repeat [repeat_lable]
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;例如&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create procedure proc40()
    -&amp;gt; begin
    -&amp;gt; declare id int default 0;
    -&amp;gt; repeat		//
    -&amp;gt; set id=id+1;
    -&amp;gt; select id;	//遍历 1-10;
    -&amp;gt; until id&amp;gt;=10 ---------&amp;gt;&amp;gt; 不带分号
    -&amp;gt; end repeat;	//
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;7-where-语句&#34;&gt;&amp;gt; 7.  where 语句&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用: 创建一个带条件判断的循环过程, 与repeat 不同的是, where在语句执行时, 先对指定的表达式进行判断, 如果为真, 则执行循环内的语句, 否则退出循环&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: [where_lable:] where expr_condition DO
	Statement_list
	end where [where_lable]
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create procedure proc42()
    -&amp;gt; begin
    -&amp;gt; declare i int default 0;
    -&amp;gt; while i&amp;lt;10 do
    -&amp;gt; set i=i+1;
    -&amp;gt; select i;		//遍历1-10;
    -&amp;gt; end while;
    -&amp;gt; end //
Query OK, 0 rows affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;63-存储过程的使用&#34;&gt;&lt;strong&gt;6.3 存储过程的使用&lt;/strong&gt;&lt;/h2&gt;
&lt;h4 id=&#34;631-调用存储过程&#34;&gt;&amp;gt; 6.3.1 调用存储过程&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;1.定义存储过程&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create procedure test2(in s_gender varchar(50),out num int )
    -&amp;gt; begin
    -&amp;gt; select count(*) into num from student where gender=s_gender;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;2调用存储过程&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter ;
mysql&amp;gt; call test2(&amp;quot;女&amp;quot;,@num);
Query OK, 1 row affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;3.查看返回结果&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; select @num;
+------+
| @num |
+------+
|    2 |
+------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;632-查看存储过程&#34;&gt;&amp;gt;6.3.2 查看存储过程&lt;/h4&gt;
&lt;h5 id=&#34;1-show-status-语句中查看存储过程的状态&#34;&gt;&amp;gt; 1. show status 语句中查看存储过程的状态&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; show procedure status like &#39;proc%&#39; \G
*************************** 1. row ***************************
                  Db: chapter06
                Name: proc
                Type: PROCEDURE
             Definer: root@localhost
            Modified: 2020-11-25 08:32:11
             Created: 2020-11-25 08:32:11
       Security_type: DEFINER
             Comment:
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
*************************** 2. row ***************************
                  Db: chapter06
                Name: proc1
                Type: PROCEDURE
             Definer: root@localhost
            Modified: 2020-11-25 09:15:20
             Created: 2020-11-25 09:15:20
       Security_type: DEFINER
             Comment:
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-show-create-语句中查看存储过程的状态创建语句&#34;&gt;&amp;gt; 2. show create 语句中查看存储过程的状态&amp;amp;创建语句&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; show create procedure chapter06.proc1 \G
*************************** 1. row ***************************
           Procedure: proc1
            sql_mode: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
    Create Procedure: CREATE DEFINER=`root`@`localhost` PROCEDURE `proc1`()
begin
select * from student;
end
character_set_client: gbk
collation_connection: gbk_chinese_ci
  Database Collation: utf8_general_ci
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3从information_schemaroutine-表中查看存储过程的信息&#34;&gt;&amp;gt; 3.从information_schema.Routine 表中查看存储过程的信息&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; select * from information_schema.Routines
    -&amp;gt; where routine_name=&#39;proc1&#39;
    -&amp;gt; and routine_type=&#39;procedure&#39; \G
*************************** 1. row ***************************
           SPECIFIC_NAME: proc1
         ROUTINE_CATALOG: def
          ROUTINE_SCHEMA: chapter06
            ROUTINE_NAME: proc1
            ROUTINE_TYPE: PROCEDURE
               DATA_TYPE:
CHARACTER_MAXIMUM_LENGTH: NULL
  CHARACTER_OCTET_LENGTH: NULL
       NUMERIC_PRECISION: NULL
           NUMERIC_SCALE: NULL
      CHARACTER_SET_NAME: NULL
          COLLATION_NAME: NULL
          DTD_IDENTIFIER: NULL
            ROUTINE_BODY: SQL
      ROUTINE_DEFINITION: begin
select * from student;
end
           EXTERNAL_NAME: NULL
       EXTERNAL_LANGUAGE: NULL
         PARAMETER_STYLE: SQL
        IS_DETERMINISTIC: NO
         SQL_DATA_ACCESS: CONTAINS SQL
                SQL_PATH: NULL
           SECURITY_TYPE: DEFINER
                 CREATED: 2020-11-25 09:15:20
            LAST_ALTERED: 2020-11-25 09:15:20
                SQL_MODE: STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
         ROUTINE_COMMENT:
                 DEFINER: root@localhost
    CHARACTER_SET_CLIENT: gbk
    COLLATION_CONNECTION: gbk_chinese_ci
      DATABASE_COLLATION: utf8_general_ci
1 row in set (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;根据学号查询&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure proc43(in myid int)
    -&amp;gt; begin
    -&amp;gt; select name from student where id=myid;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; delimiter ;
mysql&amp;gt; call proc43(1) ;
+------+
| name |
+------+
| tom  |
+------+
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;根据输入的ID从学生表中查询该ID对应的姓名,并输出姓名&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; delimiter //
mysql&amp;gt; create procedure test1(in myid int,out myname varchar(36))
    -&amp;gt; begin
    -&amp;gt; select name into myname from student where id=myid;
    -&amp;gt; end //
Query OK, 0 rows affected (0.00 sec)

mysql&amp;gt; delimiter ;
mysql&amp;gt; call test1(3,@myname) ;	//调用存储过程
Query OK, 1 row affected (0.00 sec)

mysql&amp;gt; select @myname ;			//查看返回结果
+---------+
| @myname |
+---------+
| rose    |
+---------+
1 row in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;633-修改存储过程&#34;&gt;&amp;gt; 6.3.3 修改存储过程&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在MySQL中可以使用alter语句修改存储过程&lt;/p&gt;
&lt;p&gt;语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;ALTER {PROCEDURE|FUNCTION} sp_name[characteristic…]
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;sp_name：表示存储过程或函数的名称。characteristic：表示要修改存储过程的哪个部分&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;characteristic 的取值如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;1.contains sql 表示子程序中包括sql语句, 但不包含读或写数据的语句;
2.no sql 表示子程序中不包括sql语句;
3.reads sql data 表示表示子程序中包括读数据的语句;
4.modifies sql data	表示子程序中包括写数据的语句;
5.sql security{definer|invoker}	指明谁有权限来执行;
6.definer 表示只有定义者自己才能执行;
7.invoker	表示调用者可以执行;
8.comment &#39;string&#39; 表示注释信息;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;注意: 目前此版本Mysql还不提供对已存在的存储过程代码的修改, 如果一定要修改存储过程代码, 必须先将存储过程删除之后, 再重新编写代码, 或创建一个新的存储过程&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h4 id=&#34;634-删除存储过程&#34;&gt;&amp;gt; 6.3.4 删除存储过程&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在MySQL中使用DROP语句修改存储过程，语法如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;DROP{ procedure|function }[if exists] sp_name
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;if exists 表示如果程序不存在, 它可以避免发生错误, 产生一个警告&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;71-视图概述&#34;&gt;7.1 视图概述&lt;/h2&gt;
&lt;p&gt;​		视图是从基本表中导出来的表，是一种虚拟存在的表, 并且表的结构和数据都依赖于基本表&lt;/p&gt;
&lt;p&gt;通过视图不仅可以看到放在基本表中的数据, 并且还可以像操作基本表一样, 对视图中存放的数据进行查询&lt;/p&gt;
&lt;p&gt;删除,修改 .与直接操作表相比视图具有以下优点:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.简化查询语句&lt;br&gt;
日常开发中我们可以将经常使用的查询定义为视图，从而使用户避免大量重复的操作。&lt;br&gt;
2安全性&lt;br&gt;
通过视图用户只能查询和修改他们所能见到的数据，数据库中的其他数据则既看不到也取不到。&lt;br&gt;
3逻辑数据独立性&lt;br&gt;
视图可以帮助用户屏蔽真实表结构变化带来的影响。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;72-视图管理&#34;&gt;7.2 视图管理&lt;/h2&gt;
&lt;h4 id=&#34;721-创建视图的语法格式&#34;&gt;&amp;gt; 7.2.1 创建视图的语法格式:&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create [or replace] [algorithm={undefined | merge | temptable]
view view_name [(column_list)]
as select_statement
[where [cascaded|local] check option]
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;CREATE：表示创建视图的关键字。&lt;br&gt;
OR REPLACE：表示该语句能够替换已有视图。&lt;br&gt;
ALGORITHM：可选，表示视图选择的算法。&lt;br&gt;
UNDEFINED：表示MySQL将自动选择所要使用的算法。&lt;br&gt;
MERGE：使得视图定义的某一部分取代语句的对应部分。&lt;br&gt;
TEMPTABLE：表示将视图的结果存入临时表，然后使用临时表执行语句。&lt;br&gt;
view_name：表示要创建的视图名称。&lt;br&gt;
column_list：可选，表示属性清单。&lt;br&gt;
AS：表示指定视图要执行的操作。&lt;br&gt;
SELECT_statement：表示从某个表或视图中查出满足条件的记录，并导入视图中。&lt;br&gt;
WITH CHECK OPTION：可选，表示创建视图时要保证在该视图的权限范围之内。&lt;br&gt;
CASCADED：需要满足跟该视图有关的所有相关视图和表的条件，该参数为默认值。&lt;br&gt;
LOCAL：可选。表示创建视图时，只要满足该视图本身定义的条件即可。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h4 id=&#34;722-在单标上创建视图&#34;&gt;&amp;gt;7.2.2 在单标上创建视图&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在student表上创建view_stu视图和view_stu2视图(自定义字段名)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1.创建数据库,表,插入数据&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create database chapter07;
Query OK, 1 row affected (0.04 sec)

mysql&amp;gt; use chapter07
Database changed
mysql&amp;gt; create table student(
    -&amp;gt; s_id int(3),
    -&amp;gt; name varchar(20),
    -&amp;gt; math float,
    -&amp;gt; chinese float
    -&amp;gt; );
Query OK, 0 rows affected (0.05 sec)

mysql&amp;gt; insert into student(s_id,name,math,chinese) values
    -&amp;gt; (1,&#39;Tom&#39;,80,78),
    -&amp;gt; (2,&#39;Jack&#39;,70,80),
    -&amp;gt; (3,&#39;Lucy&#39;,97,95);
Query OK, 3 rows affected (0.05 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&amp;gt; select * from student;
+------+------+------+---------+
| s_id | name | math | chinese |
+------+------+------+---------+
|    1 | Tom  |   80 |      78 |
|    2 | Jack |   70 |      80 |
|    3 | Lucy |   97 |      95 |
+------+------+------+---------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.创建视图并查询&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create view view_stu as select math,chinese,math+chinese from student;
mysql&amp;gt; select * from view_stu;
+------+---------+--------------+
| math | chinese | math+chinese |
+------+---------+--------------+
|   80 |      78 |          158 |
|   70 |      80 |          150 |
|   97 |      95 |          192 |
+------+---------+--------------+
3 rows in set (0.00 sec)

mysql&amp;gt; create view view_stu2(math,chinese,sum) as select math,chinese,math+chinese from student;
Query OK, 0 rows affected (0.02 sec)

mysql&amp;gt; select * from view_stu2; 
+------+---------+------+
| math | chinese | sum  |
+------+---------+------+
|   80 |      78 |  158 |
|   70 |      80 |  150 |
|   97 |      95 |  192 |
+------+---------+------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;723-在多表上创建视图&#34;&gt;&amp;gt; 7.2.3 在多表上创建视图&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在student表和stu_info表中创建stu_class视图, 查询s_id号,姓名和班级&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1.创建数据库,表,插入数据&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create table stu_info(
    -&amp;gt; s_id int(3),
    -&amp;gt; class varchar(50),
    -&amp;gt; addr varchar(100)
    -&amp;gt; );
Query OK, 0 rows affected (0.01 sec)

mysql&amp;gt; insert into stu_info(s_id,class,addr) values
    -&amp;gt; (1,&#39;erban&#39;,&#39;anhui&#39;),
    -&amp;gt; (2,&#39;sanban&#39;,&#39;chongqing&#39;),
    -&amp;gt; (3,&#39;yiban&#39;,&#39;shandong&#39;);
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&amp;gt; select * from stu_info;
+------+--------+-----------+
| s_id | class  | addr      |
+------+--------+-----------+
|    1 | erban  | anhui     |
|    2 | sanban | chongqing |
|    3 | yiban  | shandong  |
+------+--------+-----------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.创建视图并查询&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create view stu_class(id,name,class) as select student.s_id,student.name,stu_info.class from student,stu_info where student.s_id=stu_info.s_id;
Query OK, 0 rows affected (0.02 sec)

mysql&amp;gt; select * from stu_class;
+------+------+--------+
| id   | name | class  |
+------+------+--------+
|    1 | Tom  | erban  |
|    2 | Jack | sanban |
|    3 | Lucy | yiban  |
+------+------+--------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;724-查看视图&#34;&gt;&amp;gt;  7.2.4 查看视图&lt;/h4&gt;
&lt;h5 id=&#34;1-使用describe-语句查看视图&#34;&gt;&amp;gt; 1. 使用describe 语句查看视图&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用: 使用DESCRIBE语句可以查看视图的字段信息&lt;/p&gt;
&lt;p&gt;语法: DESCRIBE 视图名;   或  DESC 视图名;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: desc[describe] stu_class;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-使用-show-table-status&#34;&gt;&amp;gt; 2. 使用 show table status&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用: 可以查看视图的基本信息&lt;/p&gt;
&lt;p&gt;语法: SHOW TABLE STATUS LIKE &#39;视图名&#39;;	----&amp;gt; 注意like 引号&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: show table status like &#39;stu_class&#39; \G;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-使用-show-create-view&#34;&gt;&amp;gt; 3.  使用 show create view&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;作用: 不仅可以查看创建视图时的定义语句，还可以查看视图的字符编码&lt;/p&gt;
&lt;p&gt;语法: SHOW CREATE VIEW 视图名;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: show create view stu_class \G;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;725-修改视图&#34;&gt;&amp;gt; 7.2.5 修改视图&lt;/h4&gt;
&lt;h5 id=&#34;1-使用-create-or-replace-view-语句修改视图&#34;&gt;&amp;gt; 1. 使用 create or replace view 语句修改视图;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;语法 : create or replace view 视图名 as select 表中字段 from 表名&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;create or replace view view_stu as select * from student;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-使用-alter-语句修改视图&#34;&gt;&amp;gt; 2. 使用 alter 语句修改视图;&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;语法 :  alter view 视图名 as select 表中字段 from 表名&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;alter view view_stu as select chinese from student;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;726-更新视图&#34;&gt;&amp;gt; 7.2.6 更新视图&lt;/h4&gt;
&lt;h5 id=&#34;1-使用update-语句更新视图&#34;&gt;1. 使用update 语句更新视图&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;update view_stu set chinese=100;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-使用insert-语句更新视图&#34;&gt;2. 使用insert 语句更新视图&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;insert into student values(4,&#39;Lily&#39;,100,100);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-使用delete语句更新视图&#34;&gt;3. 使用delete语句更新视图&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;delete from view_stu2 where math=10;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h4 id=&#34;727-删除视图&#34;&gt;7.2.7 删除视图&lt;/h4&gt;
&lt;p&gt;视图不在需要时,可以将其删除,删除视图只会删除视图的定义,不会删除数据.&lt;/p&gt;
&lt;p&gt;删除一个或多个视图可以使用dorp view语句, 删除视图的基本语法格式如下所示:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;drop view [if exists]
view_name [,view_name1] ...
[restrict|cascade]

view_name 是指要删除的视图的名称,视图名称可以添加多个,各个名称用逗号隔开,删除视图必须有root权限
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 删除view_stu2视图
drop view if exists view_stu2;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;h2 id=&#34;81-数据备份与还原&#34;&gt;8.1 数据备份与还原&lt;/h2&gt;
&lt;h4 id=&#34;811-数据的备份&#34;&gt;8.1.1 数据的备份&lt;/h4&gt;
&lt;p&gt;通过MySQL的mysqldump命令实现数据的备份&lt;/p&gt;
&lt;h5 id=&#34;1-备份单个数据库&#34;&gt;1. 备份单个数据库&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;mysqldump 命令备份数据库的语法格式如下 :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysqldump -u username -p password dbname [tbname] [tbname2...] &amp;gt; filename.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语法格式中, -u后面的参数username 表示用户名, -p 后面的参数 password表示登录密码, dbname 表示需要备份的数据库的名称, tbname表示数据库中的表名, 可以指定一个表或多个表, &lt;mark&gt;多个表之间用空格隔开&lt;/mark&gt;, 如果不指定则备份整个数据库, filename.sql 表示备份文件的名称, 文件名前可以加上绝对路径&lt;/p&gt;
&lt;p&gt;注意: 在使用mysqldump命令备份数据库时, 直接在dos命令行窗口中执行该命令即可, 不需要登录到mysql数据库&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;例如:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 创建一个名称为chapter08的数据库, 并在数据库中创建表student, 插入相应数据
mysql&amp;gt; create database chapter08
mysql&amp;gt; use chapter08
Database changed
mysql&amp;gt; create table student(
    -&amp;gt; id int primary key auto_increment,
    -&amp;gt; name varchar(20),
    -&amp;gt; age int
    -&amp;gt; );
Query OK, 0 rows affected (0.01 sec)

mysql&amp;gt; insert into student(name,age) values
    -&amp;gt; (&#39;Tom&#39;,20),
    -&amp;gt; (&#39;Jack&#39;,16),
    -&amp;gt; (&#39;Lucy&#39;,18);
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&amp;gt; select * from student;
+----+------+------+
| id | name | age  |
+----+------+------+
|  1 | Tom  |   20 |
|  2 | Jack |   16 |
|  3 | Lucy |   18 |
+----+------+------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;首先在C盘创建一个名为backupdb的 文件夹用来存备份好的文件夹, 然后重新开启一个dos命令行窗口( 不需要登录到MySQL数据库), 使用mysqldump命令登录备份chapter08&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: 
C:\Users\ASUS&amp;gt;mysqldump -u root -p chapter08 &amp;gt; C:/backupdb/chapter08.sql
Enter password: ****
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看备份:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- MySQL dump 10.13  Distrib 5.5.28, for Win32 (x86)
--
-- Host: localhost    Database: chapter08
-- ------------------------------------------------------
-- Server version	5.5.28

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE=&#39;+00:00&#39; */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `student`
--

DROP TABLE IF EXISTS `student`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `student` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(20) DEFAULT NULL,
  `age` INT(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `student`
--

LOCK TABLES `student` WRITE;
/*!40000 ALTER TABLE `student` DISABLE KEYS */;
INSERT INTO `student` VALUES (1,&#39;Tom&#39;,20),(2,&#39;Jack&#39;,16),(3,&#39;Lucy&#39;,18);
/*!40000 ALTER TABLE `student` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-12-16  8:30:50
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-备份多个数据库&#34;&gt;2. 备份多个数据库&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysqldump –u username –p password -–database dbname1 [dbname2 dbname3…]
&amp;gt;filename.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-备份所以数据库&#34;&gt;3. 备份所以数据库&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysqldump –uusername –ppassword -–all-databases&amp;gt;filename.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;812-数据的还原&#34;&gt;8.1.2 数据的还原&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法: mysql –uusername –ppassword [dbname] &amp;lt;filename.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1-删除数据库&#34;&gt;1. 删除数据库&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; drop database chapter08;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-创建数据库&#34;&gt;2. 创建数据库&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; create database chapter08;
Query OK, 1 row affected (0.01 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-还原数据库&#34;&gt;3. 还原数据库&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;C:\Users\ASUS&amp;gt;mysql -u root -p chapter08 &amp;lt; C:/backupdb/chapter08-1.sql
Enter password: ****
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;4-查看数据&#34;&gt;4. 查看数据&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; use chapter08
Database changed
mysql&amp;gt; select * from student;
+----+------+------+
| id | name | age  |
+----+------+------+
|  1 | Tom  |   20 |
|  2 | Jack |   16 |
|  3 | Lucy |   18 |
+----+------+------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;82-用户管理&#34;&gt;8.2 用户管理&lt;/h2&gt;
&lt;h4 id=&#34;821-user表&#34;&gt;8.2.1 user表&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;在安装数据库的时候会自动安装一个名为mysql的数据库, 该数据库中的表都是权限表, 如user, db, host ,table_priv&lt;/p&gt;
&lt;p&gt;其中user表是最重要的一个权限表, 它记录了允许链接到服务器的账号信息以及一些全局级的权限信息, 通过操作表就可以对这些信息进行修改&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysql&amp;gt; use mysql
mysql&amp;gt; desc user;
+------------------------+-----------------------------------+------+-----+---------+-------+
| Field  字段名 			| Type  数据类型					| Null | Key | Default | Extra |
+------------------------+-----------------------------------+------+-----+---------+-------+
| Host                   | char(60)                          | NO   | PRI |         |       |
| User                   | char(16)                          | NO   | PRI |         |       |
| Password               | char(41)                          | NO   |     |         |       |
| Select_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Insert_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Update_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Delete_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Drop_priv              | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Reload_priv            | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Shutdown_priv          | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Process_priv           | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| File_priv              | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Grant_priv             | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| References_priv        | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Index_priv             | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Alter_priv             | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Show_db_priv           | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Super_priv             | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_tmp_table_priv  | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Lock_tables_priv       | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Execute_priv           | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Repl_slave_priv        | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Repl_client_priv       | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_view_priv       | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Show_view_priv         | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_routine_priv    | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Alter_routine_priv     | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_user_priv       | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Event_priv             | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Trigger_priv           | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| Create_tablespace_priv | enum(&#39;N&#39;,&#39;Y&#39;)                     | NO   |     | N       |       |
| ssl_type               | enum(&#39;&#39;,&#39;ANY&#39;,&#39;X509&#39;,&#39;SPECIFIED&#39;) | NO   |     |         |       |
| ssl_cipher             | blob                              | NO   |     | NULL    |       |
| x509_issuer            | blob                              | NO   |     | NULL    |       |
| x509_subject           | blob                              | NO   |     | NULL    |       |
| max_questions          | int(11) unsigned                  | NO   |     | 0       |       |
| max_updates            | int(11) unsigned                  | NO   |     | 0       |       |
| max_connections        | int(11) unsigned                  | NO   |     | 0       |       |
| max_user_connections   | int(11) unsigned                  | NO   |     | 0       |       |
| plugin                 | char(64)                          | YES  |     |         |       |
| authentication_string  | text                              | YES  |     | NULL    |       |
+------------------------+-----------------------------------+------+-----+---------+-------
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;1-用户列&#34;&gt;1. 用户列&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;用户列包括Host、User、Password,分别代表主机名、用户名和密码&lt;/p&gt;
&lt;p&gt;其中Host和User列为user表的联合主键&lt;/p&gt;
&lt;p&gt;当修改密码时，只需要修改,user表中Password字段的值即可&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;2-权限列&#34;&gt;2. 权限列&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;user表的权限列包括Select_priv、Insert_priv、Update_priv等以priv结尾的字段，这些字段决定了用户的权限，其中包括查询权限、修改权限、关闭服务等权限。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;3安全列&#34;&gt;3.安全列&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;user表的安全列用于管理用户的安全信息，其中包括6个字段，具体如下：&lt;br&gt;
ssl_type和ssl_cipher：用于加密&lt;br&gt;
x509_issuer和x509_subject标准：可以用来标识用户&lt;br&gt;
plugin和authentication_string：用于存储与授权相关的插件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;4-资源控制列&#34;&gt;4. 资源控制列&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;资源控制列是用于限制用户使用的资源，包括4个字段，具体如下：&lt;br&gt;
max_questions：每小时允许用户执行查询操作的次数&lt;br&gt;
max_updates：每小时允许用户执行更新操作的次数&lt;br&gt;
max_connections：每小时允许用户建立连接的次数&lt;br&gt;
max_user_connections：允许单个用户同时建立连接的次数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;822-创建普通用户&#34;&gt;8.2.2 创建普通用户&lt;/h4&gt;
&lt;h5 id=&#34;1-使用-grant-语句创建用户&#34;&gt;1. 使用 grant 语句创建用户&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;GRANT privileges ON database.table
      TO &#39;username&#39;@&#39;hostname&#39; [IDENTIFIED BY [PASSWORD]&#39;password&#39;]
      [,&#39;username&#39;@&#39;hostname [IDENTIFIED BY [PASSWORD]&#39;password&#39;]] …
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;privileges 参数表示该用户具有的权限信息, database.table 表示新用户的权限范围表, 可以在指定的数据库, 表上使用自己的权限, username参数是新用户的名称, hostname参数是主机名, password参数是新用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;例如: 使用grant 语句创建一个新用户, 用户名是user1, 密码是 123, 并授予该用户对chapter08.student 表具有查询权限&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;grant select on chapter08.student to &#39;user1&#39;@&#39;localhost&#39; identified by &#39;123&#39;;
mysql&amp;gt; select host,user,password from user;
+-----------+-------+-------------------------------------------+
| host      | user  | password                                  |
+-----------+-------+-------------------------------------------+
| localhost | root  | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |
| localhost | user1 | *23AE809DDACAF96AF0FD78ED04B6A265E05AA257 |
| %         | root  | *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B |
+-----------+-------+-------------------------------------------+
3 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-使用-create-user-语句创建用户&#34;&gt;2. 使用 create user 语句创建用户&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;CREATE USER &#39;username&#39;@&#39;hostname&#39;[IDENTIFIED BY [PASSWORD]&#39;password&#39;]
       [,&#39;username&#39;@&#39;hostname&#39;[IDENTIFIED BY [PASSWORD]&#39;password&#39;]]…
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;username参数是新用户的名称, hostname参数是主机名,identified by关键字用于设置用户的密码, password 表示用户的密码, [PASSWORD] 关键字表示使用哈希值设置的密码, 该参数是可选的, 如果密码是一个普通的字符串, 就不需要使用PASSWORD 关键字&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 使用create user语句创建一个新用户, 用户名为user2, 密码是123, create user语法如下:
create user &#39;user2&#39;@&#39;localhost&#39; identified by &#39;123&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-使用-insert-语句创建用户&#34;&gt;3. 使用 insert 语句创建用户&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;INSERT INTO mysql.user(Host,User,Password,ssl_cipher、x509_issuer、x509_subject)
VALUES(&#39;hostname&#39;,&#39;username&#39;,PASSWORD(&#39;password&#39;),&#39;&#39;,&#39;&#39;,&#39;&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语法格式中, mysql.user表示操作的表, Host,User,Password,ssl_cipher、x509_issuer、x509_subject 为相应字段&lt;/p&gt;
&lt;p&gt;PASSWORD( ) 是一个加密函数, 用于给密码加密&lt;/p&gt;
&lt;p&gt;注意: 使用insert添加用户时, 通常只需要添加host, user和password这三个字段即可, 其他字段取默认值,但由于&lt;/p&gt;
&lt;p&gt;Host,User,Password,ssl_cipher、x509_issuer、x509_subject 字段是没有默认值的, 因此insert语句创建用户时, 还需要为这几个字段设置初始值&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 使用insert 语句直接在mysql.user表中创建一个新用户, 用户名为user3, 密码为123 ,insert语句如下: 
insert into mysql.user(Host,User,Password,scl_cipher,x509_issuer,x509_subject)
values(&#39;localhost&#39;,&#39;user3&#39;,password(&#39;123&#39;),&#39;&#39;,&#39;&#39;); 
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;注意:&lt;/mark&gt; insert语句没有刷新权限表的功能, 因此,user3用户暂时不能使用,为了让当前用户生效, 还需要手动刷新当前的权限表或重新启动mysql服务, 刷新权限表的语句如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;flush privileges;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;823-删除普通用户&#34;&gt;8.2.3 删除普通用户&lt;/h4&gt;
&lt;h5 id=&#34;1-使用drop-user-语句删除用户&#34;&gt;1. 使用drop user 语句删除用户&lt;/h5&gt;
&lt;p&gt;drop user语句与drop database 语句有些相似, 如果删除某个用户, 只需在 drop user 后面指定要删除的用户信息即可&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;drop user &#39;username&#39;@&#39;hostname&#39;[,&#39;username&#39;@&#39;hostname&#39;];
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;username 表示要删除的用户, hostname表示主机名, drop user语句可以同时删除一个或多个用户, 多个用户之间可以使用逗号隔开&lt;/p&gt;
&lt;p&gt;注意: 使用drop user语句来删除用户时, 必须拥有drop user 权限&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;使用drop user语句删除用户 user1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;drop user &#39;user&#39;@&#39;localhost&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-使用-delete-语句删除用户&#34;&gt;2. 使用 delete 语句删除用户&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;delete语句不仅可以删除普通表中的数据, 还可以删除 user表中的数据, 使用该语句删除 user表中的数据时, 只需要指定表名为mysql.user, 以及要删除的用户信息即可, 同样的, 在使用delete语句时必须拥有对mysql.user表的delete权限&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;语法格式如下: delete from mysql.user where host=&#39;hostname&#39; and user=&#39;username&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语法格式中, mysql.user 参数指定要操作的表, where 指定条件语句, host和user 都是mysql.user 表的字段,&lt;/p&gt;
&lt;p&gt;这两个字段可以确定唯一的一条记录&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 使用delete语句删除用户 user2
delete from mysql.user where host=&#39;localhost&#39; and user=&#39;user2&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;注意&lt;/mark&gt;: 由于直接对user表进行操作, 执行完命令后需要使用&#39;flush privileges&#39; 语句重新加载用户权限&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;824-修改用户密码&#34;&gt;8.2.4 修改用户密码&lt;/h4&gt;
&lt;h5 id=&#34;1-修改-root用户密码&#34;&gt;1. 修改 root用户密码&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;一. 通过mysqladmin命令修改root用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;mysqladmin命令通常用于执行一些管理性工作&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;mysqladmin -u username [-h hostname] -p password new_password;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;username为要修改的用户名, 这里指的是root用户, 参数 -h 用于指定对应的主机, 可以省略不写, 默认为 localhost&lt;/p&gt;
&lt;p&gt;-p 后面的password为关键字, 而不是修改后的密码, new_password 为新设置的密码&lt;/p&gt;
&lt;p&gt;注意: 在使用mysqladmin命令修改root用户密码时, 需要在 C: \document and setting\administrator&amp;gt;目录下进行修改&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: 在命令行窗口中使用mysqladmin命令, 将root用户的密码修改为mypwd1,sql语句如下: 
mysqladmin -u root -p password mypwd1
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;二. 通过update语句修改root用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;由于所以的用户信息都存放在mysql.user表中, 因此,只有root用户登录到MySQL服务器, 使用update语句就可以直接修改自己的密码&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;语法格式如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;update mysql.user set password=password(&#39;mypwd2&#39;) where user=&#39;root&#39; and host=&#39;localhost&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;上述语法执行成功后, 还需要使用 flush privileges 重新加载权限表, 然后就可以使用新密码登录 mysql数据库&lt;/p&gt;
&lt;p&gt;结果如下 :&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;三. 使用set 语句修改root用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;root用户登录到mysql数据库后, 还可以通过set语句修改root用户的密码&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;set语句修改密码的语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;set password=password(&#39;new_password&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;注意: 由于set语句没有对密码加密的功能, 因此, 新密码必须使用password() 函数加密, 并且新密码需要使用引号括起&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;例如: root用户登录到mysql数据库, 使用set 语句将root用户的密码修改为mypwd3, set语句如下:
set password=password(&#39;mypwd3&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;2-root-用户修改普通用户的密码&#34;&gt;2. root 用户修改普通用户的密码&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;1.使用grant语句修改普通用户密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;grant语句的作用比较多, 不仅可以创建用户授权, 还可以修改用户的密码, 通常情况下, 为了不影响当前账户的权限, 可以使用grant usage语句修改指定的账户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;grant语句修改密码语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;grant usage on * . * to &#39;username&#39;@&#39;localhost&#39; identified by [password] &#39;new_password&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;2.使用update语句修改普通用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;root用户具有操作数据库的所有权限, 因此, 它不仅可以使用update语句修改自己的密码, 还可以使用update语句修改普通用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;update的语法格式为与root修改用户密码的语法格式相同&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;update mysql.user set password=password(&#39;new_password&#39;)
where user=&#39;username&#39; and host=&#39;hostname&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;mark&gt;注意&lt;/mark&gt;: &lt;mark&gt;通过上述语句修改完普通用户的密码后, 还需要使用flush privileges语句重新加载权限表&lt;/mark&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;3.使用set语句修改普通用户的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;set 不仅可以修改root用户的密码, 而且还可以修改普通用户密码, 在修改普通用户密码时, 还需要增加一个for子句, 指定要修改哪一个用户即可&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;set语句修改密码的语法格式如下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;set password for &#39;username&#39;@&#39;hostname&#39;=password(&#39;new_password&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;3-普通用户修改密码&#34;&gt;3. 普通用户修改密码&lt;/h5&gt;
&lt;blockquote&gt;
&lt;p&gt;普通用户也可以修改自己的密码, 这样普通用户就不需要每次修改密码时都通知管理员, 普通用户登录到MySQL服务器后, 可以通过set语句来设置自己的密码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;set语句的基本格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;set password=password(&#39;new_password&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;set语句修改普通用户密码时, 和修改root用户是一样的, 都需要使用password() 函数进行加密&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id=&#34;83-权限管理&#34;&gt;8.3 权限管理&lt;/h2&gt;
&lt;h4 id=&#34;831-mysql的权限&#34;&gt;8.3.1 MySQL的权限&lt;/h4&gt;
&lt;p&gt;Mysql中的权限信息被储存在mysql 数据库的 user,db,host,table_priv,column_priv和procs_priv表中, 当MySQL启动时会自动加载这些权限信息, 并将这些权限信息读取到内存中&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;C:%5CUsers%5CASUS%5CDesktop%5C%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%871.png&#34; alt=&#34;图片1&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;权限解释:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;1. create和drop的权限, 可以创建数据库,表,索引,或者删除已有的数据库, 表, 索引
2. insert, delete,update,select 权限,可以对数据库中的表进行增删改查操作
3. index权限,可以创建或删除索引, 适用于所以的表
4. alter权限.可以用于修改表的结构或重命名表
5. grant权限, 允许为其他用户授权, 可用于数据库和表
6. file权限, 被赋予该权限的用户能读写MySQL服务器上的任何文件
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;832-授予权限&#34;&gt;8.3.2 授予权限&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;我们之所以可以对数据进行增删改查的操作，是因为数据库中的用户拥有不同的权限，合理的授权可以保证数据库的安全&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;MySQL中的GRANT语句可以为用户授权，语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;GRANT privileges [(columns)][,privileges[(columns)]] ON database.table
TO &#39;username&#39;@&#39;hostname&#39; [IDENTIFIED BY [PASSWORD]&#39;password&#39;]
[,&#39;username&#39;@&#39;hostname&#39; [IDENTIFIED BY [PASSWORD]&#39;password&#39;]] …
[WITH with_option [with_option]…]
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;privileges：表示权限类型。&lt;br&gt;
columns：参数表示权限作用于某一列，该参数可以省略不写，此时权限作用于整个表，username：表示用户名。&lt;br&gt;
hostname表示主机名。&lt;br&gt;
IDENTIFIED BY：参数为用户设置密码。&lt;br&gt;
PASSWORD参数为关键字.&lt;br&gt;
password为用户的新密码。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;WITH关键字后面可以带有多个参数with_option，这个参数有五个取值&lt;/p&gt;
&lt;p&gt;具体如下:&lt;/p&gt;
&lt;p&gt;GRANT OPTION：将自己的权限授予其他用户MAX_QUERIES_PER_HOUR count：设置每小时最多可以执行多少次（count）查询。&lt;br&gt;
MAX_UPDATES_PER_HOUR count：设置每小时最多可以执行多少次更新。&lt;br&gt;
MAX_CONNECTIONS_PER_HOUR count：设置每小时最大的连接数量。&lt;br&gt;
MAX_USER_CONNECTIONS：设置每个用户最多可以同时建立连接的数量。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;833-查看权限&#34;&gt;8.3.3 查看权限&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;虽然使用SELECT语句可以查询user表中的权限信息，但是该语句需要指定用户和查询的权限，比较麻烦，MySQL还提供了一个查看权限的简单语句-SHOW GRANTS语句&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;SHOW GRANTS的语法格式如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SHOW GRANTS FOR &#39;username&#39;@&#39;hostname&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;语法格式相对简单, 只需要指定查询的用户名和主机名即可&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;例1: 使用show grants语句查询root用户的权限信息&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;show grants for &#39;root&#39;@&#39;hostname&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;例2: 使用show grants语句查询user4 用户的权限信息&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;show grants for &#39;user4&#39;@&#39;hostname&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;834-收回权限&#34;&gt;8.3.4 收回权限&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;为了保证数据库的安全性，需要将用户不必要的权限收回，收回用户权限使用REVOKE语句&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;收回用户指定权限, 语法格式如下所示 :&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;REVOKE privileges [columns][,privileges[(columns)]] ON database.table 
FROM &#39;username&#39;@&#39;hostname&#39;[,&#39;username&#39;@&#39;hostname&#39;] …
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;revoke语法格式中的参数与grant语句中的参数意思相同, privileges参数表示收回的权限,columns表示权限作用于哪列上, 如果不指定该参数表示作用于整个表&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用revoke语句收回user4用户的insert权限, revoke语句如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;revoke insert on * . * from &#39;user&#39;@&#39;localhost&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果权限比较多可以使用收回所以权限的功能&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;收回用户全部权限, 语法格式如下所示 :&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;REVOKE ALL PRIVILEGES,GRANT OPTION 
FROM  &#39;username&#39;@&#39;hostname&#39; [,&#39;username&#39;@&#39;hostname&#39;] …
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;使用revoke语句收回user4用户的insert权限, revoke语句如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;revoke all privileges,grant option from &#39;user4&#39;@&#39;localhost&#39;;
&lt;/code&gt;&lt;/pre&gt;
">朝花夕拾 Mysql</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;欢迎来到我的小站呀，很高兴遇见你！🤝&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;关于本站&#34;&gt;🏠 关于本站&lt;/h2&gt;
&lt;h2 id=&#34;博主是谁&#34;&gt;👨‍💻 博主是谁&lt;/h2&gt;
&lt;h2 id=&#34;兴趣爱好&#34;&gt;⛹ 兴趣爱好&lt;/h2&gt;
&lt;h2 id=&#34;联系我呀&#34;&gt;📬 联系我呀&lt;/h2&gt;
">关于</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://aoianz.github.io/post/hello-gridea/"" data-c="
          &lt;p&gt;👏  欢迎使用 &lt;strong&gt;Gridea&lt;/strong&gt; ！&lt;br&gt;
✍️  &lt;strong&gt;Gridea&lt;/strong&gt; 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/getgridea/gridea&#34;&gt;Github&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://gridea.dev/&#34;&gt;Gridea 主页&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://fehey.com/&#34;&gt;示例网站&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;特性&#34;&gt;特性👇&lt;/h2&gt;
&lt;p&gt;📝  你可以使用最酷的 &lt;strong&gt;Markdown&lt;/strong&gt; 语法，进行快速创作&lt;/p&gt;
&lt;p&gt;🌉  你可以给文章配上精美的封面图和在文章任意位置插入图片&lt;/p&gt;
&lt;p&gt;🏷️  你可以对文章进行标签分组&lt;/p&gt;
&lt;p&gt;📋  你可以自定义菜单，甚至可以创建外部链接菜单&lt;/p&gt;
&lt;p&gt;💻  你可以在 &lt;strong&gt;Windows&lt;/strong&gt;，&lt;strong&gt;MacOS&lt;/strong&gt; 或 &lt;strong&gt;Linux&lt;/strong&gt; 设备上使用此客户端&lt;/p&gt;
&lt;p&gt;🌎  你可以使用 &lt;strong&gt;𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌&lt;/strong&gt; 或 &lt;strong&gt;Coding Pages&lt;/strong&gt; 向世界展示，未来将支持更多平台&lt;/p&gt;
&lt;p&gt;💬  你可以进行简单的配置，接入 &lt;a href=&#34;https://github.com/gitalk/gitalk&#34;&gt;Gitalk&lt;/a&gt; 或 &lt;a href=&#34;https://github.com/SukkaW/DisqusJS&#34;&gt;DisqusJS&lt;/a&gt; 评论系统&lt;/p&gt;
&lt;p&gt;🇬🇧  你可以使用&lt;strong&gt;中文简体&lt;/strong&gt;或&lt;strong&gt;英语&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;🌁  你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力&lt;/p&gt;
&lt;p&gt;🖥  你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步&lt;/p&gt;
&lt;p&gt;🌱 当然 &lt;strong&gt;Gridea&lt;/strong&gt; 还很年轻，有很多不足，但请相信，它会不停向前 🏃&lt;/p&gt;
&lt;p&gt;未来，它一定会成为你离不开的伙伴&lt;/p&gt;
&lt;p&gt;尽情发挥你的才华吧！&lt;/p&gt;
&lt;p&gt;😘 Enjoy~&lt;/p&gt;
">Hello Gridea</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/js/motion.js"></script>


<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/love.js"></script>


<script src="https://cdn.jsdelivr.net/gh/aoianz/Aoianz.github.io@main/media/js/cool.js"></script>



<script src="https://cdn.jsdelivr.net/gh/lete114/CDN/Sum/sakura.js"></script>

</html>